---
title: Оптимизация доставки содержимого Azure для вашего сценария
description: Оптимизация доставки содержимого для конкретных сценариев
services: cdn
documentationcenter: ''
author: dksimpson
manager: ''
editor: ''
ms.assetid: ''
ms.service: cdn
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/24/2018
ms.author: rli
ms.openlocfilehash: de748f7fa33b0250b1572dd5ae55cddf15003a0e
ms.sourcegitcommit: e221d1a2e0fb245610a6dd886e7e74c362f06467
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/07/2018
---
# <a name="optimize-azure-content-delivery-for-your-scenario"></a>Оптимизация доставки содержимого Azure для вашего сценария

При передаче содержимого большой аудитории очень важно оптимизировать доставку содержимого. Сеть доставки содержимого Azure (CDN) может оптимизировать процесс доставки на основе типа содержимого. В качестве содержимого может выступать веб-сайт, поток, видео или большой файл для скачивания. При создании конечной точки CDN сценарий оптимизации указывается в параметре **Оптимизировано для**. Выбранный сценарий оптимизации определяет, каким образом будет оптимизировано содержимое, доставляемое из конечной точки сети доставки содержимого.

В сценариях оптимизации используются рекомендуемые шаблоны поведения для повышения производительности доставки содержимого и более эффективной разгрузки источника. Выбранный сценарий влияет на производительность путем изменения конфигураций частичного кэширования, фрагментирования объектов и политики выполнения повторных попыток при возникновении ошибок для источника. 

В этой статье представлен обзор различных функций оптимизации и описано, когда их следует использовать. Дополнительные сведения о функциях и ограничениях см. в соответствующих статьях для каждого отдельного типа оптимизации.

> [!NOTE]
> Возможные значения параметра **Оптимизировано для** могут различаться в зависимости от выбранного поставщика. Поставщики сети доставки содержимого применяют улучшение различными способами в зависимости от сценария. 

## <a name="provider-options"></a>Параметры поставщика

**Azure CDN уровня "Стандартный" от Майкрософт** поддерживает следующие оптимизации.

* [Общая веб-доставка](#general-web-delivery). Эта оптимизация также используется для потоковой передачи мультимедиа и скачивания больших файлов.


**Azure CDN уровня "Стандартный" от Verizon** и **Azure CDN уровня "Премиум" от Verizon** поддерживают следующие оптимизации:

* [Общая веб-доставка](#general-web-delivery). Эта оптимизация также используется для потоковой передачи мультимедиа и скачивания больших файлов.

* [Динамическое ускорение сайтов](#dynamic-site-acceleration) 


**Azure CDN уровня "Стандартный" от Akamai** поддерживает следующие оптимизации:

* [общая веб-доставка](#general-web-delivery); 

* [общая потоковая передача мультимедиа](#general-media-streaming);

* [потоковая передача видео по запросу](#video-on-demand-media-streaming);

* [скачивание больших файлов](#large-file-download);

* [Динамическое ускорение сайтов](#dynamic-site-acceleration) 

Корпорация Майкрософт рекомендует сравнить производительность между разными поставщиками, чтобы правильно выбрать оптимального поставщика для вашего сценария доставки.

## <a name="select-and-configure-optimization-types"></a>Выбор и настройка типов оптимизации

Чтобы создать новую конечную точку, выберите тип оптимизации, который наилучшим образом соответствует сценарию и типу содержимого, которое должна предоставлять конечная точка. По умолчанию выбрана **Общая веб-доставка**. Для существующих конечных точек **сети доставки содержимого Azure от Akamai** вариант оптимизации можно обновить в любое время. Такое изменение не приведет к прерыванию доставки из сети доставки содержимого Azure. 

1. Выберите конечную точку в профиле **Azure CDN уровня "Стандартный" от Akamai**.

    ![Выбор конечной точки ](./media/cdn-optimization-overview/01_Akamai.png)

2. В разделе "Параметры" выберите **Оптимизация**. Выберите тип из раскрывающегося списка **Оптимизировано для**.

    ![Оптимизация и тип выбора](./media/cdn-optimization-overview/02_Select.png)

## <a name="optimization-for-specific-scenarios"></a>Оптимизация для конкретных сценариев

Вы можете оптимизировать конечную точку сети доставки содержимого для одного из этих сценариев. 

### <a name="general-web-delivery"></a>Общая веб-доставка

Наиболее распространенный вариант оптимизации — общая веб-доставка. Она предназначена для оптимизации общего веб-содержимого, такого как веб-страницы и веб-приложения. Эту оптимизацию также можно использовать для скачивания файлов и видео.

Типичный веб-сайт включает статическое и динамическое содержимое. К статическому содержимому относятся изображения, библиотеки JavaScript и таблицы стилей, которые можно кэшировать и доставлять различным пользователям. Динамическое содержимое персонализировано для отдельных пользователей (например, новости, которые привязаны к профилю пользователя). Динамическое содержимое не кэшируется, поскольку оно уникально для каждого пользователя, например содержимое корзины покупателя. С помощью общей веб-доставки можно оптимизировать весь веб-сайт. 

> [!NOTE]
> Если вы используете **Azure CDN уровня "Стандартный" от Akamai**, эта оптимизация полезна для файлов со средним размером не более 10 МБ. Если средний размер файла превышает 10 МБ, выберите **Скачивание больших файлов** в раскрывающемся списке **Оптимизировано для**.

### <a name="general-media-streaming"></a>Общая потоковая передача мультимедиа

Если необходимо использовать конечную точку для динамической потоковой передачи и потоковой передачи видео по запросу, рекомендуется использовать оптимизацию общей потоковой передачи мультимедиа.

Потоковая передача мультимедиа зависит от времени, так как при позднем поступлении пакетов у клиента могут возникнуть неудобства при просмотре, например из-за частой буферизации видео. Потоковая оптимизация позволяет сократить задержку доставки содержимого мультимедиа и обеспечивает бесперебойную потоковую передачу для пользователей. 

Этот сценарий характерен для клиентов службы мультимедиа Azure. При использовании служб мультимедиа Azure вы получаете одну конечную точку потоковой передачи, которая может использоваться как для потоковой передачи в реальном времени, так и для потоковой передачи по запросу. В этом сценарии клиентам не требуется переключаться на другую конечную точку при переходе от потоковой передачи в реальном времени к потоковой передаче по запросу. Оптимизация общей потоковой передачи мультимедиа поддерживает такой сценарий.

В **Azure CDN уровня "Стандартный" от Майкрософт**, **Azure CDN уровня "Стандартный" от Verizon** и **Azure CDN уровня "Премиум" от Verizon** используйте тип оптимизации "Общая веб-доставка" для потоковой передачи обычного мультимедийного содержимого.

Дополнительные сведения об оптимизации потоковой передачи мультимедиа см. в статье [Оптимизация потоковой передачи мультимедиа через сеть доставки содержимого Azure](cdn-media-streaming-optimization.md).

### <a name="video-on-demand-media-streaming"></a>Потоковая передача видео по запросу

Оптимизация потоковой передачи видео по запросу улучшает потоковую передачу видео по запросу. При использовании конечной точки для потоковой передачи видео по запросу можно использовать этот вариант оптимизации.

В **Azure CDN уровня "Стандартный" от Майкрософт**, **Azure CDN уровня "Стандартный" от Verizon** и **Azure CDN уровня "Премиум" от Verizon** используйте тип оптимизации "Общая веб-доставка" для потоковой передачи мультимедийного содержимого "Видео по запросу".

Дополнительные сведения об оптимизации потоковой передачи мультимедиа см. в статье [Оптимизация потоковой передачи мультимедиа через сеть доставки содержимого Azure](cdn-media-streaming-optimization.md).

> [!NOTE]
> Если конечная точка CDN используется преимущественно для доставки видео по запросу, используйте этот тип оптимизации. Основное отличие между этим сценарием оптимизации и оптимизацией общей потоковой передачи мультимедиа является время ожидания повторного подключения. При потоковой передаче в реальном времени время ожидания повторного подключения намного короче.

### <a name="large-file-download"></a>Скачивание больших файлов

В **Azure CDN уровня "Стандартный" от Akamai** оптимизация скачивания больших файлов рассчитана на содержимое с размером файлов более 10 МБ. Если в вашем сценарии средний размер файлов меньше 10 МБ, используйте оптимизацию для общей веб-доставки. Если средний размер файла существенно превышает 10 МБ, следует создать отдельную конечную точку для больших файлов. Например, обновления встроенного программного обеспечения или обычного программного обеспечения обычно включают большие файлы. Для доставки файлов, размер которых превышает 1,8 ГБ, обязательно используйте оптимизацию скачивания больших файлов.

В **Azure CDN уровня "Стандартный" от Майкрософт**, **Azure CDN уровня "Стандартный" от Verizon** и **Azure CDN уровня "Премиум" от Verizon** используйте тип оптимизации "Общая веб-доставка" для доставки файлов большого размера. Здесь нет ограничений на размер файла для скачивания.

Дополнительные сведения об оптимизации скачивания больших файлов см. в разделе [Оптимизация скачивания больших файлов через сеть доставки содержимого Azure](cdn-large-file-optimization.md).

### <a name="dynamic-site-acceleration"></a>Динамическое ускорение сайтов

 Динамическое ускорение сайтов доступно для следующих профилей: **Azure CDN уровня "Стандартный" от Akamai**, **Azure CDN уровня "Стандартный" от Verizon** и **Azure CDN уровня "Премиум" от Verizon**. За использование этой оптимизации взимается дополнительная плата. Дополнительные сведения см. на странице [цен на сеть доставки содержимого](https://azure.microsoft.com/pricing/details/cdn/).

Динамическое ускорение сайтов включает различные методы, которые уменьшают задержку и повышают производительность для динамического содержимого. К таким методам относятся оптимизация маршрутов и сети, оптимизация TCP и др. 

Такую оптимизацию можно применить для ускорения веб-приложения, в котором используются несколько ответов, которые невозможно кэшировать. К ним относятся, например, результаты поиска, транзакции покупок и данные в реальном времени. Для статических данных можно использовать базовые функции кэширования сети доставки содержимого. 

Дополнительные сведения о динамическом ускорении сайтов см. в статье [Динамическое ускорение сайтов с помощью Azure CDN](cdn-dynamic-site-acceleration.md).



