---
title: Основные отчеты Verizon | Документация Майкрософт
description: 'Вы можете просмотреть статистику по использованию CDN в следующих отчетах: "Пропускная способность", "Переданные данные", "Попадания", "Состояния кэша", "Коэффициент попадания в кэш", "Данные, переданные по протоколам IPV4/IPV6".'
services: cdn
documentationcenter: ''
author: zhangmanling
manager: erikre
editor: ''
ms.assetid: 5a0d9018-8bdb-48ff-84df-23648ebcf763
ms.service: cdn
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/23/2017
ms.author: mazha
ms.openlocfilehash: fa828bfa736d677fb4881e5cc2628c0e03eb8749
ms.sourcegitcommit: 7f1ce8be5367d492f4c8bb889ad50a99d85d9a89
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/06/2017
ms.locfileid: "26345253"
---
# <a name="core-reports-from-verizon"></a>Основные отчеты Verizon

[!INCLUDE[cdn-verizon-only](../../includes/cdn-verizon-only.md)]

Основные отчеты Verizon, доступные на портале управления для профилей Verizon, позволяют изучить статистику использования CDN с помощью следующих отчетов.

* Пропускная способность
* Переданные данные
* Попадания
* Состояния кэша
* Коэффициент попаданий в кэш
* Переданные данные по протоколам IPV4/IPV6

## <a name="accessing-verizon-core-reports"></a>Доступ к основным отчетам Verizon
1. В колонке профиля сети CDN нажмите кнопку **Управление** .
   
    ![Кнопка "Управление" для профиля CDN](./media/cdn-reports/cdn-manage-btn.png)
   
    Откроется портал управления CDN.
2. Наведите указатель на вкладку **Аналитика**, а затем — на всплывающий элемент **Core Reports** (Базовые отчеты). Щелкните отчет в меню.
   
    ![Портал управления CDN — меню базовых отчетов](./media/cdn-reports/cdn-core-reports.png)

3. Для каждого отчета выберите диапазон дат из списка **Диапазон дат**. Вы можете выбрать из раскрывающегося списка предопределенный диапазон дат, например **Сегодня** или **За эту неделю**, либо ввести диапазон дат вручную, щелкнув вариант **Настраиваемый** и значки календаря. 

4. Выбрав диапазон дат, нажмите кнопку **Вперед**, чтобы создать отчет. 

4. Если вы хотите экспортировать данные в формате Excel, щелкните значок Excel над кнопкой **Вперед**.

## <a name="bandwidth"></a>Пропускная способность
Отчет о пропускной способности состоит из графика и таблицы данных, в которой указано использование пропускной способности (в Мб/с) сети доставки содержимого для протоколов HTTP и HTTPS за определенный период времени. Вы можете просматривать использование пропускной способности по всем POP или для конкретного POP. Отчет позволяет просматривать пики и распределение трафика по POP.

В списке **Узлы Edge** выберите вариант **Все узлы Edge**, чтобы увидеть трафик со всех узлов, или выберите конкретный регион.

Отчет обновляется каждые пять минут.

![Отчет о пропускной способности](./media/cdn-reports/cdn-bandwidth.png)

## <a name="data-transferred"></a>Переданные данные
Этот отчет состоит из графика и таблицы данных, в которой указан трафик сети доставки содержимого по HTTP и HTTPS за определенный период времени. Вы можете просматривать использование трафика по всем POP или для конкретного POP. Отчет позволяет просматривать пики и распределение трафика по POP.

В списке **Узлы Edge** выберите вариант **Все узлы Edge**, чтобы увидеть трафик со всех узлов, или выберите конкретный регион.

Отчет обновляется каждые пять минут.

![Отчет о переданных данных](./media/cdn-reports/cdn-data-transferred.png)

## <a name="hits-status-codes"></a>Попадания (коды состояния)
В этом отчете описывается распределение кодов состояния запросов для вашего содержимого. Каждый запрос содержимого создает код состояния HTTP. Код состояния описывает то, как крайние POP обработали запрос. Например, код состояния 2xx означает, что запрос был успешно передан клиенту, в то время как код состояния 4xx указывает на наличие ошибки. Дополнительные сведения о кодах состояния HTTP см. в [этой статье](https://en.wikipedia.org/wiki/List_of_HTTP_status_codes).

![Отчет о попаданиях](./media/cdn-reports/cdn-hits.png)

## <a name="cache-statuses"></a>Состояния кэша
В этом отчете описывается распределение попаданий и непопаданий в кэш для клиентского запроса. Так как наибольшая производительность достигается при попадании в кэш, вы можете оптимизировать скорость предоставления данных, сведя к минимуму непопадания и попадания, потерявшие актуальность. 

Чтобы снизить число непопаданий в кэш, настройте исходный сервер с минимальным использованием следующего: 
 * заголовки ответов `no-cache`;
 * кэширование строк запросов, если без него можно обойтись;  
 * некэшируемые коды ответа.

Чтобы снизить число попаданий, потерявших актуальность, установите для ресурса большое значение параметра `max-age`. Это позволяет свести к минимуму число запросов на сервер-источник.

![Отчет о попаданиях в кэш](./media/cdn-reports/cdn-cache-statuses.png)

### <a name="main-cache-statuses-include"></a>Существуют следующие состояния кэша:
* TCP_HIT: предоставлено с пограничного сервера. Объект найден в кэше и не превысил максимальный возраст.
* TCP_MISS: предоставлено с сервера-источника. Объект не найден в кэше, ответ получен от сервера-источника.
* TCP_EXPIRED _MISS: предоставлено с сервера-источника после сверки с оригиналом. Объект найден в кэше, однако он превысил установленный максимальный возраст. Повторная сверка с сервером-источником привела к тому, что объект кэша был замещен новым откликом от источника.
* TCP_EXPIRED _HIT: получено с Edge после повторной сверки с источником. Объект находился в кэше, однако он превысил максимальный возраст, заданный для него. Повторная сверка с сервером-источником привела к тому, что объект кэша остался неизменным.

### <a name="full-list-of-cache-statuses"></a>Полный список состояний кэша
* TCP_HIT ― это состояние передается тогда, когда запрос напрямую обрабатывается на POP и передается в клиент. Ресурс немедленно предоставляется от POP, если он кэширован на ближайшей к клиенту POP и имеет допустимое значение срока жизни (TTL). TTL определяется следующими заголовками отклика:
  
  * Cache-Control: s-maxage
  * Cache-Control: max-age
  * Expires
* TCP_MISS — это состояние указывает, что кэшированная версия запрошенного ресурса не была найдена на ближайшем к клиенту POP. Ресурс запрашивается с сервера-источника или защитного сервера-источника. Если сервер-источник или защитный сервер-источник возвратит ресурс, он будет передан клиенту и кэширован и на клиенте, и на граничном сервере. Иначе возвращается код состояния, отличный от 200 (например, 403 "Запрещено" или 404 "Не найдено").
* TCP_EXPIRED _HIT — это состояние передается, если POP напрямую передает клиенту ответ на запрос к определенному ресурсу, срок жизни которого истек. Например, так происходит при превышении максимального возраста (max-age) ресурса. 
  
   Запрос, срок действия которого истек, обычно приводит к формированию запроса на повторную сверку с сервером-источником. Чтобы возникло состояние TCP_EXPIRED _HIT, сервер-источник должен указать, что более новой версии ресурса не существует. Эта ситуация обычно приводит к обновлению заголовков Cache-Control и Expires для соответствующего ресурса.
* TCP_EXPIRED _MISS — это состояние возникает в том случае, когда от POP клиенту передается новая версия просроченного ресурса. Этот статус возникает, когда истекает TTL для кэшированного ресурс-контейнера (например, истек срок, заданный в параметре max-age), а сервер-источник возвращает более новую версию этого ресурса. Клиенту вместо кэшированной версии передается новая версия ресурса. Кроме того, она кэшируется на граничном сервере и на клиенте.
* CONFIG_NOCACHE — это состояние указывает, что клиентская конфигурация на пограничном POP не позволила кэшировать ресурс.
* NONE — это состояние указывает на то, что проверка актуальности содержимого кэша не была выполнена.
* TCP_ CLIENT_REFRESH _MISS — это состояние передается, если клиент HTTP (например, браузер) требует принудительно получить с сервера-источника новую версию ресурса, устаревшая копия которого размещена на пограничном POP. По умолчанию серверы не позволяют клиенту HTTP инициировать принудительное получение пограничными серверами новой версии ресурса с сервера-источника.
* TCP_ PARTIAL_HIT — это состояние возникает, когда запрос по диапазону байтов находит совпадение с частично кэшированным ресурсом. Запрошенный диапазон байтов немедленно передается от POP клиенту.
* UNCACHEABLE — это состояние возникает, когда заголовки ресурса `Cache-Control` и `Expires` указывают, что он не должен кэшироваться в POP или в клиенте HTTP. Эти типы запросов обслуживаются на сервере-источнике.

## <a name="cache-hit-ratio"></a>Коэффициент попаданий в кэш
В этом отчете указывается процент кэшированных запросов, обработанных напрямую из кэша.

Он содержит указанные ниже сведения.

* Запрошенное содержимое было кэшировано на ближайшем к запрашивающему клиенту POP.
* Запрос был обработан непосредственно на уровне границы в нашей сети.
* Запрос не потребовал повторной сверки с сервером-источником.

В отчете отсутствуют:

* Запросы, в обработке которых отказано из-за параметров фильтрации, зависящих от страны.
* Запросы ресурсов, заголовки которых указывают, что они не должны кэшироваться. Например, заголовки `Cache-Control: private`, `Cache-Control: no-cache` и `Pragma: no-cache` запрещают кэширование ресурса.
* Запросы диапазона байтов для частично кэшированного содержимого.

Формула: (TCP_ HIT/(TCP_ HIT+TCP_MISS))*100

![Отчет о коэффициенте попадания в кэш](./media/cdn-reports/cdn-cache-hit-ratio.png)

## <a name="ipv4ipv6-data-transferred"></a>Переданные данные по протоколам IPV4/IPV6
В этом отчете показано распределение использования трафика по протоколам IPV4 и IPV6.

![Переданные данные по протоколам IPV4/IPV6](./media/cdn-reports/cdn-ipv4-ipv6.png)

## <a name="considerations"></a>Рекомендации
Отчеты могут формироваться только за последние 18 месяцев.

