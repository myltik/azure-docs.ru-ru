---
title: "Создание веб-приложения Azure (цен. категория \"Базовый\") в IntelliJ"
description: "В этом учебнике показано, как с помощью набора средств Azure для IntelliJ создать веб-приложение Hello World для Azure."
services: app-service\web
documentationcenter: java
author: selvasingh
manager: routlaw
editor: 
ms.assetid: 75ce7b36-e3ae-491d-8305-4b42ce37db4e
ms.service: app-service-web
ms.workload: web
ms.tgt_pltfrm: na
ms.devlang: Java
ms.topic: article
ms.date: 08/20/2017
ms.author: robmcm;asirveda
ms.translationtype: HT
ms.sourcegitcommit: a16daa1f320516a771f32cf30fca6f823076aa96
ms.openlocfilehash: 260302a49c65106728e0aa8347e9fb89a8c8c270
ms.contentlocale: ru-ru
ms.lasthandoff: 09/02/2017

---
# <a name="create-a-basic-azure-web-app-in-intellij"></a>Создание веб-приложения Azure (цен. категория "Базовый") в IntelliJ

В этом руководстве показано, как создать базовое приложение Hello World для Azure и развернуть его как веб-приложение с помощью [набора средств Azure для IntelliJ].

> [!NOTE]
> 
> Набор средств Azure для IntelliJ был обновлен в августе 2017 года. В него был добавлен другой рабочий процесс. С учетом этого в этой статье содержатся два различных раздела:
>
> * В первом разделе показано создание веб-приложения Hello World с помощью набора средств Azure для IntelliJ версии от августа 2017 года (или более поздней).
>
> * Во втором разделе этой статьи показано создание веб-приложения Hello World с помощью набора средств версии от апреля 2017 года (или более ранней).
> 

[!INCLUDE [azure-toolkit-for-intellij-prerequisites](../../includes/azure-toolkit-for-intellij-prerequisites.md)]

## <a name="create-a-hello-world-web-app-by-using-the-version-307-or-later-toolkit"></a>Создание веб-приложения Hello World с помощью набора средств версии 3.0.7 или более поздней

### <a name="create-a-new-web-app-project"></a>Создание проекта веб-приложения

1. Запустите IntelliJ и войдите в свою учетную запись Azure, следуя инструкциям из статьи "Инструкции по входу для набора средств Azure для IntelliJ".

1. Щелкните меню **File** (Файл), выберите команду **New** (Создать), а затем — **Project** (Проект).
   
   ![Создание проекта][file-new-project]

1. В диалоговом окне **New Project** (Новый проект) выберите **Maven**, а затем **maven-archetype-webapp** и щелкните **Next** (Далее).
   
   ![Выбор веб-приложения архетипа Maven][maven-archetype-webapp]
   
1. Укажите значение **GroupId** (Идентификатор группы) и **ArtifactId** (Идентификатор артефакта) для веб-приложения и щелкните **Next** (Далее).
   
   ![Указание идентификатора группы и артефакта][groupid-and-artifactid]

1. Настройте любые параметры Maven или примите значения по умолчанию и щелкните **Next** (Далее).
   
   ![Указание параметров Maven][maven-options]

1. Укажите имя и расположение проекта, а затем щелкните **Finish** (Готово).
   
   ![Указание имени проекта][project-name]

1. В представлении обозревателя проектов IntelliJ разверните **src**, а затем **main**, **webapp** и дважды щелкните **index.jsp**.
   
   ![Открытие страницы индексов][open-index-page]

1. При открытии в IntelliJ файла index.jsp добавьте код для динамического отображения фразы **Hello World!** в существующий элемент `<body>`. Обновленное содержимое элемента `<body>` должно выглядеть так:
   
   ```java
   <body><b><% out.println("Hello World!"); %></b></body>
   ``` 

   ![Изменение страницы индексов][edit-index-page]

1. Сохраните index.jsp.

### <a name="deploy-your-web-app-to-azure"></a>Развертывание веб-приложения в Azure

1. В представлении обозревателя проектов IntelliJ щелкните правой кнопкой мыши проект, выберите **Azure**, а затем — **Run on Web App** (Выполнить в веб-приложении).
   
   ![Пункт меню Run on web app (Выполнить в веб-приложении)][run-on-web-app-menu]

1. В диалоговом окне Run on Web App (Выполнение в веб-приложении) можно выбрать один из таких вариантов:

   * Выберите имеющееся веб-приложение (если оно есть) и нажмите кнопку **Run** (Выполнить).

      ![Диалоговое окно Run on Web App (Выполнение в веб-приложении)][run-on-web-app-dialog]

   * Щелкните **Create New Web App** (Создать веб-приложение). Если вы решите создать веб-приложение, укажите требуемую информацию для веб-приложения и нажмите кнопку **Run** (Выполнить).

      ![Создание веб-приложения][create-new-web-app-dialog]

1. Набор средств отобразит сообщение о состоянии при успешном развертывании веб-приложения, где будет содержаться URL-адрес развернутого веб-приложения.

   ![Развертывание завершено успешно][successfully-deployed]

1. Перейти к своему веб-приложению можно с помощью ссылки, предоставленной в сообщении о состоянии.

   ![Просмотр веб-приложения][browse-web-app]

1. После публикации веб-приложения параметры будут сохранены в качестве параметров по умолчанию. Приложение можно запустить в Azure, щелкнув значок зеленой стрелки на панели инструментов. Вы можете изменить параметры, щелкнув раскрывающееся меню для веб-приложения, а затем — **Edit Configurations** (Изменить конфигурации).

   ![Пункт меню Edit configuration (Изменить конфигурацию)][edit-configuration-menu]

1. При отображении диалогового окна **Run/Debug Configurations** (Конфигурации выполнения и отладки) можно изменить любые параметры по умолчанию, а затем нажать кнопку **ОК**.

   ![Диалоговое окно Edit configuration (Изменение конфигурации)][edit-configuration-dialog]

<hr />

## <a name="create-a-hello-world-web-app-by-using-the-version-306-or-earlier-toolkit"></a>Создание веб-приложения Hello World с помощью набора средств версии 3.0.6 или более ранних

### <a name="create-a-new-web-app-project"></a>Создание проекта веб-приложения

1. Запустите IntelliJ и щелкните меню **File** (Файл), затем щелкните **New** (Создать) и **Project** (Проект).
   
   ![Файл > Создать > Проект][02]

2. В диалоговом окне **New Project** (Создание проекта) выберите **Java**, а затем установите флажок **Web Application** (Веб-приложение) и нажмите кнопку **New** (Создать), чтобы добавить пакет SDK проекта.
   
   ![Диалоговое окно "Новый проект"][03a]
   
3. В диалоговом окне "Select Home Directory for JDK" (Выбор корневого каталога для JDK) выберите папку для установки JDK, затем нажмите кнопку **ОК**. Нажмите кнопку **Next** (Далее) в диалоговом окне "New Project" (Создание проекта), чтобы продолжить.
   
   ![Указание корневого каталога JDK][03b]

4. Укажите имя проекта **Java-Web-App-On-Azure** и нажмите кнопку **Готово**.
   
   ![Диалоговое окно "Новый проект"][04]

5. В представлении обозревателя проектов IntelliJ разверните **Java-Web-App-On-Azure**, а затем разверните **web** и дважды щелкните **index.jsp**.
   
   ![Открытие страницы индексации][05c]

6. При открытии в IntelliJ файла index.jsp добавьте код для динамического отображения фразы **Hello World!** в существующий элемент `<body>`. Обновленное содержимое элемента `<body>` должно выглядеть так:
   
   ```java
   <body><b><% out.println("Hello World!"); %></b></body>
   ```

7. Сохраните index.jsp.

### <a name="deploy-your-web-app-to-azure"></a>Развертывание веб-приложения в Azure
Есть несколько способов, с помощью которых можно развернуть веб-приложение Java в Azure. В этом учебнике описывается один из самых простых: ваше приложение будет развернуто в контейнер веб-приложения Azure — для этого не нужно выбирать особый тип проекта и не требуются дополнительные инструменты. JDK и программное обеспечение веб-контейнера будут предоставлены Azure, поэтому нет необходимости загружать их самостоятельно. Все, что вам нужно — ваше веб-приложение Java. В результате процесс публикации приложения занимает несколько секунд, а не минут.

Прежде чем публиковать приложение, необходимо сначала настроить параметры модуля. Для этого выполните следующие действия.

1. Щелкните правой кнопкой мыши по проекту **Java-Web-App-On-Azure** в обозревателе проектов IntelliJ. В открывшемся контекстном меню щелкните **Open Module Settings** (Открыть параметры модуля).

   ![Открытие параметров модуля][05a]

2. В отобразившемся диалоговом окне "Project Structure" (Структура проекта) выполните следующее.

   а. В списке **Project Settings** (Параметры проекта) щелкните **Artifacts** (Артефакты).

   b. Измените имя артефакта в поле **Name** (Имя) таким образом, чтобы оно не содержало пробелы или специальные знаки. Это необходимо, так как имя будет использоваться в универсальном коде ресурса (URI).

   В. Измените значение параметра **Type** (Тип) на **Web Application: Archive** (Веб-приложение: архив).

   d. Нажмите кнопку **OK**, чтобы закрыть диалоговое окно "Project Structure" (Структура проекта).

   ![Открытие параметров модуля][05b]

После настройки параметров модуля можно опубликовать приложение в Azure, выполнив следующие действия.

1. Щелкните правой кнопкой мыши по проекту **Java-Web-App-On-Azure** в обозревателе проектов IntelliJ. В контекстном меню выберите **Azure**, а затем щелкните **Publish as Azure Web App** (Опубликовать как веб-приложение Azure).
   
   ![Контекстное меню публикации в Azure][06]

2. Если вы еще не вошли в Azure из IntelliJ, появится запрос на вход в учетную запись Azure. При наличии нескольких учетных записей Azure некоторые запросы во время входа в систему могут отображаться несколько раз, даже если они выглядят одинаковыми. Если это происходит, выполните вход согласно указаниям.
   
   ![Диалоговое окно входа в Azure][07]

3. После успешного входа в учетную запись Azure в диалоговом окне **Управление подписками** отобразится список подписок, связанных с вашими учетными данными. (Если список содержит несколько подписок и вы будете работать только с некоторыми из них, снимите флажки для подписок, которые не будете использовать.) После выбора подписок щелкните **Закрыть**.
   
   ![Управление подписками][08]

4. При открытии диалогового окна **Deploy to Azure Web App Container** (Развертывание в контейнер веб-приложения Azure) в нем будут показаны все контейнеры веб-приложений, созданные ранее. Если вы не создали ни одного контейнера, список будет пустым.
   
   ![Контейнеры приложений][09]

5. Если вы не создавали контейнер веб-приложения Azure или хотите опубликовать приложение в новый контейнер, выполните следующие действия. В противном случае выберите существующий контейнер веб-приложения и перейдите к шагу 6 ниже.
   
   а. Щелкните символ **+**.
      
      ![Добавление контейнера приложения][10]

   b. Откроется окно **Новый контейнер веб-приложения** , которым мы воспользуемся для нескольких следующих шагов.
      
      ![Создание контейнера приложения][11a]
   
   c. Укажите **метку DNS** для контейнера веб-приложения. Она образует метку листа DNS для URL-адреса узла веб-приложения в Azure. (Примечание. Имя должно быть доступным и соответствовать требованиям к именованию веб-приложений Azure.)

   d. В раскрывающемся меню **Веб-контейнер** выберите для своего приложения соответствующее программное обеспечение.
      
      На данный момент можно выбрать Tomcat 8, Tomcat 7 или Jetty 9. Последний дистрибутив выбранного программного обеспечения, предоставленный Azure, будет запущен в последнем дистрибутиве JDK 8, созданном Oracle и предоставленном Azure.

   д. В раскрывающемся меню **Подписка** выберите подписку, которую вы хотите использовать для этого развертывания.

   f. В раскрывающемся меню **Группа ресурсов** выберите группу ресурсов, с которой вы хотите связать свое веб-приложение. (Группы ресурсов Azure позволяют сгруппировать связанные ресурсы, чтобы, например, удалить их одновременно.)
      
      Можно выбрать существующую группу ресурсов (если она есть) и перейти к шагу g ниже, или создать новую, выполнив следующее.
      
      * Из раскрывающегося меню **Группы ресурсов** выберите пункт **&lt;&lt;Создать новую группу ресурсов&gt;&gt;**.
      * Откроется диалоговое окно **Новая группа ресурсов** :
        
         ![Создание группы ресурсов][12]

      * В текстовое поле **Name** (Имя) введите имя новой группы ресурсов.
      * В раскрывающемся меню **Region** (Регион) выберите расположение центра обработки данных Azure для группы ресурсов.
      * Нажмите кнопку **ОК**.

   ж. В раскрывающемся меню **План службы приложений** перечислены планы службы приложений, связанные с выбранной группой ресурсов. В плане службы приложений указываются такие сведения, как расположение веб-приложения, ценовая категория и размер вычислительной операции. Один план службы приложений можно использовать для нескольких веб-приложений, поэтому он поддерживается отдельно от развертывания конкретного веб-приложения.)
      
      Можно выбрать существующий план службы приложений (если он есть) и перейти к шагу h ниже, или создать новый, выполнив следующее.
      
      * Из раскрывающегося меню **План службы приложений** выберите пункт **&lt;&lt;Создать новый план службы приложений&gt;&gt;**.
      * Откроется диалоговое окно **Новый план службы приложений** :
        
         ![Новый план службы приложений][13]

      * В текстовое поле **Name** (Имя) введите имя нового плана службы приложений.
      * В раскрывающемся меню **Location** (Расположение) выберите расположение центра обработки данных Azure для плана.
      * В раскрывающемся меню **Pricing Tier** (Ценовая категория) выберите соответствующую ценовую категорию для плана. Для тестирования можно выбрать категорию **Бесплатный**.
      * В раскрывающемся меню **Instance Size** (Размер экземпляра) выберите для плана соответствующий размер экземпляра. Для тестирования можно выбрать **Маленький**.
      * Нажмите кнопку **ОК**.

   h. (Необязательно.) По умолчанию Azure автоматически развернет последний дистрибутив Java 8 в ваш контейнер веб-приложения в качестве виртуальной машины Java. Тем не менее можно выбрать другую версию и дистрибутив виртуальной машины Java. Для этого выполните следующие действия.
      
      * Щелкните вкладку **JDK** в диалоговом окне **New Web App Container** (Создание контейнера веб-приложения).
      * Можно выбрать один из следующих вариантов:
        
         * Развернуть пакет JDK по умолчанию, предлагаемый в Azure.
         * Развернуть сторонний пакет JDK из раскрывающегося списка дополнительных пакетов JDK, доступных в Azure.
         * Развернуть пользовательский пакет JDK, который должен быть упакован в виде ZIP-файла и быть общедоступным или находиться в учетной записи хранения Azure.
        
      ![Вкладка JDK в окне создания контейнера приложения][11b]

   i. После завершения всех описанных выше действий диалоговое окно "Новый контейнер веб-приложения" должно выглядеть примерно так, как показано ниже:
      
      ![Создание контейнера приложения][14]
   
   j. Нажмите кнопку **ОК** , чтобы создать контейнер веб-приложения.
       
      Подождите несколько секунд. Когда список контейнеров веб-приложений обновится, созданный контейнер веб-приложения должен быть выбран в списке.

6. Теперь все готово для начального развертывания веб-приложения в Azure. Нажмите кнопку **ОК**, чтобы развернуть приложение Java в выбранный контейнер веб-приложения. По умолчанию приложение будет развернуто в подкаталог сервера приложений. Чтобы развернуть приложение в качестве корневого приложения, установите флажок **Deploy to root** (Развернуть в корень) перед нажатием кнопки **ОК**.
   
   ![Развертывание в Azure][15]

7. После этого вы должны увидеть представление **Журнал действий Azure** , в котором будет отображаться состояние развертывания веб-приложения.
   
   ![Индикатор хода выполнения][16]
   
   Процесс развертывания веб-приложения в Azure занимает всего несколько секунд. Когда процесс будет завершен, вы увидите ссылку **Published** (Опубликовано) в колонке **Status** (Состояние). При щелчке по ссылке вы перейдете на домашнюю страницу развернутого веб-приложения. Вы также можете найти свое веб-приложение, выполнив действия, описанные в следующем разделе.

### <a name="browsing-to-your-web-app-on-azure"></a>Переход к веб-приложению в Azure
Чтобы перейти к веб-приложению в Azure, можно использовать представление **Azure Explorer**.

Если представление **Обозреватель Azure** еще не открыто, его можно открыть, щелкнув меню **View** (Представление) в IntelliJ и последовательно выбрав **Tool Windows** (Окна инструментов) и **Service Explorer** (Обозреватель служб). Если ранее вы не вошли в систему, вам будет предложено это сделать.

Когда представление **Azure Explorer** откроется, выполните следующие действия, чтобы перейти к своему веб-приложению: 

1. Разверните узел **Azure** .
2. Разверните узел **Web Apps** (Веб-приложения). 
3. Щелкните правой кнопкой мыши необходимое веб-приложение.
4. В открывшемся контекстном меню выберите пункт **Открыть в браузере**.
   
   ![Просмотр веб-приложения][17]

### <a name="updating-your-web-app"></a>Обновление веб-приложения
Обновить существующее и запущенное веб-приложение Azure быстро и просто. Сделать это можно двумя способами:

* Можно обновить развертывание существующего веб-приложения Java.
* Можно опубликовать дополнительное приложение Java в тот же контейнер веб-приложения.

Процесс в каждом случае идентичен и занимает несколько секунд.

1. В обозревателе проектов IntelliJ щелкните правой кнопкой мыши приложение Java, которое вы хотите обновить или добавить в существующий контейнер веб-приложения.
2. В контекстном меню выберите **Azure**, а затем щелкните **Опубликовать как веб-приложение Azure**.
3. Так как ранее вы уже вошли в систему, вы увидите список существующих контейнеров веб-приложений. Выберите контейнер, в котором вы хотите опубликовать или повторно опубликовать приложение Java, и нажмите кнопку **ОК**.

Через несколько секунд в представлении **Журнал действий Azure** состояние обновленного развертывания изменится на **Опубликовано**, и вы сможете проверить свое обновленное приложение в веб-браузере.

### <a name="starting-stopping-or-restarting-an-existing-web-app"></a>Запуск, остановка или перезапуск существующего веб-приложения
Запустить или остановить существующий контейнер веб-приложения Azure (включая все развернутые в нем приложения Java) можно в представлении **Обозреватель Azure** .

Если представление **Обозреватель Azure** еще не открыто, его можно открыть, щелкнув меню **View** (Представление) в IntelliJ и последовательно выбрав **Tool Windows** (Окна инструментов) и **Service Explorer** (Обозреватель служб). Если ранее вы не вошли в систему, вам будет предложено это сделать.

Когда представление **Azure Explorer** откроется, выполните следующие действия для запуска или остановки веб-приложения: 

1. Разверните узел **Azure** .
2. Разверните узел **Web Apps** (Веб-приложения). 
3. Щелкните правой кнопкой мыши необходимое веб-приложение.
4. В открывшемся контекстном меню выберите **Запустить**, **Остановить** или **Перезапустить**. Обратите внимание, что доступные меню контекстно зависимы, поэтому можно только остановить веб-приложение или запустить веб-приложение, которое в данный момент не запущено.
   
   ![Остановка веб-приложения][18]

## <a name="next-steps"></a>Дальнейшие действия

[!INCLUDE [azure-toolkit-additional-resources](../../includes/azure-toolkit-additional-resources.md)]

Дополнительные сведения о создании веб-приложений Azure см. в разделе [Обзор веб-приложений].

[!INCLUDE [app-service-web-try-app-service](../../includes/app-service-web-try-app-service.md)]

<!-- URL List -->

[Azure Toolkit for Eclipse]: ../azure-toolkit-for-eclipse.md
[набора средств Azure для IntelliJ]: ../azure-toolkit-for-intellij.md
[Create a Hello World Web App for Azure in Eclipse]: ./app-service-web-eclipse-create-hello-world-web-app.md
[Create a Hello World Web App for Azure in IntelliJ]: ./app-service-web-intellij-create-hello-world-web-app.md
[Installing the Azure Toolkit for Eclipse]: ../azure-toolkit-for-eclipse-installation.md
[Installing the Azure Toolkit for IntelliJ]: ../azure-toolkit-for-intellij-installation.md
[What's New in the Azure Toolkit for Eclipse]: ../azure-toolkit-for-eclipse-whats-new.md
[What's New in the Azure Toolkit for IntelliJ]: ../azure-toolkit-for-intellij-whats-new.md

[Azure Java Developer Center]: https://azure.microsoft.com/develop/java/
[Обзор веб-приложений]: ./app-service-web-overview.md
[Apache Tomcat]: http://tomcat.apache.org/
[Jetty]: http://www.eclipse.org/jetty/

<!-- IMG List -->

[01]: ./media/app-service-web-intellij-create-hello-world-web-app/01-Web-Page.png
[02]: ./media/app-service-web-intellij-create-hello-world-web-app/02-File-New-Project.png
[03a]: ./media/app-service-web-intellij-create-hello-world-web-app/03-New-Project-Dialog.png
[03b]: ./media/app-service-web-intellij-create-hello-world-web-app/03-New-Project-SDK-Dialog.png
[04]: ./media/app-service-web-intellij-create-hello-world-web-app/04-New-Project-Dialog.png
[05a]: ./media/app-service-web-intellij-create-hello-world-web-app/05-Open-Module-Settings.png
[05b]: ./media/app-service-web-intellij-create-hello-world-web-app/05-Project-Structure-Dialog.png
[05c]: ./media/app-service-web-intellij-create-hello-world-web-app/05-Open-Index-Page.png
[06]: ./media/app-service-web-intellij-create-hello-world-web-app/06-Azure-Publish-Context-Menu.png
[07]: ./media/app-service-web-intellij-create-hello-world-web-app/07-Azure-Log-In-Dialog.png
[08]: ./media/app-service-web-intellij-create-hello-world-web-app/08-Manage-Subscriptions.png
[09]: ./media/app-service-web-intellij-create-hello-world-web-app/09-App-Containers.png
[10]: ./media/app-service-web-intellij-create-hello-world-web-app/10-Add-App-Container.png
[11a]: ./media/app-service-web-intellij-create-hello-world-web-app/11-New-App-Container.png
[11b]: ./media/app-service-web-intellij-create-hello-world-web-app/11-New-App-Container-JDK-Tab.png
[12]: ./media/app-service-web-intellij-create-hello-world-web-app/12-New-Resource-Group.png
[13]: ./media/app-service-web-intellij-create-hello-world-web-app/13-New-App-Service-Plan.png
[14]: ./media/app-service-web-intellij-create-hello-world-web-app/14-New-App-Container.png
[15]: ./media/app-service-web-intellij-create-hello-world-web-app/15-Deploy-To-Azure.png
[16]: ./media/app-service-web-intellij-create-hello-world-web-app/16-Progress-Indicator.png
[17]: ./media/app-service-web-intellij-create-hello-world-web-app/17-Browse-Web-App.png
[18]: ./media/app-service-web-intellij-create-hello-world-web-app/18-Stop-Web-App.png

[file-new-project]: ./media/app-service-web-intellij-create-hello-world-web-app/file-new-project.png
[maven-archetype-webapp]: ./media/app-service-web-intellij-create-hello-world-web-app/maven-archetype-webapp.png
[groupid-and-artifactid]: ./media/app-service-web-intellij-create-hello-world-web-app/groupid-and-artifactid.png
[maven-options]: ./media/app-service-web-intellij-create-hello-world-web-app/maven-options.png
[project-name]: ./media/app-service-web-intellij-create-hello-world-web-app/project-name.png
[open-index-page]: ./media/app-service-web-intellij-create-hello-world-web-app/open-index-page.png
[edit-index-page]: ./media/app-service-web-intellij-create-hello-world-web-app/edit-index-page.png
[run-on-web-app-menu]: ./media/app-service-web-intellij-create-hello-world-web-app/run-on-web-app-menu.png
[run-on-web-app-dialog]: ./media/app-service-web-intellij-create-hello-world-web-app/run-on-web-app-dialog.png
[create-new-web-app-dialog]: ./media/app-service-web-intellij-create-hello-world-web-app/create-new-web-app-dialog.png
[successfully-deployed]: ./media/app-service-web-intellij-create-hello-world-web-app/successfully-deployed.png
[browse-web-app]: ./media/app-service-web-intellij-create-hello-world-web-app/browse-web-app.png
[edit-configuration-menu]: ./media/app-service-web-intellij-create-hello-world-web-app/edit-configuration-menu.png
[edit-configuration-dialog]: ./media/app-service-web-intellij-create-hello-world-web-app/edit-configuration-dialog.png

