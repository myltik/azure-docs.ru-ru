---
title: 'Обработка платежей Azure Blueprint : требования к безопасности системы'
description: 'Стандарт PCI DSS: требование 6'
services: security
documentationcenter: na
author: simorjay
manager: mbaldwin
editor: tomsh
ms.assetid: 79889fdb-52d2-42db-9117-6e2f33d501e0
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 11/15/2017
ms.author: frasim
ms.openlocfilehash: cd9054afc359d7568fcd08f983f374e0b2bc3792
ms.sourcegitcommit: 9cdd83256b82e664bd36991d78f87ea1e56827cd
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/16/2018
---
# <a name="secure-system-requirements-for-pci-dss-compliant-environments"></a>Требования к безопасности системы для сред, соответствующих стандарту PCI DSS 
## <a name="pci-dss-requirement-6"></a>Стандарт PCI DSS: требование 6

**Разработка и поддержка безопасных систем и приложений**

> [!NOTE]
> Эти требования определены [Советом по стандартам безопасности индустрии платежных карт (Payment Card Industry Security Standards Council, PCI SSC)](https://www.pcisecuritystandards.org/pci_security/) в [стандарте PCI DSS версии 3.2](https://www.pcisecuritystandards.org/document_library?category=pcidss&document=pci_dss). Сведения о процедурах тестирования и рекомендации для каждого требования см. в документации стандарта PCI DSS.

Злоумышленники используют уязвимости безопасности, чтобы получить привилегированный доступ к системам. Многие из этих уязвимостей устранены в предоставленных производителями оборудования исправлениях системы безопасности, которые должны быть установлены сущностями, которые управляют системами. Во всех системах должны быть установлены все соответствующие исправления программного обеспечения для защиты от использования и компрометации данных владельцев карт злоумышленниками и вредоносным программным обеспечением.

> [!NOTE]
> Соответствующими исправлениями программного обеспечения являются те исправления, которые были достаточно оценены и протестированы, чтобы определить, что они не конфликтуют с имеющимися конфигурациями безопасности. Во встроенных приложениях можно избежать многочисленных уязвимостей, используя стандартные процессы разработки системы и безопасные методы кодирования.

## <a name="pci-dss-requirement-61"></a>Стандарт PCI DSS: требование 6.1

**6.1**. Установите процесс выявления уязвимостей безопасности, используя авторитетные внешние источники для получения информации об уязвимостях безопасности, и назначьте ранжирование риска (например, как "высокий", "средний" или "низкий") для вновь обнаруженных уязвимостей безопасности.

> [!NOTE]
> Ранжировка событий риска должна учитывать отраслевые рекомендации и возможные последствия. Например, критерии для определения ранга уязвимости могут включать рассмотрение базовой оценки CVSS и классификации по поставщику или типу уязвимых систем. 
> 
> Методы оценки уязвимостей и присвоения рейтингов рисков варьируются в зависимости от среды организации и стратегии оценки рисков. Ранжирование рисков должно как минимум определять все уязвимости, которые считаются высоким риском для среды. Помимо ранжирования рисков уязвимости могут считаться критическими, если они несут непосредственную угрозу среде, влияют на критически важные системы и могут привести к потенциальному нарушению безопасности, если не будут устранены. Примеры критически важных систем включают системы безопасности, общедоступные устройства и системы, базы данных и другие системы, которые хранят, обрабатывают или передают данные владельцев карт.

**Обязанности:&nbsp;&nbsp;`Shared`**

|||
|---|---|
| **Поставщик<br />(Microsoft&nbsp;Azure)** | Процедуры были установлены и внедрены для проверки уязвимостей на узлах гипервизора на границах области. Сканирование уязвимостей выполняется операционными системами сервера, базами данных и сетевыми устройствами с соответствующими средствами сканирования уязвимостей. Сканирования уязвимостей выполняются как минимум ежеквартально. Microsoft Azure заключает контракты с независимыми оценщиками, чтобы проводить тест на проникновение для границ Microsoft Azure. Кроме того, регулярно проводится проверка Red-Team, а результаты используются для улучшения безопасности. |
| **Клиент<br />(план PCI-DSS&nbsp;)** | Интернет-магазин Contoso снижает риск возникновения уязвимостей с помощью шлюза приложений с WAF и включенного набора правил OWASP. Дополнительные сведения см. в разделе [Шлюз приложений](payment-processing-blueprint.md#application-gateway).|



## <a name="pci-dss-requirement-62"></a>Стандарт PCI DSS: требование 6.2

**6.2**. Убедитесь, что все компоненты системы и программное обеспечение защищены от известных уязвимостей, установив соответствующие исправления безопасности поставщика. Установите критически важные исправления безопасности в течение одного месяца с момента выпуска.

> [!NOTE]
> Критически важные исправления безопасности должны быть идентифицированы в соответствии с процессом ранжирования риска, определенным в требовании 6.1.

**Обязанности:&nbsp;&nbsp;`Shared`**

|||
|---|---|
| **Поставщик<br />(Microsoft&nbsp;Azure)** | Microsoft Azure отвечает за обеспечение защиты всех сетевых устройств и программного обеспечения ОС гипервизора от известных уязвимостей при установке предоставляемых поставщиком исправлений системы безопасности. Существует процесс управления исправлениями, обеспечивающий предотвращение и устранение уязвимостей уровня операционной системы (если клиент не попросит не использовать эту службу). Ежемесячно рабочие сервера сканируются для проверки соответствия исправлений. |
| **Клиент<br />(план PCI-DSS&nbsp;)** | Интернет-магазин Contoso — это решение службы PaaS. Azure обслуживает все исправления службы.|



## <a name="pci-dss-requirement-63"></a>Стандарт PCI DSS: требование 6.3

**6.3**. Безопасно разрабатывайте внутренние и внешние приложения программного обеспечения (в том числе административный доступ к приложениям на основе веб-технологий), а именно:
- в соответствии со стандартом PCI DSS (например, безопасная проверка подлинности и ведение журнала);
- на основе отраслевых стандартов и рекомендаций;
- путем внедрения информационной безопасности на протяжении всего жизненного цикла разработки программного обеспечения. 

> [!NOTE]
> Это применяется ко всему программному обеспечению, разработанному как внутри, так и к заказному или пользовательскому программному обеспечению, разработанному сторонним производителем.

**Обязанности:&nbsp;&nbsp;`Shared`**

|||
|---|---|
| **Поставщик<br />(Microsoft&nbsp;Azure)** | Приложения и конечные точки Microsoft Azure разрабатываются в соответствии с методологией жизненного цикла разработки защищенных приложений (Майкрософт) (SDL), которые соответствуют требованиям DSS. |
| **Клиент<br />(план PCI-DSS&nbsp;)** | Интернет-магазин Contoso предназначен, чтобы отслеживать передовые отраслевые рекомендации по защите данных держателей карт. Руководство по развертыванию предоставляет сведения о мерах безопасности и включает ведение журнала.|



### <a name="pci-dss-requirement-631"></a>Стандарт PCI DSS: требование 6.3.1

**6.3.1**. Удалите разработки, тестовые или пользовательские учетные записи приложений, идентификаторы пользователей и пароли прежде, чем приложения активируются или будут отправлены клиентам.

**Обязанности:&nbsp;&nbsp;`Shared`**

|||
|---|---|
| **Поставщик<br />(Microsoft&nbsp;Azure)** | Окончательная проверка безопасности (FSR) выполняется для основных выпусков перед развертыванием в рабочей среде назначенным консультантом по безопасности вне группы разработчиков Azure, чтобы обеспечить выпуск только готовых к выпуску приложений. В рамках этой окончательной проверки обеспечивается удаление всех тестовых учетных записей и тестовых данных. |
| **Клиент<br />(план PCI-DSS&nbsp;)** | Интернет-магазин Contoso предоставляет промежуточную службу, которая записывается в журнал и изолируется. Каждый из уровней сети имеет выделенную группу безопасности сети (NSG). Дополнительные сведения см. в разделе [Группы безопасности сети](payment-processing-blueprint.md#network-security-groups).|



### <a name="pci-dss-requirement-632"></a>Стандарт PCI DSS: требование 6.3.2

**6.3.2**. Проверьте пользовательский код перед выпуском в рабочую среду или клиентам для определения любой потенциальной уязвимости в коде (с помощью ручных или автоматизированных процессов), чтобы сделать, по крайней мере, следующее:
- изменения кода проверяются пользователями, которые не являются авторами исходного кода, а также лицами, хорошо осведомленными о методах проверки кода и безопасных методах кодирования;
- проверка кода гарантирует, что код разработан в соответствии с рекомендациями по безопасным методам кодирования;
- соответствующие исправления внедрены до выпуска;
- результаты проверки кода проверены и одобрены руководством до выпуска. 

> [!NOTE]
> Это требование по проверке кода распространяется на весь пользовательский код (внутренний и общедоступный) в рамках жизненного цикла разработки системы. 
>
> Проверка кода может проводиться квалифицированным сотрудниками или третьими лицами. Общедоступные веб-приложения также находятся под дополнительным контролем для устранения текущих угроз и уязвимостей после реализации, как определено в требовании 6.6 стандарта PCI DSS.

**Обязанности:&nbsp;&nbsp;`Shared`**

|||
|---|---|
| **Поставщик<br />(Microsoft&nbsp;Azure)** | Приложения и конечные точки Microsoft Azure разрабатываются в соответствии с методологией жизненного цикла разработки защищенных приложений (Майкрософт) (SDL). |
| **Клиент<br />(план PCI-DSS&nbsp;)** | Интернет-магазин Contoso предоставляет промежуточную службу, которая записывается в журнал и изолируется. Каждый из уровней сети имеет выделенную группу безопасности сети (NSG). Дополнительные сведения см. в разделе [Группы безопасности сети](payment-processing-blueprint.md#network-security-groups).|



## <a name="pci-dss-requirement-64"></a>Стандарт PCI DSS: требование 6.4

**6.4**. Используйте процедуры и процессы управления изменениями при внесении изменений в системные компоненты. Процессы должны включать следующее (см. требования с 6.4.1 до 6.4.6).

**Обязанности:&nbsp;&nbsp;`Shared`**

|||
|---|---|
| **Поставщик<br />(Microsoft&nbsp;Azure)** | Корпорация Майкрософт следует рекомендациям NIST относительно вопросов безопасности при разработке программного обеспечения в том, что информационная безопасность должна быть интегрирована в жизненный цикл разработки защищенных приложений (Майкрософт) (SDL) с момента ее появления в системе. Непрерывная интеграция рекомендаций по обеспечению безопасности в жизненном цикле разработки защищенных приложений (Майкрософт) (SDL) включает:<ul><li>раннюю идентификацию и устранение уязвимостей и неправильных конфигураций безопасности;</li><li>осведомленность о потенциальных проблемах кодирования программного обеспечения, вызванных необходимыми средствами управления безопасностью;</li><li>идентификация общих служб безопасности и повторное использование рекомендуемых средств безопасности повышает уровень безопасности с помощью проверенных методов и техник;</li><li>внедрение комплексной программы управления рисками корпорации Майкрософт.</li></ul>Microsoft Azure установил процессы управления изменениями и выпусками для контроля за выполнением основных изменений, в том числе:<ul><li>идентификацию и документацию планируемого изменения;</li><li>идентификацию бизнес-целей, приоритетов и сценариев при планировании выпуска продукции;</li><li>спецификацию разработки компонента или возможности;</li><li>проверку оперативной готовности на основе предварительно определенных критериев и контрольных списков для оценки общего риска и влияния.</li><li>Тестирование, авторизация и управление изменениями на основе записи или условий выхода для соответственно среды разработки, тестирования интеграции, предварительной и производственной среды. Клиенты несут ответственность за собственные приложения, размещенные в Microsoft Azure.</li></ul> |
| **Клиент<br />(план PCI-DSS&nbsp;)** | Демоверсия интернет-магазина Contoso предоставляет промежуточную службу, которая записывается в журнал и изолируется. <br /><br />Каждый из уровней сети имеет выделенную группу безопасности сети (NSG). Дополнительные сведения см. в разделе [Группы безопасности сети](payment-processing-blueprint.md#network-security-groups).<br /><br />Изменения записываются в журнал с помощью Operations Management Suite, а runbook используются для сбора журналов. Log Analytics предоставляет журнал с подробными сведениями об изменениях. Здесь можно просмотреть все изменения и проверить их правильность. Дополнительные инструкции см. в разделе [Ведение журналов и аудит](payment-processing-blueprint.md#logging-and-auditing).|



### <a name="pci-dss-requirement-641"></a>Стандарт PCI DSS: требование 6.4.1

**6.4.1**. Отделите среды разработки и тестирования от рабочих сред и примените разделение с помощью управления доступом.

**Обязанности:&nbsp;&nbsp;`Shared`**

|||
|---|---|
| **Поставщик<br />(Microsoft&nbsp;Azure)** | Ознакомьтесь с разделом о Microsoft Azure в описании [требования 6.4](#pci-dss-requirement-6-4). |
| **Клиент<br />(план PCI-DSS&nbsp;)** | Интернет-магазин Contoso предоставляет промежуточную службу, которая записывается в журнал и изолируется. Каждый из уровней сети имеет выделенную группу безопасности сети (NSG). Дополнительные сведения см. в разделе [Группы безопасности сети](payment-processing-blueprint.md#network-security-groups).|



### <a name="pci-dss-requirement-642"></a>Стандарт PCI DSS: требование 6.4.2

**6.4.2**. Разделение обязанностей между средами разработки, тестирования и рабочей средой.

**Обязанности:&nbsp;&nbsp;`Shared`**

|||
|---|---|
| **Поставщик<br />(Microsoft&nbsp;Azure)** | Ознакомьтесь с разделом о Microsoft Azure в описании [требования 6.4](#pci-dss-requirement-6-4). |
| **Клиент<br />(план PCI-DSS&nbsp;)** | Интернет-магазин Contoso предоставляет промежуточную службу, которая записывается в журнал и изолируется. Каждый из уровней сети имеет выделенную группу безопасности сети (NSG). Дополнительные сведения см. в разделе [Группы безопасности сети](payment-processing-blueprint.md#network-security-groups).|



### <a name="pci-dss-requirement-643"></a>Стандарт PCI DSS: требование 6.4.3

**6.4.3**. Рабочие данные (динамические PAN) не используются для тестирования или разработки.

**Обязанности:&nbsp;&nbsp;`Shared`**

|||
|---|---|
| **Поставщик<br />(Microsoft&nbsp;Azure)** | Ознакомьтесь с разделом о Microsoft Azure в описании [требования 6.4](#pci-dss-requirement-6-4). |
| **Клиент<br />(план PCI-DSS&nbsp;)** | В интернет-магазине Contoso нет динамических данных номера основного счета.|



### <a name="pci-dss-requirement-644"></a>Стандарт PCI DSS: требование 6.4.4

**6.4.4**. Удаление тестовых данных и учетных записей из компонентов системы до того, как система станет активной или будет выпущена для рабочей среды.

**Обязанности:&nbsp;&nbsp;общие (`Shared`**)

|||
|---|---|
| **Поставщик<br />(Microsoft&nbsp;Azure)** | Ознакомьтесь с разделом о Microsoft Azure в описании [требования 6.4](#pci-dss-requirement-6-4). |
| **Клиент<br />(план PCI-DSS&nbsp;)** | В интернет-магазине Contoso нет каких-либо тестовых учетных записей.|



### <a name="pci-dss-requirement-645"></a>Стандарт PCI DSS: требование 6.4.5

**6.4.5** Процедуры управления изменения для реализации исправлений безопасности и изменений программного обеспечения должны включать следующее:
- **6.5.4.1** документацию о влиянии;
- **6.5.4.2** документированное подтверждение изменений уполномоченными сторонами;
- **6.5.4.3** функциональное тестирование для проверки того, что это изменение не оказывает негативного влияния на безопасность системы;
- **6.5.4.4** процедуры отмены.

**Обязанности:&nbsp;&nbsp;`Shared`**

|||
|---|---|
| **Поставщик<br />(Microsoft&nbsp;Azure)** | Ознакомьтесь с разделом о Microsoft Azure в описании [требования 6.4](#pci-dss-requirement-6-4). |
| **Клиент<br />(план PCI-DSS&nbsp;)** | Интернет-магазин Contoso — это решение службы PaaS. Azure обслуживает все исправления службы.|



### <a name="pci-dss-requirement-646"></a>Стандарт PCI DSS: требование 6.4.6

**6.4.6**. Перед завершением значительного изменения необходимо реализовать все соответствующие требования стандарта PCI DSS во всех новых или измененных системах и сетях, а также обновить документацию.

> [!NOTE]
> Это рекомендуется сделать до 31 января 2018 года. После этой даты это нужно сделать обязательно.


**Обязанности:&nbsp;&nbsp;`Shared`**

|||
|---|---|
| **Поставщик<br />(Microsoft&nbsp;Azure)** | Ознакомьтесь с разделом о Microsoft Azure в описании [требования 6.4](#pci-dss-requirement-6-4). |
| **Клиент<br />(план PCI-DSS&nbsp;)** | Интернет-магазин Contoso — это решение службы PaaS. Azure обслуживает все исправления службы.|



## <a name="pci-dss-requirement-65"></a>Стандарт PCI DSS: требование 6.5

**6.5** Устраните распространенные уязвимости кода в процессах разработки программного обеспечения следующим образом:
- Проводите обучение разработчиков современным методам кодирования как минимум раз в год, включая и то, как избежать распространенных уязвимостей кода.
- Разрабатывайте приложения на основе руководств по безопасному кодированию.

> [!NOTE]
> Уязвимости, перечисленные в разделах с 6.5.1 по 6.5.10, были описаны в отраслевых рекомендациях, когда эта версия PCI DSS была опубликована. Однако по мере обновления отраслевых рекомендаций для методов управления уязвимостями (например, руководство OWASP, SANS CWE Top 25, CERT Secure Coding и т. д.) для этих требований необходимо использовать текущие рекомендации. 
> 
> [!NOTE]
> Требования от 6.5.1 до 6.5.6 ниже применяются ко всем приложениям (внутренним или внешним). Требования от 6.5.7 до 6.5.10 ниже применяются к веб-приложениям и интерфейсам приложений (внутренним или внешним). 

- **6.5.1** Недостатки внедрения, в частности — внедрения SQL. Кроме того, рассмотрите внедрение команд ОС, недостатки внедрения LDAP и XPath, а также другие недостатки внедрения.
- **6.5.2**. Переполнение буфера.
- **6.5.3**. Небезопасное хранилище для шифрования.
- **6.5.4**. Небезопасный обмен данными.
- **6.5.5**. Неправильная обработка ошибок.
- **6.5.6**. Все уязвимости с высоким риском определяются процессом идентификации уязвимостей (как указано в требовании 6.1 стандарта PCI DSS).
- **6.5.7**. Межсайтовые сценарии (XSS).
- **6.5.8**. Неправильное управление доступом (например, небезопасные прямые объектные ссылки, неспособность ограничить доступ к URL-адресу, обход каталогов и сбой в ограничении доступа пользователей к функциям).
- **6.5.9**. Подделка межсайтовых запросов (CSRF).
- **6.5.10**. Неработающая аутентификация и управление сеансами.

**Обязанности:&nbsp;&nbsp;`Shared`**

|||
|---|---|
| **Поставщик<br />(Microsoft&nbsp;Azure)** | Ознакомьтесь с разделом о Microsoft Azure в описании [требования 6.4](#pci-dss-requirement-6-4). |
| **Клиент<br />(план PCI-DSS&nbsp;)** | Демоверсия интернет-магазина Contoso предоставляет руководство по безопасной разработке, а также DFD и модели угроз для демонстрации методов безопасной разработки.|



## <a name="pci-dss-requirement-66"></a>Стандарт PCI DSS: требование 6.6

**6.6**. В общедоступных веб-приложениях регулярно анализируйте новые угрозы и уязвимости и гарантируйте защиту этих приложений от известных атак одним из следующих способов:

- Проверка общедоступных веб-приложений с помощью ручных или автоматизированных средств или методов оценки уязвимостей в системе безопасности приложений не реже одного раза в год и после любых изменений. 

   > [!NOTE]
   > Эта оценка не тоже самое, что проверка уязвимостей, выполняемая в требованиях 11.2. 

- Установка автоматизированного технического решения, которое обнаруживает и предотвращает сетевые атаки (например, брандмауэр веб-приложений) перед общедоступными веб-приложениями, чтобы постоянно проверять весь трафик.

**Обязанности:&nbsp;&nbsp;`Shared`**

|||
|---|---|
| **Поставщик<br />(Microsoft&nbsp;Azure)** | Microsoft Azure тестирует общедоступные веб-приложения в ходе SDL, прежде чем развертывать приложения в рабочей среде. Кроме того, корпорация Майкрософт регулярно сканирует все общедоступные веб-приложения в рабочей среде для обнаружения любых возможных уязвимостей. |
| **Клиент<br />(план PCI-DSS&nbsp;)** | Эталонное решение снижает риск возникновения уязвимостей с помощью шлюза приложений с WAF и включенного набора правил OWASP. Дополнительные сведения см. в разделе [Шлюз приложений](payment-processing-blueprint.md#application-gateway).|



## <a name="pci-dss-requirement-67"></a>Стандарт PCI DSS: требование 6.7

**6.7**. Убедитесь, что политики безопасности и оперативные процедуры для разработки и поддержки безопасности систем и приложений документированы, используются и известны всем затронутым сторонам.

**Обязанности:&nbsp;&nbsp;`Customer Only`**

|||
|---|---|
| **Поставщик<br />(Microsoft&nbsp;Azure)** | Не применяется |
| **Клиент<br />(план PCI-DSS&nbsp;)** | Эталонное решение снижает риск возникновения уязвимостей с помощью шлюза приложений с WAF и включенного набора правил OWASP. Дополнительные сведения см. в разделе [Шлюз приложений](payment-processing-blueprint.md#application-gateway).|




