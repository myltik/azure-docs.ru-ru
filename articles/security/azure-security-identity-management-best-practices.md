---
title: Рекомендации по идентификации и обеспечению безопасности Azure | Документация Майкрософт
description: В этой статье представлены рекомендации по управлению удостоверениями и контролю доступа с помощью встроенных возможностей Azure.
services: security
documentationcenter: na
author: barclayn
manager: mbaldwin
editor: TomSh
ms.assetid: 07d8e8a8-47e8-447c-9c06-3a88d2713bc1
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 04/26/2018
ms.author: barclayn
ms.openlocfilehash: 6632ab962f3df0cfee8d28d7dad40bad8baf3f50
ms.sourcegitcommit: b6319f1a87d9316122f96769aab0d92b46a6879a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/20/2018
ms.locfileid: "34365786"
---
# <a name="azure-identity-management-and-access-control-security-best-practices"></a>Рекомендации по обеспечению безопасности за счет управления удостоверениями и контроля доступа Azure

Многие считают идентификацию новым уровнем границы безопасности, взятым из традиционной сетевой инфраструктуры. С точки зрения безопасности и инвестиций такое развитие произошло за счет того, что периметр сети становится все более проницаемым и нельзя обеспечить его максимально эффективную защиту, как до развертывания устройств [BYOD](http://aka.ms/byodcg) и облачных приложений.

В этой статье мы рассмотрим рекомендации по обеспечению безопасности за счет управления удостоверениями и контроля доступа Azure. Эти рекомендации основаны на нашем опыте, полученном в процессе использования [Azure AD](../active-directory/active-directory-whatis.md), и на отзывах других пользователей.

Для каждой рекомендации будет предоставлено объяснение следующих аспектов:

* суть рекомендации;
* почему необходимо применять эту рекомендацию;
* что может случиться, если не применить эту рекомендацию;
* возможные альтернативы рекомендации;
* как научиться применять эту рекомендацию.

В этой статье рекомендаций по обеспечению безопасности за счет управления удостоверениями и контроля доступа Azure изложено общепринятое мнение по рассматриваемому вопросу, а также представлены возможности и компоненты платформы Azure, доступные на момент ее написания. Со временем мнения и технологии меняются. Поэтому эта статья будет постоянно обновляться, чтобы отражать эти изменения.

Рекомендации по обеспечению безопасности за счет управления удостоверениями и контроля доступа Azure в этой статье включают в себя:

* централизация управления удостоверениями;
* включение единого входа;
* развертывание системы управления паролями;
* Обеспечение принудительной многофакторной проверки подлинности пользователей
* Использование управления доступом на основе ролей (RBAC)
* Управление расположениями, в которых создаются ресурсы, с помощью Resource Manager
* Предоставление разработчикам рекомендаций по использованию возможностей работы с удостоверениями для приложений SaaS
* активный мониторинг подозрительных действий.

## <a name="centralize-your-identity-management"></a>Централизация управления удостоверениями

Важным шагом по обеспечению безопасности удостоверений является предоставление возможности управлять учетными записями из одного расположения, связанного с местом создания этих учетных записей, для ИТ-специалистов. Хотя большинство ИТ-организаций хранят свои каталоги учетных записей локально, компании все чаще развертывают гибридные системы, поэтому важно понять, как интегрировать локальные и облачные каталоги, и обеспечить пользователям удобную работу.

Мы рекомендуем два варианта выполнения этого сценария [гибридной идентификации](../active-directory/active-directory-hybrid-identity-design-considerations-overview.md):

* синхронизировать свой локальный каталог с облачным каталогом с помощью Azure AD Connect;
* включить единый вход с [синхронизацией хэша паролей](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnectsync-implement-password-hash-synchronization), [сквозной аутентификацией](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-pass-through-authentication-faq) или включить локальный каталог удостоверений в федерацию с облачным каталогом с помощью [служб федерации Active Directory](https://docs.microsoft.com/windows-server/identity/ad-fs/deployment/deploying-federation-servers) (AD FS).

В организациях, которые не интегрировали локальные удостоверения с облачными, увеличится административная нагрузка по управлению учетными записями, из-за чего возрастет вероятность возникновения ошибок и брешей в системе безопасности.

Дополнительные сведения о синхронизации Azure AD см. в статье [Интеграция локальных каталогов с Azure Active Directory](../active-directory/active-directory-aadconnect.md).

## <a name="enable-single-sign-on-sso"></a>Включение единого входа

Наличие нескольких управляемых каталогов создает проблему администрирования не только для ИТ-специалистов, но и для пользователей, ведь им придется запомнить несколько паролей. [Единый вход](https://azure.microsoft.com/documentation/videos/overview-of-single-sign-on/) позволит пользователям использовать одни и те же учетные данные для входа в систему и получения доступа к ресурсам независимо от того, где они находятся — в локальном расположении или в облаке.

Предоставьте пользователям возможность единого входа, чтобы они могли получать доступ к [приложениям SaaS](../active-directory/manage-apps/what-is-single-sign-on.md), используя рабочую или учебную учетную запись в Azure AD. Это применимо не только к приложениям SaaS корпорации Майкрософт, но и к другим приложениям, таким как [Google Apps](../active-directory/active-directory-saas-google-apps-tutorial.md) и [Salesforce](../active-directory/active-directory-saas-salesforce-tutorial.md). Ваше приложение может быть настроено для использования Azure AD в качестве поставщика [удостоверений на основе SAML](../active-directory/fundamentals-identity.md). Azure AD из соображений безопасности не выдает токен, который позволяет войти в приложение, если у пользователя нет права на доступ к приложению в Azure AD. Вы можете предоставить пользователю такое право напрямую или через одну из групп, в которые он входит.

> [!NOTE]
> От того, используется единый вход или нет, зависит способ интеграции локального каталога с облачным. Если вам нужна возможность единого входа, необходимо использовать федерацию, так как синхронизация каталогов имеет [такую же систему входа](../active-directory/active-directory-aadconnect.md).
>
>

Если организации не применяют единый вход для пользователей и приложений принудительно, в обиходе их пользователей может находиться несколько паролей, что увеличивает вероятность повторного использования паролей и установки ненадежных паролей.

Дополнительные сведения о едином входе в Azure AD см. в статье [Управление службами федерации Active Directory и их настройка с помощью Azure AD Connect](../active-directory/active-directory-aadconnect-federation-management.md).

## <a name="deploy-password-management"></a>Развертывание системы управления паролями

Если у вас несколько клиентов или если нужно предоставить пользователям возможность [сбрасывать свои пароли самостоятельно](../active-directory/active-directory-passwords-update-your-own-password.md), то важно использовать надлежащие политики безопасности, чтобы предотвратить использование этой возможности не по назначению. В Azure можно использовать самостоятельный сброс паролей и настроить параметры безопасности в соответствии со своими бизнес-требованиями.

Важно получить отзывы от пользователей и изучить их опыт выполнения этих шагов. На основе этих сведений разработайте план по предотвращению проблем, которые могут возникнуть во время развертывания, для группы с большим числом участников. Кроме того, рекомендуется использовать [отчет о действии регистрации сброса пароля](../active-directory/active-directory-passwords-get-insights.md), чтобы вести мониторинг пользователей, которые сбрасывают пароль.

В организациях, которым нужно исключить обращение за поддержкой по изменению пароля, но необходимо позволить сбрасывать пароли, с большей вероятностью возрастет количество обращений в соответствующую службу из-за проблем, связанных с паролями. В организациях, использующих несколько клиентов, обязательно необходимо реализовать такую возможность и позволить пользователям сбрасывать пароли в пределах границ безопасности, заданных в соответствующей политике.

Дополнительные сведения о функции сброса паролей см. в статье [Развертывание компонентов управления паролями и обучение пользователей их использованию](../active-directory/authentication/howto-sspr-deployment.md).

## <a name="enforce-multi-factor-authentication-mfa-for-users"></a>Обеспечение принудительной многофакторной проверки подлинности пользователей

Для организаций, которым необходимо соблюдать отраслевые стандарты, такие как [PCI DSS версии 3.2](http://blog.pcisecuritystandards.org/preparing-for-pci-dss-32), крайне необходимо обеспечить Многофакторную идентификацию для пользователей. Помимо соответствия отраслевым стандартам принудительная Многофакторная идентификация пользователей также может помочь организациям устранить риск атак путем кражи учетных данных, таких как [Pass-the-Hash (передача хэша)](http://aka.ms/PtHPaper).

Включив для своих пользователей Azure MFA, вы добавите второй уровень защиты для входа в систему и транзакций. Например, транзакция может обращаться к документу, размещенному на файловом сервере или в SharePoint Online. Azure MFA также минимизирует риск того, что посторонние лица могут получить доступ к данным с использованием скомпрометированных учетных данных.

Например, настройте принудительное использование Azure MFA для пользователей и телефонный звонок или текстовое сообщение в качестве способа проверки. Таким образом, злоумышленник не сможет выполнить компрометацию учетных данных, так как у него не будет доступа к телефону пользователя. Организации, не использующие дополнительные уровни защиты идентификации, более уязвимы к атакам путем кражи учетных данных, что может привести к компрометации данных.

Для тех организаций, которые предпочитают управлять всей системой аутентификации локально, мы можем предложить [сервер Многофакторной идентификации Azure](../active-directory/authentication/howto-mfaserver-deploy.md), известный также как локальный сервер MFA. Этот метод позволит вам применить Многофакторную идентификацию, используя при этом локальный сервер MFA.

Дополнительные сведения об Azure MFA см. в статье [Приступая к работе с Многофакторной идентификацией Azure в облаке](../active-directory/authentication/howto-mfa-getstarted.md).

## <a name="use-role-based-access-control-rbac"></a>Использование управления доступом на основе ролей (RBAC)

Ограничение доступа согласно принципам безопасности (принцип предоставления доступа [только в тех случаях и в той степени, в которой знание такой информации будет необходимо](https://en.wikipedia.org/wiki/Need_to_know), а также [принцип предоставления минимальных прав](https://en.wikipedia.org/wiki/Principle_of_least_privilege)) крайне важно для организаций, которым требуется применять политики безопасности для доступа к данным. Контроль доступа на основе ролей Azure (RBAC) может использоваться для назначения пользователям, группам и приложениям разрешений, действующих в рамках определенной области. Областью назначения роли может быть подписка, группа ресурсов или отдельный ресурс.

Вы можете назначать пользователям привилегии с помощью [встроенных ролей RBAC](../role-based-access-control/built-in-roles.md) в Azure. Для облачных операторов, которым нужно управлять учетными записями хранения, мы рекомендуем роль *Участник учетной записи хранения*, а для управления классическими учетными записями хранения — *Участник классической учетной записи хранения*. Облачным операторам, которым нужно управлять виртуальными машинами и учетной записью хранения, мы предлагаем назначать роль *Участник виртуальной машины*.

Если организация не применяет такие возможности, как RBAC, для контроля доступа к данным, пользователям будет предоставлено больше привилегий, чем необходимо для выполнения назначенных им задач. Это может повлечь компрометацию данных, если пользователям предоставлен доступ к данным определенных типов (например, важным бизнес-данным), которые не предназначены для них.

Дополнительные сведения об RBAC в Azure см. в статье [Управление доступом на основе ролей в Azure](../role-based-access-control/role-assignments-portal.md).

## <a name="control-locations-where-resources-are-created-using-resource-manager"></a>Управление расположениями, в которых создаются ресурсы, с помощью Resource Manager

Давая облачным операторам возможность выполнять задачи, важно не позволять им нарушать соглашения, которые необходимы для управления ресурсами организации. Организациям, которые хотят контролировать то, в каких расположениях создаются ресурсы, следует жестко задать соответствующие расположения.

Для этого организации могут создать политики безопасности с определениями, описывающими действия или ресурсы, которые следует отклонять. Эти определения политик назначаются для нужной области, такой как подписка, группа ресурсов или отдельный ресурс.

> [!NOTE]
> Эта функция не аналогична RBAC. На самом деле она использует RBAC для проверки подлинности пользователей с правом на создание таких ресурсов.
>
>

Используйте [Azure Resource Manager](../azure-resource-manager/resource-group-overview.md), чтобы создавать настраиваемые политики для сценариев, в которых в организации нужно разрешить выполнение операций только при наличии соответствующего связанного места возникновения затрат, а в противном случае запросы должны отклоняться.

Организации, которые не контролируют то, как создаются ресурсы, более предрасположены к злоупотреблению со стороны пользователей, создающих больше ресурсов, чем требуется. Усиление безопасности создания ресурса — это важный шаг по обеспечению безопасности в сценариях с несколькими клиентами.

Дополнительные сведения о создании политик с использованием Azure Resource Manager см. в статье [Что такое служба "Политика Azure"?](../azure-policy/azure-policy-introduction.md).

## <a name="guide-developers-to-leverage-identity-capabilities-for-saas-apps"></a>Предоставление разработчикам рекомендаций по использованию возможностей работы с удостоверениями для приложений SaaS

Удостоверения пользователей используются во многих сценариях, где пользователи получают доступ к [приложениям SaaS](https://azure.microsoft.com/marketplace/active-directory/all/), которые можно интегрировать c локальным или облачным каталогом. Прежде всего, мы рекомендуем разработчикам использовать безопасные методы разработки приложений, например [жизненный цикл разработки защищенных приложений (Майкрософт) (SDL)](https://www.microsoft.com/sdl/default.aspx). Azure AD упрощает аутентификацию для разработчиков, предоставляя удостоверение как услугу, благодаря поддержке стандартных протоколов, например [OAuth 2.0](http://oauth.net/2/) и [OpenID Connect](http://openid.net/connect/), а также библиотекам с открытым кодом для различных платформ.

Любое приложение, передающее данные проверки подлинности в Azure AD, нужно регистрировать. Это обязательная процедура. Это связано с необходимостью Azure AD координировать взаимодействие с приложением при обработке данных единого входа или обмене маркерами. Срок действия пользовательского сеанса истекает по окончании времени жизни маркера, выданного системой Azure AD. Всегда определяйте, необходимо ли это время приложению или же его можно сократить. Уменьшение времени существования можно использовать в качестве меры безопасности, при которой пользователи будут принудительно выходить по прошествии определенного периода бездействия.

Организации, которые не используют принудительный контроль удостоверений для доступа к приложениям и не предоставляют разработчикам рекомендации о том, как безопасно интегрировать приложения с их системами управления идентификацией, более уязвимы к атакам кражи учетных данных, например [ненадежной аутентификации и управлению сеансами, описанными в статье о 10 основных открытых проектах безопасности веб-приложений (OWASP)](https://www.owasp.org/index.php/OWASP_Top_Ten_Cheat_Sheet).

Дополнительные сведения о сценариях аутентификации для приложений SaaS см. в статье [Сценарии аутентификации в Azure Active Directory](../active-directory/active-directory-authentication-scenarios.md).

## <a name="actively-monitor-for-suspicious-activities"></a>Активный мониторинг подозрительных действий

Согласно [отчету о нарушениях безопасности данных Verizon за 2016 год](http://www.verizonenterprise.com/verizon-insights-lab/dbir/2016/), количество случаев компрометации учетных данных по-прежнему увеличивается и компрометация становится одним из самых прибыльных видов деятельности для киберпреступников. Поэтому важно обеспечить наличие активной системы мониторинга, которая сможет быстро обнаружить подозрительные действия и оповестить о них для последующего изучения. В Azure AD есть две основные возможности, которые могут быть полезными для организаций в процессе мониторинга удостоверений: [отчеты об аномалиях](../active-directory/active-directory-view-access-usage-reports.md) Azure AD Premium и [защита идентификации](../active-directory/active-directory-identityprotection.md) Azure AD.

Используйте отчеты об аномалиях для выявления попыток входа [без трассировки](../active-directory/active-directory-reporting-sign-ins-from-unknown-sources.md), атак конкретной учетной записи [методом подбора](../active-directory/active-directory-reporting-sign-ins-after-multiple-failures.md), попыток входа из нескольких расположений, а также с использованием зараженных устройств или подозрительных IP-адресов. Не забывайте, что это только отчеты. Другими словами, необходимо предусмотреть процессы и процедуры, которые ИТ-администраторам следует выполнять для ежедневного составления этих отчетов или их создания по требованию (обычно в сценарии реагирования на инциденты).

Защита идентификации Azure AD, напротив, представляет собой активную систему мониторинга, которая сообщает о текущих рисках на панели мониторинга. Кроме того, вы будете получать ежедневные уведомления об основных событиях по электронной почте. Мы рекомендуем настроить уровень риска в соответствии с бизнес-требованиями. Уровень риска события обозначает его серьезность (высокую, среднюю или низкую). В службе защиты идентификации уровень риска можно использовать для расстановки приоритета действий, которые необходимо предпринимать, чтобы уменьшить риск для организации.

Организации, которые не проводят активный мониторинг систем идентификации, подвержены риску компрометации учетных данных пользователей. Не зная о подозрительных действиях, выполненных с использованием этих учетных данных, организации не смогут устранить угрозы такого типа.
Дополнительные сведения о защите идентификации Azure см. в статье [Защита идентификации Azure Active Directory](../active-directory/active-directory-identityprotection.md).
