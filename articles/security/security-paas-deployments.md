---
title: Защита развернутых приложений PaaS | Документация Майкрософт
description: " Общие сведения о преимуществах безопасности PaaS перед другими моделями облачных служб, а также рекомендации по защите развернутой службы PaaS в Azure. "
services: security
documentationcenter: na
author: techlake
manager: MBaldwin
editor: techlake
ms.assetid: ''
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 11/21/2017
ms.author: terrylan
ms.openlocfilehash: f19c52629a997687692eef9bce2e13b2b7894052
ms.sourcegitcommit: fa493b66552af11260db48d89e3ddfcdcb5e3152
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2018
ms.locfileid: "31794741"
---
# <a name="securing-paas-deployments"></a>Защита развернутых служб PaaS

Эта статья содержит сведения, которые помогут вам:

- понять преимущества безопасности размещения приложений в облаке;
- оценить преимущества безопасности платформы как услуги (PaaS) перед другими моделями облачных служб;
- изменить ориентированную на сеть модель безопасности на модель периметра безопасности на основе удостоверений;
- внедрить общие рекомендации по безопасности PaaS.

## <a name="cloud-security-advantages"></a>Преимущества безопасности облака
У размещения в облаке есть преимущества безопасности. С определенной вероятностью в локальной среде организации не соблюдаются обязанности, а средства, вкладываемые в систему безопасности, ограничены. Все это порождает среду, в которой злоумышленники могут воспользоваться уязвимостями всех уровнях.

![Преимущества безопасности облачной эры][1]

Организации могут сократить время, необходимое для обнаружения угроз и реагирования на них, используя возможности облачной безопасности и аналитики, предоставляемые поставщиком.  Делегировав эти обязанности поставщику облачных служб, организации могут увеличить охват системы безопасности, что позволит им перераспределить ее и бюджет ресурсы на другие приоритетные для бизнеса направления.

## <a name="division-of-responsibility"></a>Разделение ответственности
Важно понимать разделение ответственности между вашей организацией и корпорацией Майкрософт. В локальной среде весь стек принадлежит вам, но при переходе в облако некоторые обязанности переходят к корпорации Майкрософт. В приведенной ниже таблице ответственности показано, за какие области стека в развернутых службах SaaS, PaaS и IaaS несете ответственность вы, а за какие — корпорация Майкрософт.

![Зоны ответственности][2]

Для всех типов развертываемых облачных служб вы являетесь владельцем данных и удостоверений. Вы несете ответственность за защиту данных и удостоверений, локальных ресурсов и облачных компонентов, которыми вы управляете (они зависят от типа службы).

Ниже перечислены обязанности, которые всегда остаются за вами независимо от типа развертывания.

- Данные
- Конечные точки
- Учетная запись.
- управление доступом

## <a name="security-advantages-of-a-paas-cloud-service-model"></a>Преимущества безопасности модели облачных служб PaaS
Используя ту же таблицу ответственности, рассмотрим преимущества развертывания службы PaaS в Azure перед локальным развертыванием.

![Преимущества безопасности PaaS][3]

Начиная с нижней части стека, физической инфраструктуры, корпорация Майкрософт уменьшает распространенных риски и обязанности. Так как корпорация Майкрософт непрерывно наблюдает за облаком Майкрософт, его сложно атаковать. Злоумышленнику нет смысла выбирать в качестве цели облако Майкрософт. Если только у злоумышленника нет множества денежных средств и технических ресурсов, скорее всего он выберет другую цель.  

В середине стека нет различий между развернутой службой PaaS и локальным развертыванием. На прикладном уровне и уровне управления учетными записями и доступом риски одинаковы. В разделе дальнейших действий этой статьи мы предоставим вам рекомендации по устранению или минимизации этих рисков.

В верхней части стека (управление данными и управление правами) вы подвергаетесь одному риску, который можно снизить с помощью управления ключами. (Управление ключами рассматривается в рекомендациях.) Хотя управление ключами добавляет обязанностей, некоторыми областями в развернутой службе PaaS больше не нужно будет управлять, поэтому вы сможете выделить эти ресурсы для управления ключами.

Платформа Azure также обеспечивает надежную защиту от атак DDoS с помощью различных сетевых технологий. Тем не менее все разновидности сетевых методов защиты от атак DDoS имеют свои пределы по числу защищаемых каналов и центров обработки данных. Чтобы избежать масштабных атак DDoS, можно воспользоваться преимуществами основной возможности облака Azure, чтобы быстро и автоматически развертывать ресурсы для защиты от атак DDoS. Мы подробнее рассмотрим, как это сделать, в статьях с рекомендациями.

## <a name="modernizing-the-defenders-mindset"></a>Модернизация подхода к безопасности
Распространение модели развертывания PaaS изменило общий подход к безопасности. Вместо того, чтобы контролировать все самостоятельно, теперь вы можете разделить ответственность с корпорацией Майкрософт.

Другим существенным различием между развертыванием служб PaaS и традиционными локальными развертываниями является новый взгляд на то, что определяет основной периметр безопасности. Исторически основным локальным периметром безопасности выступала сеть, и большинство локальных систем безопасности используют сеть как основу безопасности. Для развертываемых служб PaaS основной периметра безопасности удобнее считать удостоверения.

## <a name="identity-as-the-primary-security-perimeter"></a>Удостоверение как основной периметр безопасности
Одной из пяти основных характеристик облачных вычислений является расширенный сетевой доступ, что делает менее уместным подход, ориентированный на сеть. Цель большинства сред облачных вычислений — предоставлять пользователям доступ к ресурсам независимо от расположения. Расположение большинства пользователей будет находиться где-то в Интернете.

На следующем рисунке показано, как развивался периметр безопасности: от периметра сети до периметра на основе удостоверений. Защита сети в моделях безопасности отходит на второй план, уступая место защите данных, а также управлению безопасностью приложений и пользователей. Основное отличие заключается в том, что требуется усиливать защиту того, что важно для вашей компании.

![Удостоверение как новый периметр безопасности][4]

Первоначально службы PaaS Azure (например, веб-роли и SQL Azure) обеспечивали крайне мало или вообще не обеспечивали традиционных средств защиты периметра сети. Было понятно, что цель каждого элемента — предоставить доступ через Интернет (веб-роли), а аутентификация обуславливает новый периметр (например, служба BLOB-объектов или SQL Azure).

В современных рекомендациях по безопасности предполагается, что злоумышленник уже нарушил периметр сети. Поэтому в современных рекомендациях по защите на первое место выходят удостоверения. Организациям необходимо установить периметр безопасности на основе удостоверений со строгой санацией с использованием аутентификации и авторизации (рекомендуется).

## <a name="recommendations-for-managing-the-identity-perimeter"></a>Рекомендации по управлению периметром на основе удостоверений

Принципы и шаблоны для периметра сети существуют уже десятилетиями. А вот опыт использования удостоверений в основе периметра безопасности относительно невелик. С учетом этого мы накопили достаточно опыта, чтобы дать некоторые общие рекомендации, проверенные на практике и подходящие почти для всех служб PaaS.

Ниже вкратце приведены общие рекомендации по управлению периметром на основе удостоверений.

- **Не допускайте потери ключей и учетных данных**. Защита ключей и учетных данных крайне важна для защиты развернутых служб PaaS. Потеря ключей и учетных данных является распространенной проблемой. Хорошим выходом из положения является централизованное решение, в котором ключи и секретные данные могут храниться в аппаратных модулях безопасности (HSM). Azure предоставляет аппаратный модуль безопасности в облаке благодаря [Azure Key Vault](../key-vault/key-vault-whatis.md).
- **Не помещайте учетные данные и другую секретную информацию в исходный код или репозиторий GitHub**. Хуже потери ключей и учетных данных может быть только получение к ним несанкционированного доступа. Злоумышленники могут воспользоваться преимуществами программ-роботов для поиска ключей и секретных данных, хранящиеся в репозиториях кода, например на сайте GitHub. Не помещайте ключ и секретные данные в эти общедоступные репозитории открытого кода.
- **Защищайте интерфейсы управления виртуальных машин в гибридных службах PaaS и IaaS**. Службы IaaS и PaaS работают на виртуальных машинах. В зависимости от типа службы вам предоставляется несколько интерфейсов управления, с помощью которых можно удаленно управлять этими виртуальными машинами напрямую. Могут использоваться такие протоколы удаленного управления, как [протокол SSH](https://en.wikipedia.org/wiki/Secure_Shell), [протокол удаленного рабочего стола (RDP)](https://support.microsoft.com/kb/186607) и [Remote PowerShell](https://msdn.microsoft.com/powershell/reference/5.1/microsoft.powershell.core/enable-psremoting). Как правило рекомендуется не включать прямой удаленный доступ к виртуальным машинам из Интернета. По возможности следует использовать альтернативные методы, например виртуальные частные сети в виртуальной сети Azure. Если альтернативные подходы невозможны, то обязательно используйте сложные парольные фразы и, если это возможно, двухфакторную проверку подлинности (например, [Многофакторную идентификацию Azure](../active-directory/authentication/multi-factor-authentication.md)).
- **Используйте надежные платформы аутентификации и авторизации**.

  - Используйте федеративные удостоверения из Azure AD, а не из пользовательского хранилища. При использовании федеративных удостоверений вы получаете преимущества подхода на основе платформы и делегируете партнерам управление авторизованными удостоверениями. Модель федеративной идентификации особенно важна в сценариях, когда сотрудники прекращают выполнение тех или иных обязанностей, и эти данные должны быть отражены в нескольких системах идентификации и авторизации.
  - Используйте предоставляемые платформой механизмы аутентификации и авторизации вместо пользовательского кода. Ведь разработка пользовательского кода аутентификации может быть подвержена ошибкам. Большинство ваших разработчиков не являются экспертами в области безопасности и, скорее всего, не учитывают тонкостей и последних разработок в области аутентификации и авторизации. Коммерческий код (например, создаваемый корпорацией Майкрософт), как правило, подвергается тщательным проверкам безопасности.
  - Используйте Многофакторную идентификацию. Многофакторная идентификация является текущим стандартом аутентификации и авторизации, так как позволяет избежать уязвимостей системы безопасности, присущих разновидностям аутентификации по имени пользователя и паролю. Доступ к интерфейсам управления Azure (портал или удаленный сеанс PowerShell) и службам для клиентов должен быть спроектирован и настроен для использования [Многофакторной идентификации Azure (MFA)](../active-directory/authentication/multi-factor-authentication.md).
  - Используйте стандартные протоколы аутентификации, такие как OAuth2 и Kerberos. Эти протоколы внимательно оценены коллегами и скорее всего реализованы в составе библиотек аутентификации и авторизации для вашей платформы.

## <a name="next-steps"></a>Дополнительная информация
В этой статье были рассмотрены преимущества безопасности развертывания PaaS в Azure. Далее вы можете изучить рекомендации по защите веб-приложений и мобильных приложений PaaS. Мы начнем со службы приложений Azure, Базы данных SQL Azure и хранилища данных SQL Azure. По мере выпуска статей с рекомендациями для других служб Azure ссылки на них будут добавляться в приведенный ниже список.

- [службе приложений Azure](security-paas-applications-using-app-services.md)
- [База данных SQL Azure и хранилище данных SQL](security-paas-applications-using-sql.md)
- Хранилище Azure
- Кэш Redis для Azure
- Azure Service Bus
- Брандмауэры веб-приложения

<!--Image references-->
[1]: ./media/security-paas-deployments/advantages-of-cloud.png
[2]: ./media/security-paas-deployments/responsibility-zones.png
[3]: ./media/security-paas-deployments/advantages-of-paas.png
[4]: ./media/security-paas-deployments/identity-perimeter.png
