---
title: Приступая к работе с системой безопасности Microsoft Azure | Документация Майкрософт
description: В этой статье рассматриваются возможности системы безопасности Microsoft Azure, а также приводятся общие рекомендации для организаций, которые переносят ресурсы в поставщик облака.
services: security
documentationcenter: na
author: barclayn
manager: mbaldwin
editor: TomSh
ms.assetid: 8d8a0088-c85a-48e7-bd04-2bc7b78b0691
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 04/26/2018
ms.author: barclayn
ms.openlocfilehash: a908c242b5d41d5cd61d8775bdbe53f3cdddd3ec
ms.sourcegitcommit: b6319f1a87d9316122f96769aab0d92b46a6879a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/20/2018
---
# <a name="getting-started-with-microsoft-azure-security"></a>Приступая к работе с безопасностью Microsoft Azure

Создавая ИТ-ресурсы или перенося их в поставщик облачных служб, вы полагаетесь на возможности организации по обеспечению защиты приложений и данных с помощью предоставляемых решений для управления безопасностью облачных ресурсов.

Инфраструктура устройств и приложений Azure предназначена для размещения миллионов пользователей одновременно. Это надежная база, которая удовлетворяет корпоративным требованиям к обеспечению безопасности. Кроме того, Azure включает самые разные настраиваемые решения для обеспечения безопасности, а также возможность управления ими. Все это позволит настроить защиту в соответствии с особенностями развернутых решений.

В этой статье, содержащей общие сведения о безопасности Azure, мы рассмотрим такие темы: 

* службы и функции Azure, которые помогают защитить службы и данные в Azure;
* как корпорация Майкрософт делает безопасной инфраструктуру Azure, защищая данные и приложения.

## <a name="identity-and-access-management"></a>Управление удостоверениями и доступом

Очень важно управлять доступом к ИТ-инфраструктуре, данным и приложениям. В Microsoft Azure эти возможности реализованы в службе Azure Active Directory (Azure AD), службе хранилища Azure, а также за счет поддержки различных стандартов и интерфейсов API.

[Azure AD](../active-directory/active-directory-whatis.md) — это репозиторий удостоверений и обработчик, который обеспечивает проверку подлинности, авторизацию и управление доступом для пользователей, групп и объектов. Кроме того, Azure AD помогает разработчикам эффективно интегрировать функцию управления удостоверений в свои приложения. Использование таких стандартных протоколов, как [SAML 2.0](https://en.wikipedia.org/wiki/SAML_2.0), [WS-Federation](https://msdn.microsoft.com/library/bb498017.aspx) и [OpenID Connect](http://openid.net/connect/), позволяет настраивать вход с использованием разных платформ, включая .NET, Java, Node.js и PHP.

API Graph на основе REST позволяет разработчикам выполнять чтение и запись в каталоге на любой платформе. Благодаря поддержке протокола [OAuth 2.0](http://oauth.net/2/) разработчики могут создавать мобильные и веб-приложения, которые интегрируются с веб-интерфейсами API корпорации Майкрософт и сторонних поставщиков, а также создавать собственные безопасные веб-интерфейсы API. Для .NET, Windows Store, iOS и Android доступны клиентские библиотеки с открытым исходным кодом, а также дополнительные библиотеки в стадии разработки.

### <a name="how-azure-enables-identity-and-access-management"></a>Как Azure обеспечивает управление удостоверениями и доступом

Azure AD можно использовать в качестве изолированного облачного каталога для организации или решения, интегрированного с существующей локальной средой Active Directory. Некоторые функции интеграции включают в себя синхронизацию каталогов и единый вход (SSO). Они расширяют возможности доступа существующих локальных идентификаторов к облаку и улучшают работу администраторов и пользователей.

Ниже представлены другие возможности управления удостоверениями и доступом.

* Azure AD позволяет использовать функцию [единого входа](https://azure.microsoft.com/documentation/videos/overview-of-single-sign-on/) в приложениях SaaS независимо от их размещения. Некоторые приложения служба Azure AD объединяет в федерацию, а другие используют единый вход с помощью пароля. Федеративные приложения могут, кроме того, поддерживать подготовку пользователя и хранение пароля в хранилище.
* Доступ к данным в [службе хранилища Azure](https://azure.microsoft.com/services/storage/) регулируется механизмом проверки подлинности. Для каждой учетной записи хранения предусмотрен первичный ключ ([ключ учетной записи хранения](https://msdn.microsoft.com/library/azure/ee460785.aspx), или SAK) и вторичный секретный ключ (подписанный URL-адрес, или SAS).
* В Azure AD можно использовать удостоверение как услугу при федерации (с помощью [служб федерации Active Directory](../active-directory/fundamentals-identity.md)), синхронизации и репликации локальных каталогов.
* [Многофакторная Идентификация Azure](../active-directory/authentication/multi-factor-authentication.md) — это служба многофакторной идентификации, которая требует от пользователей подтверждения входа с помощью мобильного приложения, телефонного звонка или текстового сообщения. Ее можно использовать с Azure AD для защиты локальных ресурсов с помощью сервера Многофакторной идентификации Azure, а также с пользовательскими приложениями и каталогами с помощью пакета SDK.
* [Доменные службы Azure AD](https://azure.microsoft.com/services/active-directory-ds/) позволяют присоединять виртуальные машины к домену без необходимости развертывать контроллеры домена. Вы можете входить на эти виртуальные машины, используя корпоративные учетные данные Active Directory. Кроме того, вы можете выполнять администрирование виртуальных машин, присоединенных к домену, с помощью групповой политики, применяя базовые средства защиты на всех виртуальных машинах Azure.
* [Azure Active Directory B2C](https://azure.microsoft.com/services/active-directory-b2c/) — это высокодоступная глобальная служба управления удостоверениями для клиентских приложений с возможностью масштабирования до сотен миллионов удостоверений. Служба интегрируется с мобильными и веб-платформами. Клиенты могут входить в ваши приложения через настраиваемый интерфейс, используя существующие учетные записи социальных сетей или создавая новые.

## <a name="data-access-control-and-encryption"></a>Управление доступом к данным и шифрование данных

Все операции на платформе Microsoft Azure выполняются с соблюдением принципов разделения обязанностей и [предоставления минимальных прав](https://en.wikipedia.org/wiki/Principle_of_least_privilege). Для доступа к данным Azure персоналу технической поддержки требуется явное разрешение. Такой доступ предоставляется по принципу своевременности, т. е. специалист получает доступ к данным, проводит аудит, а после выполнения задачи доступ отзывается.

Azure также предоставляет разные средства защиты данных при передаче и хранении данных. Сюда входит шифрование данных, файлов, приложений, служб, подключений и дисков. Перед размещением в Azure данные можно зашифровать. Кроме того, можно хранить ключи в локальных центрах обработки данных.

![Антивредоносное ПО Майкрософт в Azure](./media/azure-security-getting-started/sec-azgsfig1.PNG)

### <a name="azure-encryption-technologies"></a>Технологии шифрования Azure

Можно собирать сведения об административном доступе к среде подписки с помощью [функций отчетов в Azure AD](../active-directory/active-directory-reporting-audit-events.md). Можно настроить [шифрование дисков BitLocker](https://technet.microsoft.com/library/cc732774.aspx) для виртуальных дисков, содержащих конфиденциальные данные в Azure.

Ниже представлены другие возможности в Azure, которые обеспечат безопасность данных.

* Разработчики приложений могут встраивать функции шифрования в приложения, развертываемые в Azure, с помощью таких средств Windows, как [CryptoAPI](https://msdn.microsoft.com/library/ms867086.aspx) и .NET Framework.
* Шифрование на стороне клиента для хранилища больших двоичных объектов Майкрософт позволяет полностью управлять ключами. Хранилище никогда не видит ключи и не может расшифровать данные.
* [Azure Rights Management](https://technet.microsoft.com/library/jj585026.aspx) (Azure RMS) с пакетом [SDK RMS](https://msdn.microsoft.com/library/dn758244.aspx) обеспечивает шифрование на уровне файлов и данных, а также предотвращает утечку данных с помощью управления доступом на основе политик.
* Azure поддерживает не только [шифрование на уровне таблиц (TDE) и столбцов (CLE)](http://blogs.msdn.com/b/sqlsecurity/archive/2015/05/12/recommendations-for-using-cell-level-encryption-in-azure-sql-database.aspx) в виртуальных машинах SQL Server, но и сторонние локальные серверы управления ключами, размещенные в центрах обработки данных.
* Ключи учетной записи хранения, подписанные URL-адреса, сертификаты управления и другие ключи уникальны для каждого клиента Azure.
* Гибридное хранилище Azure [StorSimple](http://www.microsoft.com/server-cloud/products/storsimple/overview.aspx) шифрует данные с помощью пары 128-разрядных ключей (открытого и закрытого), прежде чем передавать их в службу хранилища Azure.
* Azure поддерживает и использует множество механизмов шифрования, включая SSL/TLS, IPsec и AES, в зависимости от типов данных, контейнеров и транспортных протоколов.

## <a name="virtualization"></a>Виртуализация

Платформа Azure использует виртуальную среду. Пользовательские экземпляры работают как автономные виртуальные машины, у которых нет доступа к физическому серверу узла. Такая изоляция обеспечивается применением физических уровней [привилегий процессора (кольцо 0/кольцо 3)](https://en.wikipedia.org/wiki/Protection_ring).

Кольцо 0 обеспечивает максимальные привилегии, а кольцо 3 — минимальные. Гостевая ОС выполняется в кольце 1 с меньшими привилегиями, а приложения — в последнем кольце 3 с наименьшими привилегиями. Виртуализация физических ресурсов приводит к четкому разделению гостевой ОС и низкоуровневой оболочки, что приводит к дополнительному разделению по безопасности между ними.

Низкоуровневая оболочка Azure выполняет роль микроядра, передавая все запросы на доступ к оборудованию из гостевых виртуальных машин узлам для обработки с помощью интерфейса общей памяти VMBus. Благодаря этому пользователь не может получить доступ RAW к системе на чтение, запись и выполнение. Таким образом снижается риск совместного доступа к системным ресурсам.

![Антивредоносное ПО Майкрософт в Azure](./media/azure-security-getting-started/sec-azgsfig2.PNG)

### <a name="how-azure-implements-virtualization"></a>Как Azure реализует виртуализацию

Azure использует внедренный брандмауэр низкоуровневой оболочки (фильтр пакетов), который настраивается агентом контроллера структуры. Таким образом обеспечивается защита клиентов от несанкционированного доступа. По умолчанию при создании виртуальной машины весь трафик блокируется. Затем агент контроллера структуры настраивает фильтр пакетов, чтобы добавить *правила и исключения*, которые позволяют передавать разрешенный трафик.

Здесь запрограммированы две категории правил.

* **Конфигурация компьютера или правила инфраструктуры**. По умолчанию весь обмен данными блокируется. Но есть исключения, которые разрешают виртуальной машине отправлять и получать трафик DHCP и DNS. Виртуальные машины также могут отправлять трафик как в общедоступный сегмент Интернета, так и другим виртуальным машинам в кластере и на сервере активации ОС. Список разрешенных исходящих назначений виртуальных машин не включает подсети маршрутизатора Azure, сервер управления Azure и другие свойства Майкрософт.
* **Файл конфигурации ролей**. Он определяет входящие списки управления доступом на основе клиентской модели службы. Например, если клиент использует веб-интерфейс на порте 80 на определенной виртуальной машине, Azure открывает TCP-порт 80 для всех IP-адресов при настройке конечной точки в [классической модели развертывания Azure](../azure-resource-manager/resource-manager-deployment-model.md). Если у виртуальной машины есть запущенная серверная часть или рабочая роль, рабочая роль будет открыта только для виртуальной машины в пределах того же клиента.

## <a name="isolation"></a>Изоляция

Другое важное требование к безопасности облака — обеспечение разделения. Это помогает предотвратить случайный несанкционированный обмен данными между развертываниями в общей мультитенантной архитектуре.

Изолируя виртуальную локальную сеть и используя списки контроля доступа, подсистемы балансировки нагрузки и IP-фильтры, Azure реализует [управление доступом по сети](https://azure.microsoft.com/blog/network-isolation-options-for-machines-in-windows-azure-virtual-networks/) и разделение. Таким образом внешний трафик, входящий в виртуальные машины, ограничивается определяемыми вами портами и протоколами. В Azure также реализована фильтрация сети, которая не пропускает ложный трафик и ограничивает входящий и исходящий трафик надежными компонентами платформ. Политики потока трафика применяются на устройствах защиты периметра, которые блокируют трафик по умолчанию.

![Антивредоносное ПО Майкрософт в Azure](./media/azure-security-getting-started/sec-azgsfig3.PNG)

Преобразование сетевых адресов (NAT) используется для разделения внутреннего и внешнего сетевого трафика. Внутренний трафик не маршрутизируется внешними устройствами. [Виртуальные IP-адреса](http://blogs.msdn.com/b/cloud_solution_architect/archive/2014/11/08/vips-dips-and-pips-in-microsoft-azure.aspx), которые маршрутизируются внешними устройствами, преобразуются во [внутренние динамические IP-адреса](http://blogs.msdn.com/b/cloud_solution_architect/archive/2014/11/08/vips-dips-and-pips-in-microsoft-azure.aspx), которые маршрутизируются только в пределах среды Azure.

Внешний трафик для виртуальных машин Azure защищает брандмауэр с помощью списков управления доступом (ACL) на маршрутизаторах, подсистемах балансировки нагрузки и коммутаторах уровня 3. Разрешено использовать только определенные известные протоколы. Списки управления доступом изолируют трафик от гостевых виртуальных машин и других виртуальных локальных сетей, используемых для управления. Кроме того, трафик фильтруется с помощью IP-фильтров на ОС узла, что позволяет ограничить его на сетевом уровне и уровне канала передачи данных.

### <a name="how-azure-implements-isolation"></a>Как Azure реализует изоляцию

Контролер структуры Azure отвечает за распределение ресурсов инфраструктуры между рабочими нагрузками клиента, управляя односторонней связью между узлом и виртуальными машинами. Низкоуровневая оболочка Azure принудительно разделяет память и процессы между виртуальными машинами, обеспечивая безопасную передачу сетевого трафика клиентам гостевой ОС. В Azure также реализована изоляция для клиентов, хранилища и виртуальных сетей.

* Каждый клиент Azure AD логически изолирован с помощью периметра безопасности.
* Учетные записи службы хранилища Azure являются уникальными в пределах каждой подписки. Доступ с их использованием подтверждается ключами учетной записи хранения.
* Виртуальные сети логически изолированы благодаря использованию комбинации уникальных частных IP-адресов, брандмауэров и списков управления доступом по протоколу IP. Балансировщики нагрузки направляют трафик соответствующим клиентам на основе определений конечной точки.

## <a name="virtual-networks-and-firewalls"></a>Виртуальные сети и брандмауэры

[Распределенные и виртуальные сети](http://download.microsoft.com/download/4/3/9/43902EC9-410E-4875-8800-0788BE146A3D/Windows%20Azure%20Network%20Security%20Whitepaper%20-%20FINAL.docx) в Azure обеспечивают логическую изоляцию трафика частной сети от трафика других виртуальных сетей Azure.

![Антивредоносное ПО Майкрософт в Azure](./media/azure-security-getting-started/sec-azgsfig4.PNG)

Подписка может содержать несколько изолированных частных сетей с настроенным брандмауэром, балансировкой нагрузки и преобразованием сетевых адресов.

Azure предоставляет три основных уровня разделения сети в каждом кластере Azure для логического разделения трафика. [Виртуальные локальные сети](https://azure.microsoft.com/services/virtual-network/) (VLAN) используются для разделения трафика клиента и остального сетевого трафика Azure. Балансировщики нагрузки ограничивают доступ к сети Azure за пределами кластера.

Входящий и исходящий сетевой трафик виртуальных машин должен проходить через виртуальный коммутатор низкоуровневой оболочки. IP-фильтр в корневой ОС изолирует корневую виртуальную машину от гостевых виртуальных машин, а гостевые виртуальные машины — друг от друга. Он фильтрует трафик для ограничения взаимодействия между узлами клиента и общедоступным сегментом Интернета (на основе конфигурации службы клиента), отделяя их от других клиентов.

С помощью IP-фильтра можно запретить виртуальным машинам следующие действия:

* создавать ложный трафик;
* получать не предназначенный им трафик;
* направлять трафик защищенным конечным точкам инфраструктуры;
* отправлять или получать несоответствующий широковещательный трафик.

Виртуальные машины можно размещать в [виртуальных сетях Azure](https://azure.microsoft.com/documentation/services/virtual-network/). Эти виртуальные сети аналогичны сетям, настраиваемым в локальных средах, где они обычно связаны с виртуальным коммутатором. Виртуальные машины, подключенные к одной виртуальной сети Azure, могут обмениваться данными без дополнительной настройки. Кроме того, в пределах виртуальной сети можно настроить разные подсети.

Ниже представлены технологии Azure, которые обеспечивают защиту при обмене данными в пределах виртуальной сети.

* [**Группы безопасности сети (NSG)**](../virtual-network/security-overview.md). С помощью группы безопасности сети вы можете контролировать входящий трафик экземпляров виртуальных машин в вашей виртуальной сети. Группа безопасности сети содержит правила контроля доступа, которые разрешают или запрещают трафик в зависимости от направления трафика, протокола, исходного и целевого адреса и порта.
* [**Определяемые пользователем маршруты**](../virtual-network/virtual-networks-udr-overview.md). Маршрутизацией пакетов можно управлять через виртуальное устройство. Для этого создаются пользовательские маршруты, для которых настраивается передача пакетов, передаваемых в конкретную подсеть в виртуальное устройство безопасности сети при следующем прыжке.
* [**IP-пересылка**](../virtual-network/virtual-networks-udr-overview.md). Виртуальное устройство безопасности сети должно иметь возможность получать входящий трафик, предназначенный не ему. Чтобы разрешить виртуальной машине получать трафик, передаваемый по другим адресам, необходимо включить IP-пересылку.
* [**Принудительное туннелирование**](../vpn-gateway/vpn-gateway-about-forced-tunneling.md). Принудительное туннелирование позволяет перенаправлять (принудительно направлять) весь интернет-трафик, созданный виртуальными машинами в виртуальной сети, обратно в локальное расположение через VPN-туннель типа "сеть — сеть" для проверки и аудита.
* [**Списки управления доступом для конечной точки**](../virtual-machines/windows/classic/setup-endpoints.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json). Определив списки управления доступом для конечной точки, можно определять в виртуальной сети виртуальные машины, на которых разрешены входящие подключения из Интернета.
* [**Партнерские решения для сетевой безопасности**](https://azure.microsoft.com/marketplace/). Из Azure Marketplace можно получить доступ к ряду партнерских решений для обеспечения безопасности сети.

### <a name="how-azure-implements-virtual-networks-and-firewalls"></a>Как в Azure реализованы виртуальные сети и брандмауэры

В Azure используются брандмауэры с фильтрацией пакетов на всех виртуальных машинах узла и гостевых виртуальных машинах по умолчанию. Кроме того, в образах ОС Windows из коллекции Azure Marketplace брандмауэр Windows включен по умолчанию. Подсистемы балансировки нагрузки, расположенные по периметру общедоступной сети Azure, управляют обменом данными на основе списков управления доступом по протоколу IP (контролируется администраторами клиента).

Azure перемещает данные клиента по закрытым зашифрованным каналам связи в ходе нормальной работы или при возникновении аварии. Ниже представлены другие возможности Azure, используемые в виртуальных сетях и брандмауэрах.

* **Брандмауэр собственного узла.** Azure Service Fabric и служба хранилища Azure выполняются в собственной ОС без низкоуровневой оболочки. Поэтому брандмауэр Windows настраивается с использованием двух предыдущих наборов правил. Хранилища работают в собственной операционной системе. Это нужно для оптимизации производительности.
* **Брандмауэр узла**. Это средство используется для защиты ОС узла, которая выполняется с низкоуровневой оболочкой. Правила программируются так, чтобы разрешать взаимодействовать с ОС узла через определенный порт только контроллеру Service Fabric и полям перехода. Существуют другие исключения, разрешающие ответы DHCP и DNS. Azure использует файл конфигурации виртуальной машины, который содержит шаблон правил брандмауэра для ОС узла. Узел защищен от внешних атак брандмауэром Windows, который разрешает взаимодействие только с известными источниками, прошедшими проверку подлинности.
* **Гостевой брандмауэр**. Он использует те же правила, что и фильтр пакетов коммутатора виртуальной машины, но реализован в другом программном обеспечении (т. е. в брандмауэре Windows гостевой ОС). Гостевой брандмауэр виртуальной машины можно настроить для ограничения входящего и исходящего обмена данными гостевой виртуальной машины, даже если такой обмен данными разрешен в конфигурациях в IP-фильтре узла. Например, с помощью гостевого брандмауэра виртуальной машины можно ограничить обмен данными между двумя виртуальными сетями, для которых настроено двустороннее подключение.
* **Брандмауэр хранилища**. Брандмауэр в интерфейсе хранилища фильтрует трафик так, чтобы он поступал только через порты 80 и 443 или другие порты необходимых служебных программ. Брандмауэр в серверной части хранилища ограничивает связь только входящей информацией, поступающей от серверов переднего плана хранилища.
* **Шлюз виртуальной сети**. [Шлюзы виртуальной сети Azure](../vpn-gateway/virtual-networks-configure-vnet-to-vnet-connection.md) используются в качестве межсетевых шлюзов для подключения рабочих нагрузок в виртуальной сети Azure к локальным сайтам. Это необходимо для подключения к локальным сайтам через [туннели IPsec VPN типа "сеть — сеть"](../vpn-gateway/vpn-gateway-create-site-to-site-rm-powershell.md) или каналы [ExpressRoute](../expressroute/expressroute-introduction.md). Для туннелей VPN IPsec/IKE шлюзы выполняют подтверждение по протоколу IKE и устанавливают VPN-туннели типа "сеть — сеть" с использованием IPsec между виртуальными сетями и локальными сайтами. Кроме того, шлюзы виртуальной сети служат конечными точками для [подключений VPN типа "точка — сеть"](../vpn-gateway/vpn-gateway-point-to-site-create.md).

## <a name="secure-remote-access"></a>Безопасный удаленный доступ

Данные, хранящиеся в облаке, должны иметь достаточно механизмов защиты для предотвращения эксплойтов и обеспечения конфиденциальности и целостности при передаче. К таким механизмам относятся сетевые средства управления, которые связаны с корпоративными механизмами для управления удостоверениями и доступом на основе политик с возможностью аудита.

Встроенная технология шифрования позволяет шифровать данные в развертываниях и при передаче между развертываниями, между регионами Azure, а также данные, передаваемые из Azure в локальные центры обработки данных. Доступ администратора к виртуальным машинам через [сеансы удаленного рабочего стола](../virtual-machines/windows/classic/connect-logon.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json), [удаленный сеанс Windows PowerShell](http://blogs.technet.com/b/heyscriptingguy/archive/2013/09/07/weekend-scripter-remoting-the-cloud-with-windows-azure-and-powershell.aspx) и портал Azure всегда шифруется.

Чтобы безопасным образом расширить локальный центр обработки данных в облако, используйте подключения Azure ([VPN типа "сеть — сеть"](../vpn-gateway/vpn-gateway-create-site-to-site-rm-powershell.md) и [VPN типа "точка — сеть"](../vpn-gateway/vpn-gateway-point-to-site-create.md)), а также выделенные каналы связи [ExpressRoute](../expressroute/expressroute-introduction.md). Помните, что подключения к виртуальным сетям Azure через VPN шифруются.

### <a name="how-azure-implements-secure-remote-access"></a>Как Azure реализует безопасный удаленный доступ

При подключениях к порталу Azure всегда должна выполняться проверка подлинности и использоваться протокол SSL/TLS. Для безопасного управления можно настроить сертификаты управления. Полностью поддерживаются такие соответствующие отраслевым стандартам безопасные протоколы, как [SSTP](https://technet.microsoft.com/magazine/2007.06.cableguy.aspx) и [IPsec](https://en.wikipedia.org/wiki/IPsec).

[Azure ExpressRoute](../expressroute/expressroute-introduction.md) позволяет создавать частные подключения между центрами обработки данных Azure и инфраструктурой вашей локальной среды или среды для совместного размещения. Подключения ExpressRoute не проходят через общедоступный Интернет. Они обеспечивают более высокие показатели надежности, скорости и безопасность, а также более низкие показатели задержки, чем обычные веб-каналы связи. Иногда использование подключений ExpressRoute для передачи данных между локальными сетями и Azure также помогает значительно сократить затраты.

## <a name="logging-and-monitoring"></a>Ведение журналов и мониторинг

В Azure предусмотрена регистрация событий с проверкой подлинности, которые связаны с безопасностью. В ходе этой регистрации создается журнал аудита. Решение разработано с учетом защиты от мошенничества. Регистрируется информация о системе, например журналы событий безопасности на виртуальных машинах инфраструктуры Azure и Azure AD. Мониторинг событий безопасности включает сбор таких событий, как изменения в IP-адресах DHCP-сервера или DNS-сервера, попытки доступа к заблокированным портам, протоколам или IP-адресам, изменения в параметрах политики безопасности или брандмауэра, создание учетной записи или группы, неожиданные процессы или установка драйвера.

![Антивредоносное ПО Майкрософт в Azure](./media/azure-security-getting-started/sec-azgsfig5.PNG)

Журналы аудита, которые записывают доступ и действия привилегированного пользователя, попытки авторизованного и несанкционированного доступа, исключения системы и события, связанные с безопасностью информации, сохраняются в течение определенного времени. За сохранение журналов отвечает пользователь, так как он настраивает сбор и сохранение журналов согласно своим требованиям.

### <a name="how-azure-implements-logging-and-monitoring"></a>Как Azure реализует ведение журналов и мониторинг

Azure развертывает агенты управления (MA) и агенты монитора безопасности Azure (ASM) на каждом управляемом вычислительном узле, узле хранилища и узле структуры вне зависимости от его типа (внутренний или виртуальный). Каждый агент настроен таким образом, чтобы выполнять проверку подлинности в учетной записи хранения группы обслуживания с помощью сертификата, полученного из хранилища сертификатов Azure, и передавать предварительно настроенные диагностические данные и данные о событиях в учетную запись хранения. Эти агенты не развертываются на виртуальных машинах клиентов.

Администраторы Azure получают доступ к журналам через веб-портал для использования управляемого доступа с проверкой подлинности к журналам. Администратор может анализировать, фильтровать и коррелировать журналы. Учетные записи хранения группы обслуживания Azure для журналов защищены от прямого доступа администратора для предотвращения несанкционированного изменения данных журнала.

Корпорация Майкрософт собирает журналы из сетевых устройств с помощью протокола Syslog, а также из серверов узлов с помощью служб ACS Microsoft. Эти журналы помещаются в базу данных журналов, в которой генерируются оповещения при возникновении подозрительных событий. Администратор может получать доступ к этим журналам и анализировать их.

[Система диагностики Azure](https://msdn.microsoft.com/library/azure/gg433048.aspx) — компонент Azure, который позволяет собирать диагностические данные от приложений, запущенных в среде Azure. Это диагностические данные, используемые для отладки и устранения неполадок, измерения производительности, мониторинга использования ресурсов, анализа трафика и планирования загрузки, а также для аудита. После сбора диагностические данные можно передать в учетную запись хранения Azure для сохранения. Передача может быть запланированной или выполняться по требованию.

## <a name="threat-mitigation"></a>Предотвращение угроз

Помимо изоляции, шифрования и фильтрации, Azure использует несколько механизмов и процессов предотвращения угроз для защиты инфраструктуры и служб. К ним относятся внутренние средства управления и технологии, используемые для обнаружения и устранения угроз (таких как DDoS), эскалация привилегий и [проект OWASP Топ-10](https://www.owasp.org/index.php/Category:OWASP_Top_Ten_Project).

Средства управления безопасностью и процессы по управлению рисками, предлагаемые корпорацией Майкрософт для защиты облачной инфраструктуры, снижают риск возникновения инцидентов безопасности. В любом случае группа управления инцидентами безопасности (входит в группу онлайн-служб безопасности и соответствия требованиям корпорации Майкрософт) готова реагировать на инциденты без перерывов и выходных.

### <a name="how-azure-implements-threat-mitigation"></a>Как Azure реализует предотвращение угроз

В Azure есть средства управления безопасностью, которые помогают предотвращать угрозы (включая потенциальные угрозы в пользовательских средах). Ниже перечислены решения для предотвращения угроз, доступные в Azure.

* [Антивредоносное ПО Azure](azure-security-antimalware.md) включено по умолчанию на всех серверах инфраструктуры. При желании его можно включить на виртуальных машинах.
* Корпорация Майкрософт обеспечивает постоянный мониторинг серверов, сетей и приложений для выявления угроз и предотвращения эксплойтов. Автоматические оповещения сообщают администраторам об аномальном поведении, позволяя им выполнить корректирующие действия по устранению внутренних и внешних угроз.
* Вы можете развертывать в подписке такие решения безопасности от сторонних поставщиков, как брандмауэры веб-приложений от [Barracuda](https://techlib.barracuda.com/ng54/deployonazure).
* Корпорация Майкрософт проверяет средства защиты от несанкционированного доступа в ходе [тестирования для определения внешней угрозы](http://download.microsoft.com/download/C/1/9/C1990DBA-502F-4C2A-848D-392B93D9B9C3/Microsoft_Enterprise_Cloud_Red_Teaming.pdf). В рамках этого подхода специалисты Майкрософт симулируют атаку на реальные рабочие системы Azure (не используемые клиентами) для проверки уровня защиты от актуальных угроз.
* Интегрированные развернутые системы управляют распространением и установкой исправлений безопасности на платформах Azure.

## <a name="next-steps"></a>Дополнительная информация

[Центр управления безопасностью Azure](https://azure.microsoft.com/support/trust-center/)

[Блог группы безопасности Azure](http://blogs.msdn.com/b/azuresecurity/)

[Центр Microsoft Security Response Center](https://technet.microsoft.com/library/dn440717.aspx)

[Блог Active Directory](http://blogs.technet.com/b/ad/)
