---
title: Устранение неполадок развертывания виртуальных машин Linux (Resource Manager) | Документация Майкрософт
description: Устранение неполадок развертывания Resource Manager при создании виртуальной машины Linux в Azure
services: virtual-machines-linux, azure-resource-manager
documentationcenter: ''
author: JiangChen79
manager: felixwu
editor: ''
tags: top-support-issue, azure-resource-manager
ms.assetid: 906a9c89-6866-496b-b4a4-f07fb39f990c
ms.service: virtual-machines-linux
ms.workload: na
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 09/09/2016
ms.author: cjiang
ms.openlocfilehash: aea5db05843b0175b8ef8b713944e12262e33010
ms.sourcegitcommit: 3f33787645e890ff3b73c4b3a28d90d5f814e46c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/03/2018
ms.locfileid: "27579269"
---
# <a name="troubleshoot-resource-manager-deployment-issues-with-creating-a-new-linux-virtual-machine-in-azure"></a>Устранение неполадок в развертывании Resource Manager при создании виртуальной машины Linux в Azure
[!INCLUDE [virtual-machines-troubleshoot-deployment-new-vm-opening](../../../includes/virtual-machines-troubleshoot-deployment-new-vm-opening-include.md)]

[!INCLUDE [support-disclaimer](../../../includes/support-disclaimer.md)]

## <a name="top-issues"></a>Наиболее важные проблемы
[!INCLUDE [support-disclaimer](../../../includes/virtual-machines-linux-troubleshoot-deploy-vm-top.md)]

Описание других ситуаций и вопросов, связанных с развертыванием виртуальных машин, см. в статье [Устранение неполадок при развертывании виртуальных машин Linux в Azure](troubleshoot-deploy-vm.md).
## <a name="collect-activity-logs"></a>Сбор журналов действий
Для устранения неполадок прежде всего соберите журналы действий, чтобы определить ошибку, связанную с этой проблемой. Ниже представлены ссылки на подробные инструкции.

[Просмотр операций развертывания с помощью Azure Resource Manager](../../azure-resource-manager/resource-manager-deployment-operations.md)

[Операции аудита с помощью диспетчера ресурсов](../../resource-group-audit.md)

[!INCLUDE [virtual-machines-troubleshoot-deployment-new-vm-issue1](../../../includes/virtual-machines-troubleshoot-deployment-new-vm-issue1-include.md)]

[!INCLUDE [virtual-machines-linux-troubleshoot-deployment-new-vm-table](../../../includes/virtual-machines-linux-troubleshoot-deployment-new-vm-table.md)]

**Да**. Если универсальная ОС Linux передается и/или записывается как универсальный диск, ошибок не возникает. Аналогичным образом, если специализированная ОС Linux передается и/или записывается как специализированный диск, ошибок не возникает.

**Ошибки передачи:**

**Нет <sup>1</sup>.** Если универсальная ОС Linux передается как специализированный диск, отобразится ошибка времени ожидания подготовки, так как виртуальная машина зависает на этапе подготовки.

**Нет <sup>2</sup>.** Если специализированная ОС Linux передается как универсальный диск, отобразится ошибка подготовки, так как новая виртуальная машина запускается с исходными именем компьютера, именем пользователя и паролем.

**Способы устранения:**

Чтобы устранить обе ошибки, передайте исходный виртуальный жесткий диск, доступный в локальной среде, с тем же параметром (универсальный или специализированный), который установлен для операционной системы. Чтобы передать диск как универсальный, сначала обязательно выполните команду -deprovision.

**Ошибки записи:**

**Нет <sup>3</sup>.** Если универсальная ОС Linux передается как специализированный диск, отобразится ошибка времени ожидания подготовки, так как исходная виртуальная машина отмечена как универсальная и непригодная к использованию.

**Нет <sup>4</sup>.** Если специализированная ОС Linux передается как универсальный диск, отобразится ошибка подготовки, так как новая виртуальная машина запускается с исходными именем компьютера, именем пользователя и паролем. Кроме того, исходная виртуальная машина отмечена как специализированная и непригодна к использованию.

**Способы устранения:**

Чтобы устранить обе ошибки, удалите на портале текущий образ и [заново запишите его с текущих виртуальных жестких дисков](capture-image.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) с тем же параметром (универсальный или специализированный), который установлен для операционной системы.

## <a name="issue-custom-gallery-marketplace-image-allocation-failure"></a>Проблема: ошибка выделения (пользовательский образ, образ из коллекции или Marketplace)
Данная ошибка возникает в ситуациях, когда запрос на новую виртуальную машину прикреплен к кластеру, который либо не поддерживает запрашиваемый размер виртуальной машины, либо не располагает свободным пространством для размещения запроса.

**Причина 1**. Этот кластер не поддерживает запрошенный размер виртуальной машины.

**Способ устранения 1.**

* Повторите запрос с указанием меньшего размера виртуальной машины.
* Если нельзя изменить размер запрошенной виртуальной машины,
  * остановите все виртуальные машины в группе доступности.
    Для этого последовательно выберите **Группы ресурсов** > *имя вашей группы ресурсов* > **Ресурсы** > *имя вашей группы доступности* > **Виртуальные машины** > *имя вашей виртуальной машины* > **Остановить**.
  * После остановки всех виртуальных машин создайте новую виртуальную машину необходимого размера.
  * Сначала запустите новую виртуальную машину, а затем выберите каждую из остановленных виртуальных машин и нажмите кнопку **Запустить**.

**Причина 2**. Кластер не располагает свободными ресурсами.

**Способ устранения 2.**

* Повторите запрос позже.
* Если новая виртуальная машина должна быть частью другой группы доступности:
  * создайте новую виртуальную машину в другой группе доступности (в том же регионе);
  * добавьте новую виртуальную машину в ту же виртуальную сеть.

## <a name="next-steps"></a>Дополнительная информация
При возникновении проблем во время запуска остановленной виртуальной машины Linux или в случае изменения размера существующей виртуальной машины Linux в Azure см. раздел [Устранение неполадок в развертывании Resource Manager при перезагрузке или изменении размера существующей виртуальной машины Linux в Azure](restart-resize-error-troubleshooting.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).

