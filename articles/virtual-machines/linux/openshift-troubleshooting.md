---
title: Устранение неполадок с развертыванием OpenShift в Azure | Документация Майкрософт
description: Устранение неполадок с развертыванием OpenShift в Azure.
services: virtual-machines-linux
documentationcenter: virtual-machines
author: haroldw
manager: najoshi
editor: ''
tags: azure-resource-manager
ms.assetid: ''
ms.service: virtual-machines-linux
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-linux
ms.workload: infrastructure
ms.date: ''
ms.author: haroldw
ms.openlocfilehash: 35e554d3a9c7e7d56546ae9723c33eb59e906472
ms.sourcegitcommit: 6a22af82b88674cd029387f6cedf0fb9f8830afd
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/11/2017
ms.locfileid: "24139456"
---
# <a name="troubleshoot-openshift-deployment-in-azure"></a>Устранение неполадок с развертыванием OpenShift в Azure

Если кластер OpenShift не удается развернуть, проблему можно устранить несколькими способами. Просмотрите и сравните состояние развертывания с приведенным ниже списком кодов завершения.

- Код завершения 3: имя пользователя или пароль для подписки Red Hat либо идентификатор организации или ключ активации недопустимы.
- Код завершения 4: недопустимый идентификатор пула Red Hat или отсутствуют доступные права.
- Код завершения 5: не удалось подготовить тонкий том пула Docker.
- Код завершения 6: сбой установки кластера OpenShift.
- Код завершения 7: установка кластера OpenShift выполнена успешно, но не удалось настроить поставщик облачных решений Azure Cloud (проблема с настройкой основной конфигурации главного узла).
- Код завершения 8: установка кластера OpenShift выполнена успешно, но не удалось настроить поставщик облачных решений Azure Cloud (проблема с настройкой конфигурации узла на главном узле).
- Код завершения 9: установка кластера OpenShift выполнена успешно, но не удалось настроить поставщик облачных решений Azure Cloud (проблема с настройкой конфигурации узла на узле Infra или узле приложения).
- Код завершения 10: установка кластера OpenShift выполнена успешно, но не удалось настроить поставщик облачных решений Azure Cloud (устранение проблем на главном узле или невозможность внеплановой настройки главного узла).
- Код завершения 11: не удалось выполнить развертывание метрик.
- Код завершения 12: не удалось выполнить развертывание ведения журнала.

Коды завершения 7–10 обозначают, что кластер OpenShift установлен, но не удалось настроить поставщик облачных решений Azure. Вы можете подключиться к главному узлу (OpenShift Origin) по протоколу SSH или узлу-бастиону (платформе контейнеров OpenShift), а оттуда подключиться по протоколу SSH к каждому из узлов в кластере, чтобы устранить неполадки.

Общей причиной сбоев, описываемых кодами завершения 7–9, является то, что у субъекта-службы не было надлежащих разрешений на доступ к подписке или группе ресурсов. Если проблема в этом, назначьте правильные разрешения и вручную перезапустите скрипт, выполнение которого завершилось сбоем, и все следующие скрипты.

Обязательно перезапустите службу, которая завершилась сбоем (например, systemctl restart atomic-openshift-node.service), прежде чем выполнять сценарии снова.

Для дальнейшего устранения неполадок выполните подключение по протоколу SSH к главному узлу через порт 2200 (источник) или к узлу-бастиону через порт 22 (платформа контейнеров). Вам нужно получить права привилегированного пользователя (sudo su -), а затем перейти к следующему каталогу: /var/lib/waagent/custom-script/download.

Вы увидите папки с именами "0" и "1". В каждой из этих папок содержатся два файла: "stderr" и "stdout". Просмотрите эти файлы, чтобы определить, где произошел сбой.
