---
title: Краткое руководство. Создание виртуальной машины Linux с помощью портала Azure | Документация Майкрософт
description: Из этого краткого руководства вы узнаете, как с помощью портала Azure создать виртуальную машину Linux.
services: virtual-machines-linux
documentationcenter: virtual-machines
author: iainfoulds
manager: jeconnoc
editor: tysonn
tags: azure-resource-manager
ms.assetid: ''
ms.service: virtual-machines-linux
ms.devlang: na
ms.topic: quickstart
ms.tgt_pltfrm: vm-linux
ms.workload: infrastructure
ms.date: 04/24/2018
ms.author: iainfou
ms.custom: mvc
ms.openlocfilehash: 18ac0291bff2c0fbfffdd5dfa3097f8a6acb561f
ms.sourcegitcommit: 909469bf17211be40ea24a981c3e0331ea182996
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/10/2018
ms.locfileid: "34012889"
---
# <a name="quickstart-create-a-linux-virtual-machine-in-the-azure-portal"></a>Краткое руководство. Создание виртуальной машины под управлением Linux на портале Azure

Виртуальные машины Azure можно создать на портале Azure. В этом случае для создания виртуальных машин и всех связанных ресурсов используется пользовательский интерфейс в браузере. В этом кратком руководстве показано, как с помощью портала Azure развернуть в Azure виртуальную машину Linux под управлением Ubuntu. Чтобы проверить работу виртуальной машины, вы подключитесь к ней по протоколу SSH и установите веб-сервер NGINX.

Если у вас еще нет подписки Azure, [создайте бесплатную учетную запись Azure](https://azure.microsoft.com/free/?WT.mc_id=A261C142F), прежде чем начинать работу.

## <a name="create-ssh-key-pair"></a>Создание пары ключей SSH

Для работы с этим кратким руководством вам понадобится пара ключей SSH. Если у вас уже есть пара ключей SSH, этот шаг можно пропустить.

Чтобы создать пару ключей SSH и войти на виртуальную машину Linux, выполните приведенную ниже команду в оболочке Bash и следуйте инструкциям на экране. Например, можно использовать [Azure Cloud Shell](../../cloud-shell/overview.md) или [подсистему Windows для Linux](/windows/wsl/install-win10). Выходные данные команды включают имя файла открытого ключа. Скопируйте содержимое файла открытого ключа (`cat ~/.ssh/id_rsa.pub`) в буфер обмена.

```bash
ssh-keygen -t rsa -b 2048
```

Подробные сведения о создании пар ключей SSH, в том числе с помощью PuTTy, вы найдете в статье [Как использовать ключи SSH с Windows в Azure](ssh-from-windows.md).

## <a name="log-in-to-azure"></a>Вход в Azure

Войдите на портал Azure по адресу http://portal.azure.com.

## <a name="create-virtual-machine"></a>Создание виртуальной машины

1. Выберите **Создать ресурс** в верхнем левом углу окна портала Azure.

2. В поле поиска над списком ресурсов Azure Marketplace найдите и выберите **Ubuntu Server 16.04 LTS** от Canonical, затем выберите **Создать**.

3. Укажите имя виртуальной машины, например *myVM*, сохраните тип диска *SSD* и укажите имя пользователя, например *azureuser*.

4. . Для параметра **Тип проверки подлинности** выберите **Открытый ключ SSH** и вставьте открытый ключ в текстовое поле. Обязательно удалите из открытого ключа все начальные и (или) конечные пробелы.

    ![Ввод основных сведений о виртуальной машине в колонке портала](./media/quick-create-portal/create-vm-portal-basic-blade.png)

5. Выберите **Создать** и укажите имя для группы ресурсов, например *myResourceGroup*. Выберите нужное **расположение** и нажмите кнопку **ОК**.

4. Выберите размер виртуальной машины. Вы можете установить фильтр, например по *типу вычислений* или *типу диска*. Рекомендуем использовать размер виртуальной машины *D2s_v3*.

    ![Снимок экрана, на котором показаны размеры виртуальных машин](./media/quick-create-portal/create-linux-vm-portal-sizes.png)

5. В разделе **Параметры** сохраните значения по умолчанию и нажмите кнопку **OK**.

6. На странице сводной информации выберите **Создать**, чтобы начать развертывание виртуальной машины.

7. Новая виртуальная машина закрепляется на панели мониторинга портала Azure. Когда развертывание завершится, автоматически отобразятся сводные сведения о виртуальной машине.

## <a name="connect-to-virtual-machine"></a>Подключение к виртуальной машине

Создайте SSH-подключение к виртуальной машине.

1. Нажмите кнопку **Подключиться** на странице обзора виртуальной машины. 

    ![Портал 9](./media/quick-create-portal/portal-quick-start-9.png)

2. На странице **подключения к виртуальной машине** сохраните значения по умолчанию, чтобы использовать подключение по DNS-имени через порт 22. В поле **Вход с использованием локальной учетной записи ВМ** представлена команда для подключения. Нажмите кнопку рядом, чтобы скопировать эту команду. Ниже представлен пример команды подключения по SSH:

    ```bash
    ssh azureuser@myvm-123abc.eastus.cloudapp.azure.com
    ```

3. Вставьте команду подключения по SSH в командную оболочку, например Azure Cloud Shell или Bash на Ubuntu в Windows, чтобы создать подключение. 

## <a name="install-web-server"></a>Установка веб-сервера

Чтобы проверить работу виртуальной машины, установите веб-сервер NGINX. Чтобы обновить источники пакетов и установить последнюю версию пакета NGINX, выполните следующие команды в сеансе SSH:

```bash
# update packages
sudo apt-get -y update

# install NGINX
sudo apt-get -y install nginx
```

Выполнив это действие, закройте сеанс SSH командой `exit` и вернитесь на страницу свойств виртуальной машины на портале Azure.

## <a name="open-port-80-for-web-traffic"></a>Открытие порта 80 для веб-трафика

Группа безопасности сети (NSG) защищает входящий и исходящий трафик. При создании виртуальной машины на портале Azure правило для входящего трафика создается через порт 22 для SSH-подключений. На этой виртуальной машине вы разместите веб-сервер, а значит, нужно создать правило NSG для порта 80.

1. На странице обзора виртуальной машины выберите **Сети**.
2. Отобразится список установленных правил для входящих и исходящих подключений. Выберите действие **Добавить правило входящего порта**.
3. Выберите вариант **Базовый** в верхней части окна. Затем выберите *HTTP* из списка доступных служб. Система автоматически предложит порт 80, приоритет и имя.
4. Чтобы создать правило, выберите **Добавить**.

## <a name="view-the-web-server-in-action"></a>Проверка работы веб-сервера

Установив NGINX и открыв порт 80 для виртуальной машины, вы можете получить доступ к веб-серверу через Интернет. Откройте веб-браузер и введите общедоступный IP-адрес виртуальной машины. Общедоступный IP-адрес можно найти на странице обзора виртуальной машины или в верхней части страницы *Сети*, где вы ранее добавляли правило для входящего порта.

![Сайт NGINX по умолчанию](./media/quick-create-cli/nginx.png)

## <a name="clean-up-resources"></a>Очистка ресурсов

Если группа ресурсов, виртуальная машина и все связанные с ними ресурсы вам больше не требуются, их можно удалить. Для этого выберите группу ресурсов для виртуальной машины, выберите действие **Удалить** и подтвердите имя удаляемой группы ресурсов.

## <a name="next-steps"></a>Дополнительная информация

В рамках этого краткого руководства вы развернули простую виртуальную машину, создали группу безопасности сети и правило для нее, а также установили базовый веб-сервер. Дополнительные сведения о виртуальных машинах Azure см. в руководстве для виртуальных машин Linux.

> [!div class="nextstepaction"]
> [Создание виртуальных машин Linux и управление ими с помощью Azure CLI](./tutorial-manage-vm.md)
