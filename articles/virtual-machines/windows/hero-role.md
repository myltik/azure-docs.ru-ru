---
title: "Установка IIS на вашу первую виртуальную машину Windows | Документация Майкрософт"
description: "Поэкспериментируйте со своей первой виртуальной машиной Windows, установив на нее IIS и открыв порт 80 с помощью портала Azure."
keywords: 
services: virtual-machines-windows
documentationcenter: 
author: cynthn
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 6334ea45-db6b-4e08-abb5-1f98927ebc34
ms.service: virtual-machines-windows
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-windows
ms.devlang: na
ms.topic: article
ms.date: 09/06/2016
ms.author: cynthn
translationtype: Human Translation
ms.sourcegitcommit: 197ebd6e37066cb4463d540284ec3f3b074d95e1
ms.openlocfilehash: b11ce1eab0c26a802c31bc418cdf725cbc4fba30
ms.lasthandoff: 03/31/2017


---
# <a name="experiment-with-installing-a-role-on-your-windows-vm"></a>Эксперимент с установкой роли на виртуальной машине Windows
После создания и запуска своей первой виртуальной машины можно перейти к установке программного обеспечения и служб. В этом учебнике мы установим службы IIS на виртуальную машину Windows Server с помощью диспетчера сервера. Затем мы создадим группу безопасности сети с помощью портала Azure, чтобы открыть порт 80 для трафика IIS. 

Если вы еще не создали свою первую виртуальную машину, то вам следует вернуться к разделу [Создание первой виртуальной машины Windows на портале Azure](../virtual-machines-windows-hero-tutorial.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json), прежде чем продолжить работу с этим руководством.

## <a name="make-sure-the-vm-is-running"></a>Проверка состояния виртуальной машины
1. Откройте [портал Azure](https://portal.azure.com).
2. В главном меню щелкните **Виртуальные машины**. Затем выберите виртуальную машину из списка.
3. Если состояние — **Остановлена (освобождена)**, то нажмите кнопку **Запустить** в колонке **Основные компоненты** виртуальной машины. Если состояние — **Работает**, то можно перейти к следующему шагу.

## <a name="connect-to-the-virtual-machine-and-sign-in"></a>Подключение к виртуальной машине и вход в нее
1. В главном меню щелкните **Виртуальные машины**. Затем выберите виртуальную машину из списка.
2. В колонке виртуальной машины щелкните **Подключить**. В результате этого будет создан и скачан RDP-файл в виде ярлыка, с помощью которого можно подключиться к компьютеру. Этот файл можно сохранить на рабочем столе для быстрого доступа. **Откройте** этот файл, чтобы подключиться к виртуальной машине.
   
    ![Снимок экрана портала Azure: подключение к виртуальной машине](./media/hero-role/connect.png)
3. Появится предупреждение, что издатель RDP-файла неизвестен. Это нормально. Чтобы продолжить, в окне удаленного рабочего стола нажмите кнопку **Подключить** .
   
    ![Снимок экрана с предупреждением о неизвестном издателе](./media/hero-role/rdp-warn.png)
4. В окне "Безопасность Windows" введите имя пользователя и пароль локальной учетной записи, созданной при создании виртуальной машины. Введите имя пользователя в формате *имя_ВМ*&#92;*имя_пользователя*, а затем нажмите кнопку **ОК**.
   
    ![Снимок экрана: ввод имени виртуальной машины, имени пользователя и пароля](./media/hero-role/credentials.png)
5. Вы получите предупреждение о том, что сертификат невозможно проверить. Это нормально. Щелкните **Да** для проверки удостоверения виртуальной машины и завершения входа в систему.
   
   ![Снимок экрана с сообщением о проверке удостоверения виртуальной машины](./media/hero-role/cert-warning.png)

Если при попытке подключения возникает ошибка, см. статью [Устранение неполадок с подключением к удаленному рабочему столу на виртуальной машине Azure под управлением Windows](troubleshoot-rdp-connection.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).

## <a name="install-iis-on-your-vm"></a>Установка служб IIS на виртуальной машине
Войдя на виртуальную машину, мы в порядке эксперимента установим роль сервера.

1. Откройте **диспетчер серверов** , если он еще не открыт. Откройте меню **Пуск** и выберите **Диспетчер сервера**.
2. В окне **Диспетчере сервера** выберите **Локальный сервер** в области слева. 
3. В меню выберите **Управление** > **Добавить роли и компоненты**.
4. В мастере добавления ролей и компонентов на странице выбора **типа установки** щелкните **Установка ролей или компонентов** и нажмите кнопку **Далее**.
   
    ![Снимок экрана: вкладка "Тип установки" в мастере добавления ролей и компонентов](./media/hero-role/role-wizard.png)
5. Выберите виртуальную машину в пуле серверов и нажмите кнопку **Далее**.
6. На странице **Роли сервера** выберите **Веб-сервер (IIS)**.
   
    ![Снимок экрана: вкладка "Роли сервера" в мастере добавления ролей и компонентов](./media/hero-role/add-iis.png)
7. Во всплывающем окне добавления компонентов, необходимых для IIS, установите флажок **Включить средства управления**, а затем щелкните **Добавить компоненты**. Закрыв всплывающее окно, нажмите кнопку **Далее** в мастере.
   
    ![Снимок экрана: всплывающее окно для подтверждения добавления роли IIS](./media/hero-role/confirm-add-feature.png)
8. На странице компонентов щелкните **Далее**.
9. На странице **Роль веб-сервера (IIS)** щелкните **Далее**. 
10. На странице **Службы ролей** щелкните **Далее**. 
11. На странице **подтверждения** нажмите кнопку **Установить**. 
12. После завершения установки нажмите кнопку **Закрыть** в мастере.

## <a name="open-port-80"></a>Открытие порта 80
Чтобы виртуальная машина могла принимать входящий трафик через порт 80, в группу безопасности сети необходимо добавить правило для входящего трафика. 

1. Откройте [портал Azure](https://portal.azure.com).
2. В разделе **Виртуальные машины** выберите созданную виртуальную машину.
3. В разделе параметров виртуальных машин выберите **Сетевые интерфейсы** , а затем выберите существующий сетевой интерфейс.
   
    ![Снимок экрана: настройка виртуальной машины для сетевых интерфейсов](./media/hero-role/network-interface.png)
4. В разделе **Основные компоненты** для сетевого интерфейса щелкните **Группа безопасности сети**.
   
    ![Снимок экрана: раздел "Основные компоненты" для сетевых интерфейсов](./media/hero-role/select-nsg.png)
5. В колонке **Основные компоненты** для группы безопасности сети должно быть указано одно существующее правило по умолчанию для входящего трафика **default-allow-rdp**, разрешающее вход на виртуальную машину. Добавьте еще одно правило для входящего трафика, разрешающее трафик IIS. Щелкните **Правило безопасности для входящего трафика**.
   
    ![Снимок экрана: раздел "Основные компоненты" для группы безопасности сети](./media/hero-role/inbound.png)
6. В разделе **Правила безопасности для входящего трафика** щелкните **Добавить**.
   
    ![Снимок экрана: кнопка для добавления правила безопасности](./media/hero-role/add-rule.png)
7. В разделе **Правила безопасности для входящего трафика** щелкните **Добавить**. Введите **80** для диапазона портов и убедитесь, что установлен переключатель **Разрешить**. Когда все будет готово, нажмите кнопку **ОК**.
   
    ![Снимок экрана: кнопка для добавления правила безопасности](./media/hero-role/port-80.png)

Дополнительные сведения о группах безопасности сети, а также о правилах для входящего и исходящего трафика см. в статье [Открытие портов для виртуальной машины в Azure с помощью портала Azure](nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).

## <a name="connect-to-the-default-iis-website"></a>Подключение к веб-сайту IIS по умолчанию
1. На портале Azure щелкните **Виртуальные машины** и выберите нужную виртуальную машину.
2. В колонке **Основные компоненты** скопируйте **общедоступный IP-адрес**.
   
    ![Снимок экрана: расположение общедоступного IP-адреса виртуальной машины](./media/hero-role/ipaddress.png)
3. Откройте браузер, введите в адресную строку общедоступный IP-адрес в формате http://<publicIPaddress> и нажмите клавишу **ВВОД**, чтобы перейти по этому адресу.
4. В браузере должна открыться веб-страница службы IIS по умолчанию. Она имеет следующий вид.
   
    ![Снимок экрана: вид страницы IIS по умолчанию в браузере](./media/hero-role/iis-default.png)

## <a name="next-steps"></a>Дальнейшие действия
* Вы также можете попробовать [подключить диск данных](attach-disk-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) к виртуальной машине. Диски данных предоставляют дополнительное хранилище для виртуальной машины.


