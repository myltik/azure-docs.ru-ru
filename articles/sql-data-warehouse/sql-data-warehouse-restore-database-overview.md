---
title: Восстановление хранилища данных Azure (локального и геоизбыточного) | Документация Майкрософт
description: Обзор параметров для восстановления базы данных в хранилище данных SQL Azure.
services: sql-data-warehouse
documentationcenter: NA
author: barbkess
manager: jenniehubbard
editor: ''
ms.assetid: 3e01c65c-6708-4fd7-82f5-4e1b5f61d304
ms.service: sql-data-warehouse
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: data-services
ms.custom: backup-restore
ms.date: 12/06/2017
ms.author: barbkess
ms.openlocfilehash: abf8f0b1005aec71812dc8ebfd12fe65250d7a0e
ms.sourcegitcommit: 48ab1b6526ce290316b9da4d18de00c77526a541
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/23/2018
ms.locfileid: "30198382"
---
# <a name="sql-data-warehouse-restore"></a>Восстановление хранилища данных SQL
> [!div class="op_single_selector"]
> * [Обзор][Overview]
> * [Портал][Portal]
> * [PowerShell][PowerShell]
> * [REST][REST]
> 
> 

Хранилище данных SQL предоставляет функции локального восстановления и геовосстановления, входящие в набор средств аварийного восстановления. Резервные копии хранилища данных используются для восстановления хранилища данных до точки восстановления в основном регионе, а геоизбыточные резервные копии — для восстановления в другом географическом регионе. В этой статье рассматриваются особенности восстановления хранилища данных.

## <a name="what-is-a-data-warehouse-restore"></a>Что такое восстановление хранилища данных?
Восстановление хранилища данных означает создание нового хранилища данных из резервной копии существующего или удаленного хранилища данных. Восстановленное хранилище данных воссоздает архивное хранилище данных на определенный момент времени. Так как хранилище данных SQL является распределенной системой, то восстановленное хранилище данных состоит из множества файлов резервных копий, которые хранятся в больших двоичных объектах Azure. 

Восстановление базы данных является важной частью любой стратегии непрерывности бизнес-процессов и аварийного восстановления, так как позволяет воссоздать данные после случайного повреждения или удаления.

Дополнительные сведения можно найти в разделе 

* [Архивация хранилища данных SQL](sql-data-warehouse-backups.md)
* [Общие сведения о непрерывности бизнес-процессов](../sql-database/sql-database-business-continuity.md)

## <a name="data-warehouse-restore-points"></a>Точки восстановления хранилища данных SQL
Преимуществом службы хранилища Azure уровня "Премиум" является то, что хранилище данных SQL использует моментальные снимки больших двоичных объектов службы хранилища Azure для создания резервных копий основного хранилища данных. У каждого моментального снимка есть точка восстановления, которая представляет время начала создания моментального снимка. Для восстановления хранилища данных следует выбрать точку восстановления и выполнить команду restore.  

При восстановлении в хранилище данных SQL всегда создается новое хранилище данных из резервной копии. Можно сохранить восстановленное и текущее хранилища данных либо удалить один из них. Если вы хотите заменить текущее хранилище данных восстановленным, его можно переименовать.

Если необходимо восстановить удаленное или приостановленное хранилище данных, вы можете [создать запрос в службу поддержки](sql-data-warehouse-get-started-create-support-ticket.md). 

<!-- 
### Can I restore a deleted data warehouse?

Yes, you can restore the last available restore point.

Yes, for the next seven calendar days. When you delete a data warehouse, SQL Data Warehouse actually keeps the data warehouse and its snapshots for seven days just in case you need the data. After seven days, you won't be able to restore to any of the restore points. -->

## <a name="geo-redundant-restore"></a>Геоизбыточное восстановление
Хранилище данных можно восстановить в любой регион, поддерживающий хранилище данных SQL Azure выбранного вами уровня производительности. Обратите внимание, что 9000 и 18000 DWU не поддерживаются во всех регионах на этапе предварительной версии.

> [!NOTE]
> Чтобы выполнить географически избыточное восстановление, необходимо отказаться от этой функции.
> 
> 

## <a name="restore-timeline"></a>Временная шкала восстановления
Вы можете восстановить базу данных до любой точки восстановления за последние семь дней. Моментальные снимки создаются каждые четыре-восемь часов и доступны в течение семи дней. Если моментальный снимок старше семи дней, то срок его действия истекает и его точка восстановления перестает быть доступной.

## <a name="restore-costs"></a>Затраты на восстановление
Плата за хранилище для восстановленного хранилища данных взимается по расценкам службы хранилища Azure уровня "Премиум". 

Если хранилище данных приостанавливается, плата за хранилище взимается по расценкам хранилища Azure класса Premium. Преимущество приостановки заключается в том, что за вычислительные ресурсы DWU плата не взимается.

Ознакомиться с ценами на хранилище данных SQL можно [здесь](https://azure.microsoft.com/pricing/details/sql-data-warehouse/).

## <a name="uses-for-restore"></a>Применение восстановления
Основное назначение восстановления хранилища данных — восстановление данных после случайной потери или повреждения.

Восстановление хранилища данных может также использоваться для хранения резервных копий дольше семи дней. После восстановления из резервной копии вы получаете хранилище данных в сети и можете приостановить его на неограниченное время для экономии вычислительных ресурсов. Хранение приостановленной базы данных оплачивается по расценкам службы хранилища Azure уровня "Премиум". 

## <a name="related-topics"></a>Связанные разделы
### <a name="scenarios"></a>Сценарии
* Сведения об обеспечении непрерывности бизнес-процессов см. в [этом обзоре](../sql-database/sql-database-business-continuity.md).

<!-- ### Tasks -->

Для восстановления хранилища данных можно использовать:

* портал Azure (ознакомьтесь с разделом [Восстановление хранилища данных SQL Azure (портал)](sql-data-warehouse-restore-database-portal.md));
* командлеты PowerShell (ознакомьтесь с разделом [Восстановление хранилища данных SQL Azure (PowerShell)](sql-data-warehouse-restore-database-powershell.md));
* интерфейсы REST API (ознакомьтесь с разделом [Восстановление хранилища данных SQL Azure (REST API)](sql-data-warehouse-restore-database-rest-api.md)).

<!-- ### Tutorials -->

<!--Image references-->

<!--Article references-->
[Azure SQL Database business continuity overview]: ../sql-database/sql-database-business-continuity.md
[Overview]: ./sql-data-warehouse-restore-database-overview.md
[Portal]: ./sql-data-warehouse-restore-database-portal.md
[PowerShell]: ./sql-data-warehouse-restore-database-powershell.md
[REST]: ./sql-data-warehouse-restore-database-rest-api.md

<!--MSDN references-->


<!--Other Web references-->
