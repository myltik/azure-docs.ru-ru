---
title: Ограничения емкости хранилища данных SQL | Документация Майкрософт
description: Максимальные значения для подключений, баз данных, таблиц и запросов для хранилища данных SQL.
services: sql-data-warehouse
documentationcenter: NA
author: barbkess
manager: jhubbard
editor: ''
ms.assetid: e1eac122-baee-4200-a2ed-f38bfa0f67ce
ms.service: sql-data-warehouse
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: data-services
ms.custom: reference
ms.date: 03/27/2018
ms.author: kevin;barbkess
ms.openlocfilehash: fa7d8a9880ff97f30dc583d792e39aa914ea5435
ms.sourcegitcommit: d74657d1926467210454f58970c45b2fd3ca088d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2018
---
# <a name="sql-data-warehouse-capacity-limits"></a>Ограничения емкости хранилища данных SQL
В следующих таблицах указаны максимальные значения, допускаемые различными компонентами хранилища данных SQL Azure.

## <a name="workload-management"></a>Управление рабочей нагрузкой
| Категория | ОПИСАНИЕ | Максимальная |
|:--- |:--- |:--- |
| [Единицы использования хранилища данных (DWU)][Data Warehouse Units (DWU)] |Максимальное число DWU на одно хранилище данных SQL | [Уровень производительности](performance-tiers.md), оптимизированный для эластичности: 6000 DWU<br></br>[Уровень производительности](performance-tiers.md), оптимизированный для вычислений: 30 000 cDWU |
| [Единицы использования хранилища данных (DWU)][Data Warehouse Units (DWU)] |Стандартное количество единиц передачи данных (DTU) для одного сервера |54 000<br></br>По умолчанию для каждого сервера SQL Server (например, myserver.database.windows.net) предусмотрена квота в 54 000 DTU, обеспечивающая до 6000 cDWU. Эта квота является просто ограничением для безопасности. Вы можете увеличить квоту, [отправив запрос в службу поддержки][creating a support ticket] и указав *Квота* в качестве типа запроса.  Чтобы рассчитать свою потребность в DTU, умножьте 7,5 на общее необходимое количество DWU, или умножьте 9,0 на общее необходимое количество cDWU. Например: <br></br>6000 DWU x 7,5 = 45 000 DTU<br></br>6000 cDWU x 9,0 = 54 000 DTU<br></br>Текущее потребление DTU можно просмотреть в настройке SQL Server на портале. В рамках квоты DTU учитываются как приостановленные, так и активные базы данных. |
| Подключение к базе данных |Количество параллельно открытых сеансов |1024<br/><br/>Все 1024 активных сеанса могут одновременно отправлять запросы к базе данных хранилища данных SQL. Обратите внимание: есть ограничения на количество запросов, которые могут выполняться одновременно. При превышении ограничения на число параллельных запросов запрос помещается во внутреннюю очередь для ожидания обработки. |
| Подключение к базе данных |Максимальный объем памяти для подготовленных инструкций |20 МБ |
| [Управление рабочей нагрузкой][Workload management] |Максимальное число одновременных запросов |32<br/><br/> По умолчанию хранилище данных SQL выполняет не более 32 параллельных запросов, а остальные запросы отправляются в очередь.<br/><br/>Количество параллельных запросов может уменьшиться, если пользователям назначены более высокие классы ресурсов или если хранилище данных SQL имеет более низкий [уровень обслуживания](performance-tiers.md#service-levels). Выполнение некоторых запросов, например запросов динамического административного представления, разрешено всегда. |
| [tempdb][Tempdb] |Максимальный объем в ГБ |399 ГБ для DW100. То есть для 1000 DWU размер tempdb составит 3,99 ТБ. |

## <a name="database-objects"></a>Объекты базы данных
| Категория | ОПИСАНИЕ | Максимальная |
|:--- |:--- |:--- |
| База данных |Максимальный размер |240 ТБ сжатых данных на диске<br/><br/>Не зависит от пространства временной базы данных или журнала и предназначается исключительно для постоянных таблиц.  Коэффициент сжатия кластеризованного индекса columnstore примерно равен 5.  Сжатие позволяет базе данных увеличиваться в размере приблизительно до 1 ПБ, если все таблицы используют кластеризованный индекс columnstore (этот тип таблицы используется по умолчанию). |
| Таблица |Максимальный размер |60 ТБ сжатых данных на диске |
| Таблица |Количество таблиц в базе данных |10 000 |
| Таблица |Количество столбцов в таблице |1024 столбца |
| Таблица |Количество байт в столбце |Зависит от [типа данных][data type] столбца.  Ограничение составляет 8000 для типов данных char, 4000 для nvarchar или 2 ГБ для типов данных MAX. |
| Таблица |Количество байт в строке (определенный размер) |8060 байт<br/><br/>Количество байт в строке вычисляется так же, как и для SQL Server с включенным сжатием страниц. Как и SQL Server, хранилище данных SQL поддерживает хранение при превышении размера страницы данными строки, что позволяет **столбцам переменной длины** выходить за пределы строк. Когда столбцы переменной длины выходят за пределы строк, в главной записи сохраняется только 24-байтовый корень. Дополнительные сведения см. в статье [Превышающие размер страницы данные строки, превышающие 8 КБ][Row-Overflow Data Exceeding 8 KB]. |
| Таблица |Количество разделов в таблице |15 000<br/><br/>Для повышения производительности рекомендуем сократить количество секций до минимума, который позволит соблюдать ваши требования к бизнесу. С увеличением количества секций не только растут затраты на операции языка описания данных DDL и языка обработки данных DML, но и снижается производительность. |
| Таблица |Количество символов в разделе (граничное значение) |4000 |
| Индекс |Количество некластеризованных индексов в таблице |50<br/><br/>Применимо только к таблицам rowstore. |
| Индекс |Количество кластеризованных индексов в таблице |1<br><br/>Применимо к таблицам rowstore и columnstore. |
| Индекс |Размер ключа индекса |900 байтов.<br/><br/>Применимо только к индексам rowstore.<br/><br/>В столбцах varchar могут создаваться индексы с максимальным размером более 900 байтов, если при создании такого индекса размер существующих данных в этих столбцах не превышает 900 байтов. Учтите, что при последующем выполнении в столбцах инструкций INSERT или UPDATE, которые приведут к превышению общего размера данных в 900 байт, соответствующие действия завершатся ошибкой. |
| Индекс |Количество ключевых столбцов в индексе |16<br/><br/>Применимо только к индексам rowstore. Кластеризованные индексы columnstore включают все столбцы. |
| Статистика |Размер значений объединенных столбцов |900 байт |
| Статистика |Количество столбцов в объекте статистики |32 |
| Статистика |Количество объектов статистики для столбцов в таблице |30 000 |
| Хранимые процедуры |Максимальное количество вложений |8 |
| Просмотр |Количество столбцов в представлении |1024 |

## <a name="loads"></a>Нагрузка
| Категория | ОПИСАНИЕ | Максимальная |
|:--- |:--- |:--- |
| Нагрузка Polybase |МБ в строке |1<br/><br/>PolyBase выполняет загрузку только в строки размером меньше 1 МБ и не позволяет загружать данные в переменные VARCHAR(MAX), NVARCHAR(MAX) или VARBINARY(MAX).<br/><br/> |

## <a name="queries"></a>Запросы
| Категория | ОПИСАНИЕ | Максимальная |
|:--- |:--- |:--- |
| Запрос |Количество помещенных в очередь запросов к пользовательским таблицам |1000 |
| Запрос |Количество одновременных запросов к системным представлениям |100 |
| Запрос |Количество помещенных в очередь запросов к системным представлениям |1000 |
| Запрос |Максимальное количество параметров |2098 |
| пакетная служба; |Максимальный размер |65 536*4096 |
| Результаты SELECT |Количество столбцов в строке |4096<br/><br/>В каждой строке результата SELECT может содержаться не более 4096 столбцов. Нет никакой гарантии, что их количество всегда будет равно 4096. Если планом запроса предусмотрено использование временной таблицы, в такой таблице может быть не более 1024 столбцов. |
| SELECT |Вложенные запросы |32<br/><br/>Инструкция SELECT может содержать не более 32 вложенных запросов. Нет никакой гарантии, что их количество всегда будет равно 32. Например, с помощью инструкции JOIN можно включить в план запроса вложенный запрос. Количество вложенных запросов также может ограничиваться объемом доступной памяти. |
| SELECT |Количество столбцов в инструкции JOIN |1024 столбца<br/><br/>Инструкция JOIN может содержать не более 1024 столбцов. Нет никакой гарантии, что их количество всегда будет равно 1024. Если планом для инструкции JOIN предусмотрено использование временной таблицы с количеством столбцов, которое превышает результат JOIN, к такой временной таблице применяется ограничение в 1024 столбца. |
| SELECT |Количество байт в именах столбцов GROUP BY |8060<br/><br/>Размер имен столбцов в предложении GROUP BY не может превышать 8060 байтов. |
| SELECT |Количество байт в именах столбцов ORDER BY |8060 байт<br/><br/>Размер имен столбцов в предложении ORDER BY не может превышать 8060 байтов. |
| Идентификаторы в одной инструкции |Количество идентификаторов, на которые имеются ссылки. |65 535<br/><br/>В хранилище данных SQL есть ограничение на количество идентификаторов, которые могут содержаться в одном выражении запроса. Оно равно 65 535. Превышение этого количества приводит к ошибке SQL Server (ошибка 8632). Дополнительные сведения см. в статье о [внутренней ошибке, связанной с достижением предела служб выражений][Internal error: An expression services limit has been reached]. |
| Строковые литералы | Количество строковых литералов в инструкции | 20 000 <br/><br/>В хранилище данных SQL есть ограничение на количество строковых констант, которые могут содержаться в одном выражении запроса. Оно равно 65 535. Превышение этого количества приводит к ошибке SQL Server (ошибка 8632). Дополнительные сведения см. в статье о [внутренней ошибке, связанной с достижением предела служб выражений][Internal error: An expression services limit has been reached]. |

## <a name="metadata"></a>Метаданные
| Системное представление | Максимальное количество строк |
|:--- |:--- |
| sys.dm_pdw_component_health_alerts |10 000 |
| sys.dm_pdw_dms_cores |100 |
| sys.dm_pdw_dms_workers |Общее количество рабочих ролей DMS для последней 1000 запросов SQL. |
| sys.dm_pdw_errors |10 000 |
| sys.dm_pdw_exec_requests |10 000 |
| sys.dm_pdw_exec_sessions |10 000 |
| sys.dm_pdw_request_steps |Общее количество действий для последней 1000 запросов SQL, хранящихся в sys.dm_pdw_exec_requests. |
| sys.dm_pdw_os_event_logs |10 000 |
| sys.dm_pdw_sql_requests |Последняя 1000 запросов SQL, которые хранятся в sys.dm_pdw_exec_requests. |

## <a name="next-steps"></a>Дополнительная информация
Дополнительные справочные сведения см. в статье [Справочные темы по хранилищу данных SQL][SQL Data Warehouse reference overview].

<!--Image references-->

<!--Article references-->
[Data Warehouse Units (DWU)]: ./sql-data-warehouse-overview-what-is.md
[SQL Data Warehouse reference overview]: ./sql-data-warehouse-overview-reference.md
[Workload management]: ./resource-classes-for-workload-management.md
[Tempdb]: ./sql-data-warehouse-tables-temporary.md
[data type]: ./sql-data-warehouse-tables-data-types.md
[creating a support ticket]: /sql-data-warehouse-get-started-create-support-ticket.md

<!--MSDN references-->
[Row-Overflow Data Exceeding 8 KB]: https://msdn.microsoft.com/library/ms186981.aspx
[Internal error: An expression services limit has been reached]: https://support.microsoft.com/kb/913050
