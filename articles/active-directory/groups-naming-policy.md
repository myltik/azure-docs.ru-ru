---
title: Параметры имен групп Office 365 в Azure Active Directory (предварительная версия) | Документация Майкрософт
description: Настройка срока действия для групп Office 365 в Azure Active Directory (предварительная версия).
services: active-directory
documentationcenter: ''
author: curtand
manager: michael.tillman
editor: ''
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: ''
ms.devlang: ''
ms.topic: article
ms.date: 03/29/2018
ms.author: curtand
ms.reviewer: kairaz.contractor
ms.custom: it-pro
ms.openlocfilehash: c21706a591d0e1aa00279edf7a5534ada95fd8c1
ms.sourcegitcommit: 34e0b4a7427f9d2a74164a18c3063c8be967b194
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/30/2018
---
# <a name="enforce-a-naming-policy-for-office-365-groups-in-azure-active-directory-preview"></a>Применение политики именования для групп Office 365 в Azure Active Directory (предварительная версия)

Чтобы применить соответствующие соглашения об именовании групп Office 365, создаваемых или изменяемых пользователями, настройте политику именования групп для клиентов в Azure Active Directory (Azure AD). Например, политику именования можно использовать, чтобы указать функцию группы, членство, географический регион или создателя группы. Можно также использовать политику именования, чтобы классифицировать группы в адресной книге. Политику можно использовать для запрещения конкретных слов в именах и псевдонимах групп.

> [!IMPORTANT]
> Использование предварительной версии политик именования групп Office 365 требует наличия лицензии Azure Active Directory Premium P1 или Azure AD Basic EDU у каждого уникального пользователя, который является участником одной или нескольких групп Office 365.

Политика именования применяется при создании или изменении групп, созданных для рабочих нагрузок (например, Outlook, Microsoft Teams, SharePoint, Exchange или службы "Планировщик"). Она применяется к имени и псевдониму группы. Если настроить политику именования в Azure AD при наличии политики именования групп Exchange, то применяется политика именования Azure AD.

## <a name="naming-policy-features"></a>Возможности политики именования
Вы можете применить политику именования для групп Office 365 двумя способами.

-   **Политика добавления префикса или суффикса**. Можно определить префиксы или суффиксы, которые затем автоматически добавляются к именам групп в соответствии с соглашением об именовании (например, в имени группы "ГРП\_РОССИЯ\_Моя группа\_Инженеры", "ГРП\_РОССИЯ\_" — это префикс, а "\_Инженеры" — суффикс). 

-   **Настраиваемые запрещенные слова**. Можно передать набор запрещенных слов в вашей организации, которые не должны использоваться в именах групп, созданных пользователями (например, "гендир, зарплата, отдел_кадров").

### <a name="prefix-suffix-naming-policy"></a>Политика добавления префикса или суффикса

Общая структура соглашения об именовании: "префикс[имя_группы]суфикс". Хотя можно определить несколько префиксов и суффиксов, в параметре можно указать только одно значение [имя_группы]. Префиксом или суффиксом может быть фиксированная строка или атрибуты пользователя, например \[Department\], которые заменяются в зависимости от пользователя, создавшего группу. Общая допустимая длина строк префикса и суффикса составляет 53 знака. 

Префиксы и суффиксы могут содержать специальные знаки, которые поддерживаются в имени и псевдониме группы. Какие-либо знаки в префиксе или суффиксе, которые не поддерживаются в псевдониме группы, применяется в имени группы, но удаляются из ее псевдонима. Из-за этого ограничения префиксы и суффиксы, применяемые к имени группы, могут отличаться от тех, которые применяются к ее псевдониму. 

#### <a name="fixed-strings"></a>Фиксированные строки

Строки можно использовать, чтобы упростить проверку и различать группы в глобальном списке адресов, а также в левой области навигации, содержащей ссылки на рабочие нагрузки групп. Зачастую в качестве префиксов используются такие ключевые слова, как "грп\_имя", "\#имя, \_имя".

#### <a name="user-attributes"></a>Атрибуты пользователя

Можно использовать атрибуты, которые помогут вам и вашим пользователям определить, для какого отдела, офиса или географического региона была создана та или иная группа. Например, если вы определите политику именования `PrefixSuffixNamingRequirement = “GRP [GroupName] [Department]”`, и `User’s department = Engineering`, то полученное автоматически имя группы может иметь вид GRP My Group Engineering. Поддерживаются следующие атрибуты Azure AD: \[Department\], \[Company\], \[Office\], \[StateOrProvince\], \[CountryOrRegion \], \[Title\]. Неподдерживаемые атрибуты обрабатываются как фиксированные строки, например \[postalCode\]. Атрибуты расширения и настраиваемые атрибуты не поддерживаются.

Рекомендуется использовать атрибуты, которые имеют значения, указанные для всех пользователей в вашей организации, и не использовать атрибуты с длинными значениями.

### <a name="custom-blocked-words"></a>Настраиваемые запрещенные слова

Список запрещенных слов — это список разделенных запятыми фраз, которые запрещены в именах и псевдонимах групп. Поиск подстрок не выполняется. Для активации сбоя требуется, чтобы имя группы точно содержало одно или несколько настраиваемых запрещенных слов. Поиск подстрок не выполняется, поэтому пользователи могут использовать распространенные слова, например "Работа", даже если слово "бот" запрещено.

Правила списка запрещенных слов:
- Регистр запрещенных слов не учитывается.
- Когда пользователь вводит запрещенное слово в имени группы, отображается сообщение об ошибке, содержащее запрещенное слово.
- Ограничения знаков в запрещенных словах отсутствуют.
- В список запрещенных слов можно добавить не более 5000 фраз. 

### <a name="administrator-override"></a>Переопределение администратора

Выбранные администраторы могут быть исключены из этих политик во всех рабочих нагрузках и конечных точках групп, чтобы они могли создавать группы, используя запрещенные слова и свои соглашения об именовании. Ниже приведен список ролей администратора, исключенных из политики именования групп.

- Глобальный администратор.
- "Partner Tier 1 Support" (Поддержка для партнеров уровня 1);
- "Partner Tier 2 Support" (Поддержка для партнеров уровня 2);
- администратор учетных записей;
- создатели каталогов;

## <a name="install-powershell-cmdlets-to-configure-a-naming-policy"></a>Установка командлетов PowerShell для настройки политики именования

Обязательно удалите все старые версии Azure Active Directory PowerShell для модуля Graph для Windows PowerShell и установите [общедоступную предварительную версию Azure Active Directory PowerShell для Graph 2.0.0.137](https://www.powershellgallery.com/packages/AzureADPreview/2.0.0.137), прежде чем выполнять команды PowerShell. 

1. Запустите приложение Windows PowerShell от имени администратора.
2. Удалите все предыдущие версии AzureADPreview.
  
  ````
  Uninstall-Module AzureADPreview
  ````
3. Установите последнюю версию AzureADPreview.
  
  ````
  Install-Module AzureADPreview
  ````
При появлении запроса на доступ к ненадежному репозиторию введите **Y** (Да). Установка нового модуля может занять несколько минут.

## <a name="configure-the-group-naming-policy-for-a-tenant-using-azure-ad-powershell"></a>Настройка политики именования групп для клиента с помощью PowerShell для Azure AD

1. Откройте окно Windows PowerShell на компьютере. Его можно открыть без более высокого уровня привилегий.

2. Выполните следующие команды, чтобы подготовить среду к выполнению командлетов.
  
  ````
  Import-Module AzureADPreview
  Connect-AzureAD
  ````
  На открывшемся экране **Вход в учетную запись** введите учетную запись администратора и пароль, чтобы подключиться к службе, затем выберите **Войти**.

3. Чтобы создать параметры группы для этого клиента, выполните инструкции в статье [Настройка параметров групп с помощью командлетов Azure Active Directory](active-directory-accessmanagement-groups-settings-cmdlets.md).

### <a name="view-the-current-settings"></a>Просмотр текущих параметров

1. Получите текущую политику именования, чтобы просмотреть действующие настройки.
  
  ````
  $Setting = Get-AzureADDirectorySetting -Id (Get-AzureADDirectorySetting | where -Property DisplayName -Value "Group.Unified" -EQ).id
  ````
  
2. Отобразите на экране текущие параметры групп.
  
  ````
  $Setting.Values
  ````
  
### <a name="set-the-naming-policy-and-custom-blocked-words"></a>Установка политики именования и настраиваемых запрещенных слов

1. Задайте префиксы и суффиксы имен групп в PowerShell для Azure AD.
  
  ````
  $Setting["PrefixSuffixNamingRequirement"] =“GRP_[GroupName]_[Department]"
  ````
  
2. Задайте настраиваемые запрещенные слова. В следующем примере показано, как можно добавить собственные настраиваемые слова.
  
  ````
  $Setting["CustomBlockedWordsList"]=“Payroll,CEO,HR"
  ````
  
3. Сохраните параметры новой политики, чтобы она вступила в действие, как показано в следующем примере.
  
  ````
  Set-AzureADDirectorySetting -Id (Get-AzureADDirectorySetting | where -Property DisplayName -Value "Group.Unified" -EQ).id -DirectorySetting $Setting
  ````
  
Вот и все. Вы настроили политику именования и добавили запрещенные слова.

## <a name="export-or-import-the-list-of-custom-blocked-words"></a>Экспорт или импорт списка настраиваемых запрещенных слов

Дополнительные сведения см. в статье [Настройка параметров групп с помощью командлетов Azure Active Directory](active-directory-accessmanagement-groups-settings-cmdlets.md).

Ниже приведен пример сценария PowerShell для экспорта нескольких запрещенных слов:

````
$Words = (Get-AzureADDirectorySetting).Values | Where-Object -Property Name -Value CustomBlockedWordsList -EQ 
Add-Content "c:\work\currentblockedwordslist.txt" -Value $words.value.Split(",").Replace("`"","")  
````

Ниже приведен пример сценария PowerShell для импорта нескольких запрещенных слов.

````
$BadWords = Get-Content "C:\work\currentblockedwordslist.txt"
$BadWords = [string]::join(",", $BadWords)
$Settings = Get-AzureADDirectorySetting | Where-Object {$_.DisplayName -eq "Group.Unified"}
if ($Settings.Count -eq 0)
    {$Template = Get-AzureADDirectorySettingTemplate | Where-Object {$_.DisplayName -eq "Group.Unified"}
    $Settings = $Template.CreateDirectorySetting()
    New-AzureADDirectorySetting -DirectorySetting $Settings
    $Settings = Get-AzureADDirectorySetting | Where-Object {$_.DisplayName -eq "Group.Unified"}}
$Settings["CustomBlockedWordsList"] = $BadWords
$Settings["EnableMSStandardBlockedWords"] = $True
Set-AzureADDirectorySetting -Id $Settings.Id -DirectorySetting $Settings 
````

## <a name="naming-policy-experiences-across-office-365-apps"></a>Использование политик именования в приложениях Office 365

После того, как политика именования групп была задана в Azure AD, когда пользователь создает группу в приложении Office 365, он видит следующее. 

* Предварительное имя в соответствии с политикой именования (с префиксами и суффиксами), отображаемое по мере ввода имени группы.
* Если пользователь введет запрещенные слова, он увидит сообщение об ошибке и сможет удалить эти слова.

Рабочая нагрузка | Соответствие нормативным требованиям
----------- | -------------------------------
Порталы Azure Active Directory | На портале Azure AD и портале панели доступа отображается имя в соответствии с политикой, когда пользователь вводит его в поле имени группы при создании или изменении группы. Когда пользователь вводит настраиваемое запрещенное слово, отображается сообщение об ошибке с этим словом, чтобы пользователь мог удалить его.
Outlook Web Access (OWA) | Outlook Web Access отображает имя в соответствии с политикой именования, когда пользователь вводит имя или псевдоним группы. Когда пользователь вводит настраиваемое запрещенное слово, в пользовательском интерфейсе отображается сообщение об ошибке с этим словом, чтобы пользователь мог удалить его.
Классическое приложение Outlook | Группы, созданные в классическом приложении Outlook, соответствуют параметрам политики именования. Классическое приложение Outlook еще не отображает предварительное имя группы и не возвращает ошибки из-за настраиваемых запрещенных слов, когда пользователь вводит имя группы. Однако политика именования применяется автоматически при создании или изменении группы, и пользователи видят сообщения об ошибках, если имя или псевдоним группы содержит настраиваемые запрещенные слова.
Microsoft Teams | Microsoft Teams отображает имя группы в соответствии с политикой именования, когда пользователь вводит имя команды. Когда пользователь вводит настраиваемое запрещенное слово, отображается сообщение об ошибке с этим словом, чтобы пользователь мог удалить его.
SharePoint  |  SharePoint отображает имя в соответствии с политикой именования, когда пользователь вводит имя сайта или адрес электронной почты группы. Когда пользователь вводит настраиваемое запрещенное слово, отображается сообщение об ошибке с этим словом, чтобы пользователь мог удалить его.
Microsoft Stream; | Microsoft Stream отображает имя в соответствии с политикой именования групп, когда пользователь вводит имя группы или псевдоним электронной почты для группы. Когда пользователь вводит настраиваемое запрещенное слово, отображается сообщение об ошибке с этим словом, чтобы пользователь мог удалить его.
Приложение Outlook для iOS и Android | Группы, созданные в приложениях Outlook, соответствуют настроенной политике именования. Мобильное приложение Outlook еще не отображает предварительное имя в соответствии с политикой именования и не возвращает ошибки из-за настраиваемых запрещенных слов, когда пользователь вводит имя группы. Однако политика именования применяется автоматически при нажатии кнопки "Создать" или "Изменить", и пользователи видят сообщения об ошибках, если имя или псевдоним группы содержит настраиваемые запрещенные слова.
Мобильное приложение Groups | Группы, созданные в мобильном приложении Groups, соответствуют политике именования. Мобильное приложение Groups не отображает предварительное имя в соответствии с политикой именования и не возвращает ошибки из-за настраиваемых запрещенных слов, когда пользователь вводит имя группы. Однако политика именования применяется автоматически при создании или изменении группы, и пользователи видят соответствующие сообщения об ошибках, если имя или псевдоним группы содержит настраиваемые запрещенные слова.
Planner | Служба "Планировщик" соответствует требованиям политики именования. Служба "Планировщик" отображает предварительное имя в соответствии с политикой именования при вводе имени плана. Когда пользователь вводит настраиваемое запрещенное слово при создании плана, отображается сообщение об ошибке.
Dynamics 365 for Customer Engagement | Dynamics 365 for Customer Engagement соответствует требованиям политики именования. Dynamics 365 for Customer Engagement отображает имя в соответствии с политикой именования, когда пользователь вводит имя или псевдоним электронной почты для группы. Когда пользователь вводит настраиваемое запрещенное слово, отображается сообщение об ошибке с этим словом, чтобы пользователь мог удалить его.
School Data Sync (SDS) | Группы, созданные с помощью SDS, соответствуют политике именования, но политика именования не применяется автоматически. Администраторам SDS следует добавить префиксы и суффиксы в имена классов, для которых нужно создать группы, и затем передать их в SDS. В противном случае создание или изменение группы завершится сбоем.
Outlook Customer Manager (OCM) | Outlook Customer Manager соответствует требованиям политики именования, которая автоматически применяется к группам, создаваемым в Outlook Customer Manager. При обнаружении настраиваемого запрещенного слова создание группы в OCM блокируется, и пользователь не может использовать приложение OCM.
Приложение Classroom | Группы, созданные в приложении Classroom, соответствуют политике именования, но она не применяется автоматически, и предварительное имя в соответствии с политикой именования не отображается для пользователей при вводе имени группы аудиторий. Пользователи должны ввести имя группы аудиторий с префиксами и суффиксами в соответствии с политикой. В противном случае операция создания или изменения группы аудиторий завершится сбоем.
Power BI | Рабочие области Power BI соответствуют требованиям политики именования.    
Yammer | Подключенные группы Yammer не используют настроенную политику именования. В организациях, использующих политику именования, для групп, которые не соответствуют этой политике именования, Yammer создает устаревшие группы Yammer, которые не подключены к Office 365.
StaffHub  | Команды StaffHub не соответствуют политике именования, но базовая группа Office 365 соответствует ей. В имени команды StaffHub не используются префиксы и суффиксы и не проверяется наличие настраиваемых запрещенных слов. Но в StaffHub используются префиксы и суффиксы и удаляются запрещенные слова из базовой группы Office 365.
PowerShell для Exchange | Командлеты PowerShell для Exchange соответствуют требованиям политики именования. Пользователи видят соответствующие сообщения об ошибках, содержащие предлагаемые префиксы и суффиксы, а также настраиваемые запрещенные слова, если что-либо в имени или псевдониме группы (mailNickname) не соответствует политике именования.
Командлеты PowerShell для Azure Active Directory | Командлеты PowerShell для Azure Active Directory соответствуют требованиям политики именования. Пользователи видят соответствующие сообщения об ошибках, содержащие предлагаемые префиксы и суффиксы, а также настраиваемые запрещенные слова, если не следуют соглашению об именовании в именах или псевдонимах групп.
Центр администрирования Exchange | Центр администрирования Exchange соответствует требованиям политики именования. Пользователи видят соответствующие сообщения об ошибках, содержащие предлагаемые префиксы и суффиксы, а также настраиваемые запрещенные слова, если не следуют соглашению об именовании в имени или псевдониме группы.
Центр администрирования Office 365 | Центр администрирования Office 365 соответствует требованиям политики именования. При пользователь создает или изменяет имена групп, политика именования применяется автоматически, и пользователи будут видеть соответствующие сообщения об ошибках при вводе настраиваемых запрещенных слов. Центр администрирования Office 365 еще не отображает предварительное имя в соответствии с политикой именования и не возвращает ошибки из-за настраиваемых запрещенных слов, когда пользователь вводит имя группы.

## <a name="next-steps"></a>Дополнительная информация
В следующих статьях содержатся дополнительные сведения о группах Azure AD.

* [Просмотр существующих групп](active-directory-groups-view-azure-portal.md)
* [Политика истечения срока действия для групп Office 365](active-directory-groups-lifecycle-azure-portal.md)
* [Управление параметрами группы](active-directory-groups-settings-azure-portal.md)
* [Управление участниками группы](active-directory-groups-members-azure-portal.md)
* [Управление членством в группе](active-directory-groups-membership-azure-portal.md)
* [Управление динамическими правилами для пользователей в группе](active-directory-groups-dynamic-membership-azure-portal.md)
