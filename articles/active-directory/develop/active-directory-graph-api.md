---
title: API Graph Azure Active Directory | Документация Майкрософт
description: Общие сведения и краткое руководство по API Azure AD Graph, который обеспечивает программный доступ к Azure AD через конечные точки REST API.
services: active-directory
documentationcenter: ''
author: mtillman
manager: mtillman
editor: mbaldwin
ms.assetid: 5471ad74-20b3-44df-a2b5-43cde2c0a045
ms.service: active-directory
ms.component: develop
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 04/02/2018
ms.author: mtillman
ms.custom: aaddev
ms.openlocfilehash: 4b4f698042f6688e3db484f7d96ccfb06c5cdd4f
ms.sourcegitcommit: e14229bb94d61172046335972cfb1a708c8a97a5
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/14/2018
ms.locfileid: "34158019"
---
# <a name="azure-active-directory-graph-api"></a>API Graph Azure Active Directory
> [!IMPORTANT]
> Мы настоятельно рекомендуем использовать для доступа к ресурсам Azure Active Directory [Microsoft Graph](https://graph.microsoft.io/) вместо API Azure AD Graph. В настоящее время усилия наших разработчиков направлены на Microsoft Graph, и дальнейшие усовершенствования API Azure AD Graph не планируются. Существует совсем немного сценариев, в которых по-прежнему можно использовать API Azure AD Graph. Дополнительные сведения см. в записи блога [Microsoft Graph or the Azure AD Graph](https://dev.office.com/blogs/microsoft-graph-or-azure-ad-graph) (Microsoft Graph или Azure AD Graph) в Центре разработчика Office.
> 
> 

API Graph Azure Active Directory обеспечивает программный доступ к Azure AD через конечные точки API-интерфейса Rest Azure AD. Приложения могут использовать API Azure AD Graph для выполнения операций создания, чтения, обновления и удаления (CRUD) с данными и объектами каталогов. Например, API Azure AD Graph поддерживает следующие операции для объекта-пользователя.

* Создание нового пользователя в каталоге.
* Получение подробных свойств пользователя, например его группы.
* Обновление свойств пользователя, например его расположения и номера телефона, или изменение его пароля.
* Проверка членства в группах для доступа на основе ролей.
* Отключение или полное удаление учетной записи пользователя.

Кроме того, вы можете выполнять те же операции с другими объектами, например группами или приложениями. Для вызова API Azure AD Graph для каталога приложения должны быть зарегистрированы в Azure AD. Приложение должно также иметь доступ к API Azure AD Graph. Обычно доступ обеспечивается с помощью потока согласия пользователя или администратора.

Чтобы начать использовать API Graph Azure Active Directory, ознакомьтесь с [кратким руководством по началу работы с API Azure AD Graph](active-directory-graph-api-quickstart.md) или просмотрите [справочную документацию по API Azure AD Graph](https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/api-catalog).

## <a name="features"></a>Функции
API Azure AD Graph предоставляет следующие возможности.

* **Конечные точки REST API**. Служба API Azure AD Graph соответствует ограничениям REST. Она состоит из конечных точек, доступ к которым можно получить с помощью стандартных HTTP-запросов. API Azure AD Graph поддерживает содержимое в формате XML или в виде нотаций объектов JavaScript (JSON) для запросов и ответов. Дополнительные сведения см. в [справочнике по Azure AD Graph REST API](https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/api-catalog).
* **Аутентификация с помощью Azure AD**. Каждый запрос API Azure AD Graph должен пройти аутентификацию путем добавления веб-маркеров JSON (JWT) в заголовок авторизации запроса. Чтобы получить этот токен, нужно отправить запрос к конечной точке токена Azure AD и предоставить действительные учетные данные. Чтобы получить токен для вызова Graph, можно использовать поток клиентских учетных данных OAuth 2.0 или поток предоставления кода авторизации. Дополнительные сведения см. в статье [Авторизация доступа к веб-приложениям с помощью OAuth 2.0 и Azure Active Directory](https://msdn.microsoft.com/library/azure/dn645545.aspx).
* **Ролевая авторизация (RBAC)**. Для реализации RBAC в API Azure AD Graph используются группы безопасности. Например, чтобы определить, имеет ли пользователь доступ к определенному ресурсу, приложение может вызвать операцию [Проверка членства в группе (транзитивно)](https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/functions-and-actions#checkMemberGroups), которая возвращает значение true или false.
* **Дифференциальный запрос**. Если вы хотите проверить наличие изменений в каталоге в промежутке между двумя периодами времени, не отправляя частые запросы к API Azure AD Graph, вы можете сделать дифференциальный запрос. Этот тип запроса возвращает только изменения, внесенные в промежутке между предыдущим дифференциальным запросом и текущим запросом. Дополнительные сведения см. в статье [Разностный запрос | Общие понятия API Graph](https://msdn.microsoft.com/Library/Azure/Ad/Graph/howto/azure-ad-graph-api-differential-query).
* **Расширения каталога**. Вы можете добавлять пользовательские свойства к объектам каталога без потребности во внешнем хранилище данных. Например, если приложению требуется свойство "Идентификатор Skype" для каждого пользователя, вы можете зарегистрировать новое свойство в каталоге, и оно будет доступно для каждого объекта-пользователя. Дополнительные сведения см. в статье [Расширения схемы каталогов | Общие понятия API Graph](https://msdn.microsoft.com/Library/Azure/Ad/Graph/howto/azure-ad-graph-api-directory-schema-extensions).
* **Защита с помощью областей разрешений**. API Azure AD Graph предоставляет области разрешений, которые обеспечивают безопасный доступ к данным Azure AD с помощью OAuth 2.0. Он поддерживает широкий набор типов клиентских приложений, включая:
  
  * пользовательские интерфейсы, которым предоставляется делегированный доступ к данным с помощью разрешения, получаемого от пользователя, выполнившего вход (делегирование);
  * приложения-службы или управляющие программы, работающие в фоновом режиме без наличия вошедшего пользователя и использующие определяемое приложением управление доступом на основе ролей.
    
    Обе эти области разрешений (с делегированием и приложениями) представляют привилегию, предоставляемую API Azure AD Graph, и могут запрашиваться клиентскими приложениями с помощью функций разрешений для зарегистрированных приложений [на портале Azure](https://portal.azure.com). [Области разрешений API Azure AD Graph](https://msdn.microsoft.com/Library/Azure/Ad/Graph/howto/azure-ad-graph-api-permission-scopes) предоставляют сведения о том, что доступно клиентскому приложению.

## <a name="scenarios"></a>Сценарии
API Azure AD Graph поддерживает многие сценарии приложений. Ниже перечислены наиболее распространенные сценарии.

* **Бизнес-приложение (однотенантное)**. В этом сценарии разработчик работает на предприятие, у которого есть подписка Office 365. Разработчик создает веб-приложение, взаимодействующее с Azure AD для выполнения задач, таких как назначение лицензии пользователю. Эта задача требует доступа к API Azure AD Graph, поэтому разработчик регистрирует одноклиентское приложение в Azure AD и настраивает разрешения чтения и записи для API Azure AD Graph. Затем приложение настраивается для использования собственных учетных данных или учетных данных пользователя, вошедшего в систему, чтобы получить маркер для вызова API Azure AD Graph.
* **Программное обеспечение как приложение-служба (мультитенантное)**. В этом сценарии независимый поставщик программного обеспечения разрабатывает и размещенное мультитенантное веб-приложение, которое предоставляет пользователю функции управления для других организаций, использующих Azure AD. Для этих функций требуется доступ к объектам каталога, поэтому приложение должно вызвать API Azure AD Graph. Разработчик регистрирует приложение в Azure AD, настраивает его, чтобы оно требовало разрешения чтения и записи для API Azure AD Graph, а затем включает внешний доступ, чтобы другие организации могли давать согласие на использование приложения в своем каталоге. Когда пользователь в другой организации впервые проходит проверку подлинности в приложении, он видит диалоговое окно с разрешениями, которые запрашивает приложение. Если пользователь предоставит согласие, приложение получит запрошенные разрешения для API Azure AD Graph в каталоге пользователя. Дополнительные сведения об инфраструктуре согласия см. в статье [Интеграция приложений с Azure Active Directory](active-directory-integrating-applications.md).

## <a name="see-also"></a>См. также
[Краткое руководство по API Graph Azure AD](active-directory-graph-api-quickstart.md)

[Документация по REST для Azure AD Graph](https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/api-catalog)

[Руководство разработчика по Azure Active Directory](active-directory-developers-guide.md)

