---
title: Публикация приложений с помощью прокси приложения Azure AD | Microsoft Azure
description: Публикация локальных приложений в облако с помощью прокси приложения Azure AD на портале Azure.
services: active-directory
documentationcenter: ''
author: barbkess
manager: mtillman
ms.service: active-directory
ms.component: app-mgmt
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 12/06/2017
ms.author: barbkess
ms.reviewer: harshja
ms.custom: it-pro
ms.openlocfilehash: b9750212925294dec2220e6ef3e6e19d3bc7c3c6
ms.sourcegitcommit: d28bba5fd49049ec7492e88f2519d7f42184e3a8
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/11/2018
---
# <a name="publish-applications-using-azure-ad-application-proxy"></a>Публикация приложений с помощью прокси приложения Azure AD

Прокси приложения Azure Active Directory помогает организовать удаленную работу сотрудников, публикуя локальные приложения для доступа через Интернет. Вы можете опубликовать эти приложения на портале Azure, чтобы предоставить к ним безопасный удаленный доступ из внешних сетей.

Эта статья содержит пошаговое описание процесса публикации локальных приложений с помощью прокси приложения. После выполнения инструкций в этой статье пользователи смогут подключаться к вашему приложению удаленно. И вы сможете настроить для приложения такие дополнительные возможности, как единый вход, личные сведения и параметры безопасности.

Если вы еще не знакомы с прокси приложения, узнайте, [как обеспечить безопасный удаленный доступ к локальным приложениям](manage-apps/application-proxy.md).


## <a name="publish-an-on-premises-app-for-remote-access"></a>Публикация локального приложения для удаленного доступа

Выполните приведенные ниже действия для публикации приложений с помощью прокси приложения. Если вы еще не скачали и не настроили соединитель для своей организации, сначала перейдите к разделу [Начало работы с прокси приложения и установка соединителя](active-directory-application-proxy-enable.md), после чего опубликуйте приложение.

> [!TIP]
> Если вы впервые тестируете прокси приложения, выберите приложение, для которого настроена аутентификация на основе пароля. Прокси приложения поддерживает и другие типы аутентификации, но настройка и запуск таких приложений требует меньше ресурсов. 

1. Войдите на [портал Azure](https://portal.azure.com/) с учетной записью администратора.
2. Выберите **Azure Active Directory** > **Корпоративные приложения** > **Новое приложение**.

  ![Добавление корпоративного приложения](./media/application-proxy-publish-azure-portal/add-app.png)

3. Выберите **Все** и щелкните **Локальное приложение**.  

  ![Добавление собственного приложения](./media/application-proxy-publish-azure-portal/add-your-own.png)

4. Укажите следующие сведения о приложении:

   - **Имя**. Имя приложения, которое будет отображаться на панели доступа и на портале Azure. 

   - **Внутренний URL-адрес**. Это URL-адрес для доступа к приложению в частной сети. Для публикации можно указать только конкретный адрес на внутреннем сервере; при этом другие адреса сервера не публикуются. Это позволяет публиковать на одном сервере разные сайты, назначая каждому из них отдельное имя и правила доступа.

     > [!TIP]
     > Если вы публикуете путь, он должен включать в себя все необходимые изображения, скрипты и таблицы стилей для вашего приложения. Например, если приложение размещено по адресу https://yourapp/app и использует образы, размещенные по адресу https://yourapp/media, опубликуйте https://yourapp/ в качестве пути. Этот внутренний URL-адрес не должен отображаться на целевой странице, которую видят пользователи. Дополнительные сведения см. в разделе [Настройка пользовательской домашней страницы для опубликованных приложений с помощью прокси приложения Azure AD](application-proxy-office365-app-launcher.md).

   - **Внешний URL-адрес**. Это адрес, на который будут обращаться пользователи для доступа к приложению за пределами локальной сети. Если вы не хотите использовать домен прокси приложения по умолчанию, прочитайте сведения о [личных доменах в прокси приложения Azure AD](active-directory-application-proxy-custom-domains.md).
   - **Предварительная проверка подлинности**. Здесь указывается метод проверки пользователей, который использует прокси приложения, прежде чем предоставить доступ к приложению. 

     - Azure Active Directory — прокси приложения перенаправляет пользователей на страницу входа в Azure AD, где будет выполняться проверка подлинности их разрешений для каталога и приложения. Рекомендуется оставить значение этого параметра по умолчанию, чтобы воспользоваться преимуществами функций безопасности Azure AD, например условным доступом и Многофакторной идентификацией.
     - Сквозной режим. Пользователям для доступа к приложению не нужно выполнять аутентификацию в Azure Active Directory. Вы по-прежнему можете настроить требования к аутентификации на серверной стороне.
   - **Группа соединителей**. Соединители обрабатывают удаленный доступ к приложению, а группы соединителей позволяют сортировать соединители и приложения по регионам, сетям и назначению. Если вы еще не создали какие-либо группы соединителей, приложение назначается в группу **по умолчанию**.

>[!NOTE]
>Если приложению для подключения требуются соединения WebSocket, убедитесь, что используется соединитель версии 1.5.612.0 или выше с поддержкой WebSocket и что назначенная группа соединителей использует только этот соединитель.

   ![Настройка приложения](./media/application-proxy-publish-azure-portal/configure-app.png)
5. При необходимости настройте дополнительные параметры. Для большинства приложений следует сохранить значения этих параметров по умолчанию. 
   - **Время ожидания серверного приложения**. Задайте для этого параметра значение **Длинный** только в том случае, если приложение медленно выполняет аутентификацию и подключение. 
   - **Translate URLs in Headers** (Преобразование URL-адресов в заголовках). Оставьте значением этого параметра **Да**, если только приложению не требуется исходный заголовок узла в запросе на аутентификацию.
   - **Translate URLs in Application Body** (Преобразование URL-адресов в коде приложения). Только в случае, если вы используете жестко закодированные ссылки HTML на другие локальные приложения и не используете личные домены, следует изменить значение этого параметра по умолчанию **Нет**. Дополнительные сведения см. в статье [Перенаправление встроенных ссылок для приложений, опубликованных с помощью прокси приложения Azure AD](application-proxy-link-translation.md).
   
   ![Настройка приложения](./media/application-proxy-publish-azure-portal/additional-settings.png)

6. Выберите **Добавить**.


## <a name="add-a-test-user"></a>Добавление тестового пользователя 

Чтобы проверить, правильно ли опубликовано приложение, добавьте тестовую учетную запись пользователя. Убедитесь, что у нее имеются разрешения на доступ к приложению из корпоративной сети.

1. Вернитесь в колонку быстрого запуска и выберите **Assign a user for testing** (Назначить пользователя для тестирования).

  ![Назначение пользователя для тестирования](./media/application-proxy-publish-azure-portal/assign-user.png)

2. В колонке "Пользователи и группы" выберите **Добавить**.

  ![Добавление пользователя или группы](./media/application-proxy-publish-azure-portal/add-user.png)

3. В колонке добавления выберите вариант **Пользователи и группы**, затем выберите учетную запись, которую хотите добавить. 
4. Выберите **Назначить**.

## <a name="test-your-published-app"></a>Тестирование опубликованного приложения

Откройте в браузере внешний URL-адрес, который вы указали на этапе публикации. Вы должны увидеть экран приветствия. Войдите в приложение, используя настроенную для тестирования учетную запись.

![Тестирование опубликованного приложения](./media/application-proxy-publish-azure-portal/test-app.png)


## <a name="next-steps"></a>Дополнительная информация
- [Скачайте соединители](active-directory-application-proxy-enable.md) и [создайте группы соединителей](active-directory-application-proxy-connectors-azure-portal.md), чтобы публиковать приложения в разных сетях и расположениях.

- [Настройте единый вход](application-proxy-sso-azure-portal.md) для опубликованного приложения.
