---
title: Дополнительная информация о регулировании в службах BizTalk | Документация Майкрософт
description: Узнайте о пороговых значениях регулирования и соответствующем поведении среды выполнения для служб BizTalk. Регулирование основывается на использовании памяти и количестве сообщений. MABS, WABS
services: biztalk-services
documentationcenter: ''
author: MandiOhlinger
manager: anneta
editor: ''
ms.assetid: f6663cf2-cda4-4bac-855e-27d2ad5c4fa4
ms.service: biztalk-services
ms.workload: integration
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 11/07/2016
ms.author: mandia
ms.openlocfilehash: 39fc5ef36bb581c3a81c9948fda048f6cb75eb7e
ms.sourcegitcommit: dcf5f175454a5a6a26965482965ae1f2bf6dca0a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/10/2017
ms.locfileid: "24102092"
---
# <a name="biztalk-services-throttling"></a>Службы BizTalk: регулирование

> [!INCLUDE [BizTalk Services is being retired, and replaced with Azure Logic Apps](../../includes/biztalk-services-retirement.md)]

Службы Azure BizTalk реализуют регулирование служб на основе двух условий: использования памяти и числа одновременно обрабатываемых сообщений. В этом разделе содержатся сведения о пороговых значениях регулирования и описывается поведение среды выполнения при возникновении условия регулирования.

## <a name="throttling-thresholds"></a>Пороги регулирования
В следующей таблице перечислены источник и пороговые значения регулирования:

|  | ОПИСАНИЕ | Нижнее пороговое значение | Верхнее пороговое значение |
| --- | --- | --- | --- |
| Память |% всей доступной системной памяти/PageFileBytes (количество байтов файла подкачки). <p><p>Итоговое доступное количество байтов файла подкачки приблизительно в 2 раза превышает ОЗУ в системе. |60 % |70 % |
| Обработка сообщений |Число сообщений, обрабатываемых одновременно |40 * число ядер |100 * число ядер |

При достижении верхнего порогового значения в службах BizTalk для Azure запускается регулирование. Регулирование прекращается при достижении нижнего порогового значения. Например, служба использует 65 % системной памяти. В этом случае служба не ведет регулирование. Использование системной памяти повышается до 70 %. В этом случае служба начинает регулирование, которое продолжается до того момента, пока загрузка системной памяти не снизится до 60 % (нижнее пороговое значение).

Службы BizTalk для Azure отслеживают состояние регулирования (обычный режим и регулируемый режим), а также продолжительность регулирования.

## <a name="runtime-behavior"></a>Поведение во время выполнения
Когда службы BizTalk для Azure переключаются в состояние регулирования, происходит следующее:

* Регулирование осуществляется для отдельных экземпляров роли. Например: <br/>
  RoleInstanceA выполняет регулирование. RoleInstanceB не ведет регулирование. В этом случае сообщения в RoleInstanceB обрабатываются как ожидалось. Сообщения в RoleInstanceA отклоняются и завершаются со следующей ошибкой:<br/><br/>
  **Сервер занят. Повторите попытку позже.**<br/><br/>
* Ни один запрашивающий источник не ведет опрос и не загружает сообщение. Например: <br/>
  конвейер извлекает сообщения из внешнего FTP-источника. Экземпляр роли, посылающий запрос на извлечение, переходит в состояние регулирования. В этом случае загрузка дополнительных сообщений в конвейере приостанавливается до прекращения регулирования для этого экземпляра роли.
* Клиенту отправляется ответ, чтобы он мог повторно отправить это сообщение.
* Необходимо дождаться, когда регулирование будет завершено. В частности, следует дождаться момента достижения нижнего порогового значения.

## <a name="important-notes"></a>Важные примечания
* Регулирование нельзя отключить.
* Пороговые значения регулирования нельзя изменить.
* Регулирование реализуется на уровне всей системы.
* Сервер базы данных SQL Azure имеет также и встроенное регулирование.

## <a name="additional-azure-biztalk-services-topics"></a>Дополнительная информация о службах BizTalk в Azure
* [Установка пакета SDK для служб BizTalk Azure](http://go.microsoft.com/fwlink/p/?LinkID=241589)<br/>
* [Руководства по службам BizTalk Azure](http://go.microsoft.com/fwlink/p/?LinkID=236944)<br/>
* [Как приступить к работе с пакетом SDK для служб BizTalk Azure](http://go.microsoft.com/fwlink/p/?LinkID=302335)<br/>
* [Службы BizTalk Azure](http://go.microsoft.com/fwlink/p/?LinkID=303664)<br/>

## <a name="see-also"></a>См. также
* [Службы BizTalk. Диаграмма выпусков Developer, Basic, Standard и Premium](http://go.microsoft.com/fwlink/p/?LinkID=302279)<br/>
* [Службы BizTalk. Диаграмма состояния подготовки](http://go.microsoft.com/fwlink/p/?LinkID=329870)<br/>
* [Службы BizTalk: вкладки «Панель мониторинга», «Монитор» и «Масштаб»](http://go.microsoft.com/fwlink/p/?LinkID=302281)<br/>
* [Службы BizTalk: резервное копирование и восстановление](http://go.microsoft.com/fwlink/p/?LinkID=329873)<br/>
* [Службы BizTalk: имя и ключ издателя](http://go.microsoft.com/fwlink/p/?LinkID=303941)<br/>

