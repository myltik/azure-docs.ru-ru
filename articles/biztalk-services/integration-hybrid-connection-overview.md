<properties 
	pageTitle="Обзор гибридных подключений | Microsoft Azure" 
	description="Сведения о гибридных подключениях, в том числе о безопасности, TCP-портах и поддерживаемых конфигурациях. MABS, WABS" 
	services="biztalk-services" 
	documentationCenter="" 
	authors="MandiOhlinger" 
	manager="dwrede" 
	editor="cgronlun"/>

<tags 
	ms.service="biztalk-services" 
	ms.workload="integration" 
	ms.tgt_pltfrm="na" 
	ms.devlang="na" 
	ms.topic="get-started-article" 
	ms.date="06/14/2015" 
	ms.author="mandia"/>


# Обзор гибридных подключений
В данном разделе представлены гибридные подключения, список поддерживаемых конфигураций и список необходимых портов TCP.


## Что такое гибридное подключение

Гибридное подключение является компонентом службы Azure BizTalk. Гибридное подключение обеспечивает простой и удобный способ соединения веб-приложений Azure (ранее веб-сайты) и мобильных приложений Azure (ранее мобильные службы) с локальными ресурсами, защищенными брандмауэром.

![через гибридные подключения][HCImage]

К преимуществам гибридных подключений относятся:

- Веб-приложения и мобильные приложения получают безопасный доступ к существующим локальным данным и службам.
- Несколько веб-приложений или мобильных приложений могут одновременно использовать гибридное подключение для доступа к локальному ресурсу. 
- для доступа к сети требуется минимальное количество портов TCP.
- приложения, использующие гибридные подключения, имеют доступ только к определенным локальным ресурсам, опубликованным через гибридное подключение;
- вы можете подключиться к любому локальному ресурсу, который использует статический TCP-порт: например, SQL Server, MySQL, веб-интерфейсы API HTTP и большинство настраиваемых веб-служб.

	> [AZURE.NOTE]Службы на базе протокола TCP, использующие динамические порты (такие как пассивным режим FTP или расширенный пассивный режим), в настоящее время не поддерживаются.

- Можно использовать со всеми платформами, поддерживаемыми веб-приложениями Azure (.NET, PHP, Java, Python, Node.js) и мобильными приложениями Azure (Node.js, .NET).
- Веб-приложения и мобильные приложения могут осуществлять доступ к локальным ресурсам таким же образом, как если бы веб-приложение или мобильное приложение находились в вашей локальной сети. Например, одна и та же строка подключения может использоваться как локально, так и в Azure.


Гибридные подключения также обеспечивают администраторам предприятия управление и видимость корпоративных ресурсов, к которым осуществляется доступ со стороны гибридных приложений, включая:

- Используя групповые политики, администраторы могут предоставлять доступ гибридным подключениям к сети и задавать ресурсы, которые будут доступны гибридным приложениям.
- Журналы события и аудита корпоративной сети обеспечивают видимость ресурсов, к которым осуществляется доступ гибридными подключениями.


## Поддерживаемые конфигурации

Гибридные подключения поддерживают следующие комбинации платформ и приложений:

- доступ из .NET к SQL Server;
- доступ из .NET к службам HTTP/HTTPS с веб-клиентом;
- доступ из PHP к SQL Server, MySQL;
- доступ из Java к SQL Server, MySQL и Oracle;
- доступ из Java к службам HTTP/HTTPS.

При использовании гибридных подключений для доступа к локальному SQL Server, учитывайте следующее:

- именованные экземпляры SQL Express должны быть настроены для использования статических портов. По умолчанию именованные экземпляры SQL Express используют динамические порты.
- Экземпляр SQL Express по умолчанию использует статический порт, однако необходимо разрешить использование протокола TCP. По умолчанию протокол TCP отключен.
- При использовании Кластеризации или Групп доступности, режим `MultiSubnetFailover=true` в настоящее время не поддерживается.
- `ApplicationIntent=ReadOnly` в настоящее время не поддерживается.
- Проверка подлинности SQL может понадобиться в том случае, если сквозная проверка подлинности поддерживается приложением Azure и локальным SQL Server.


## Безопасность и порты

Гибридные подключения используют авторизацию с помощью подписанного URL-адреса (SAS), чтобы гарантировать безопасность подключений от приложений Azure и локального диспетчера гибридных подключений к гибридному подключению. Для приложения и локального диспетчера гибридных подключений создаются отдельные ключи подключения. Эти ключи можно выпускать и отзывать независимо друг от друга.

Гибридные подключения обеспечивают простое и безопасное распределение ключей приложениям и локальному диспетчеру гибридных подключений.

См. раздел [Создание и управление гибридными подключениями](integration-hybrid-connection-create-manage.md).

**Авторизация приложения осуществляется отдельно от гибридного подключения**. Можно использовать любой подходящий метод авторизации. Метод авторизации зависит от сочетания сквозных методов авторизации, поддерживаемых в облаке Azure и локальных компонентах. Например, приложение Azure осуществляет доступ к локальному SQL Server. В этом сценарии авторизация SQL может являться сквозным методом авторизации.

#### Порты TCP
Гибридные подключения требуют только исходящее подключение по протоколу TCP или HTTP из частной сети. Вам не нужно открывать какие-либо порты брандмауэра или изменять параметры конфигурации сети, чтобы разрешить исходящее подключение к своей сети.

Гибридные подключения используют следующие TCP-порты:

Порт | Их назначение
--- | ---
9350 - 9354 | Эти порты используются для передачи данных. Диспетчер ретранслятора служебной шины проверяет порт 9350, чтобы определить, доступно ли подключение TCP. Если оно доступно, диспетчер предполагает, что порт 9352 также доступен. Обмен данными осуществляется через порт 9352. <br/><br/>Разрешите внешние подключения к этим портам.
5671 | Когда порт 9352 используется для обмена данными, порт 5671 употребляется в качестве канала управления. <br/><br/>Разрешите внешние подключения к этому порту. 
80, 443 | Если порты 9352 и 5671 недоступны, *тогда* в качестве резервных портов для обмена данными и управления используются порты 80 и 443.<br/><br/>Разрешите внешние подключения к этим портам. <br/><br/> **Примечание** Не рекомендуется использовать эти резервные порты вместо других TCP-портов. HTTP/WebSocket используется в качестве протокола вместо собственного TCP-протокола для каналов данных. Это может привести к снижению производительности.



## Далее

[Создание гибридных подключений и управление ими](integration-hybrid-connection-create-manage.md)<br/> [Подключение веб-сайта Azure к локальным ресурсам](../web-sites-hybrid-connection-get-started.md)<br/> [Подключение локального SQL Server из веб-приложений Azure](../web-sites-hybrid-connection-connect-on-premises-sql-server.md)<br/> [Мобильные службы Azure и гибридные подключения](../mobile-services-dotnet-backend-hybrid-connections-get-started.md)


## См. также

[REST API для управления службами BizTalk в Microsoft Azure](http://msdn.microsoft.com/library/azure/dn232347.aspx) [Службы BizTalk. Диаграмма выпусков](biztalk-editions-feature-chart.md)<br/> [Создание службы BizTalk с помощью портала управления Azure](biztalk-provision-services.md)<br/> [Службы BizTalk: вкладки «Панель мониторинга», «Монитор» и «Масштаб»](biztalk-dashboard-monitor-scale-tabs.md)<br/>

[HCImage]: ./media/integration-hybrid-connection-overview/WABS_HybridConnectionImage.png
[HybridConnectionTab]: ./media/integration-hybrid-connection-overview/WABS_HybridConnectionTab.png
[HCOnPremSetup]: ./media/integration-hybrid-connection-overview/WABS_HybridConnectionOnPremSetup.png
[HCManageConnection]: ./media/integration-hybrid-connection-overview/WABS_HybridConnectionManageConn.png

<!---HONumber=August15_HO7-->