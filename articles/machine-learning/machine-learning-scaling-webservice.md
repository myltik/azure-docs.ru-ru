---
title: Масштабирование веб-службы | Microsoft Docs
description: Узнайте, как масштабировать веб-службу, расширяя параллелизм и добавляя новые конечные точки.
services: machine-learning
documentationcenter: ''
author: neerajkh
manager: srikants
editor: cgronlun
keywords: машинное обучение azure, веб-службы, операционализация, масштабирование, конечная точка, параллелизм

ms.service: machine-learning
ms.devlang: NA
ms.workload: data-services
ms.tgt_pltfrm: na
ms.topic: article
ms.date: 10/05/2016
ms.author: neerajkh

---
# <a name="scaling-a-web-service"></a>Масштабирование веб-службы
> [!NOTE]
> В этой статье описаны методы, применимые для классической веб-службы. 
> 
> 

По умолчанию каждая опубликованная веб-служба настраивается для поддержки 20 параллельных запросов, а максимальное число параллельных запросов может доходить до 200. Это значение можно задать на классическом портале Azure, однако Машинное обучение Azure автоматически оптимизирует этот параметр, обеспечивая максимальную производительность веб-службы. Значение, указанное на портале, при этом игнорируется. 

Если для API планируется более высокая нагрузка, чем максимальное поддерживаемое значение в 200 одновременных вызовов, следует создать для такой веб-службы несколько конечных точек. Это позволит случайным образом распределять нагрузку между ними.

## <a name="add-new-endpoints-for-same-web-service"></a>Добавление новых конечных точек для той же веб-службы
Масштабирование веб-службы — достаточно распространенная задача. Например, масштабирование будет полезным для поддержки более 200 одновременных запросов, для повышения доступности путем использования нескольких конечных точек или для разделения конечных точек веб-службы. Масштаб можно увеличить, добавляя дополнительные конечные точки для той же веб-службы с помощью [классического портала Azure](https://manage.windowsazure.com/) или портала [веб-службы машинного обучения Azure](https://services.azureml.net/).

Дополнительные сведения о добавлении конечных точек см. в статье [Создание конечных точек](machine-learning-create-endpoint.md).

Помните, что высокие значения для количества одновременных событий могут неблагоприятно влиять на работу API, если для него не создается достаточно высокой нагрузки. При создании достаточно низкой нагрузки на API, настроенный на высокую нагрузку, периодически случайно могут возникать периоды ожидания или резкое повышение значений задержки.

Синхронные API обычно используются в ситуациях, когда требуется низкий уровень задержки. Под задержкой здесь подразумевается время, необходимое для того, чтобы API завершил один запрос, и в ней не учитывается время сетевой задержки. Предположим, что имеется API с задержкой в 50 мс. Чтобы полностью задействовать доступный объем с использованием высокого уровня ускорения и максимальным количеством одновременных вызовов = 20, необходимо вызывать этот API 20 * 1000 / 50 = 400 раз в секунду. Аналогично, при максимальном количестве одновременных вызовов в 200 и задержке в 50 мс этот API можно вызывать 4000 раз в секунду.

<!--Image references-->
[1]: ./media/machine-learning-scaling-webservice/machlearn-1.png
[2]: ./media/machine-learning-scaling-webservice/machlearn-2.png



<!--HONumber=Oct16_HO2-->


