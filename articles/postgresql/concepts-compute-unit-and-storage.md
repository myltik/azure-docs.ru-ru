---
title: Сведения о единицах вычислений в базе данных Azure для PostgreSQL | Документы Майкрософт
description: 'База данных Azure для PostgreSQL: в этой статье дается определение понятия "единица вычислений", а также описывается, что происходит, когда для рабочей нагрузки достигается максимальное значение этих единиц.'
services: postgresql
author: kamathsun
ms.author: sukamat
manager: jhubbard
editor: jasonwhowell
ms.service: postgresql
ms.topic: article
ms.date: 09/26/2017
ms.openlocfilehash: dbb9f733455fa0492358b24b178c8c637ff08c71
ms.sourcegitcommit: 088a8788d69a63a8e1333ad272d4a299cb19316e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/28/2018
ms.locfileid: "29678325"
---
# <a name="explaining-compute-units-in-azure-database-for-postgresql"></a>Сведения о единицах вычислений в базе данных Azure для PostgreSQL
В этом разделе дается определение понятия "единица вычислений", а также описывается, что происходит, когда для рабочей нагрузки достигается максимальное значение этих единиц.

## <a name="what-are-compute-units"></a>Что такое единица вычислений?
Единицы вычислений — это единицы измерения пропускной способности ЦП при обработке данных, которые гарантированно доступны каждому отдельному серверу базы данных Azure для PostgreSQL. Единица вычислений — это объединенный показатель ресурсов ЦП и памяти. Как правило, 50 единиц вычислений соответствуют половине ядра. 100 единиц вычислений соответствуют одному ядру. 2000 единиц вычислений соответствуют двадцати ядрам гарантированной пропускной способности, доступной серверу при обработке данных.

Объем памяти на единицу вычислений оптимизируется для ценовых категорий "Базовый" и "Стандартный". Повысить уровень производительности, удвоив число единиц вычислений, означает удвоить емкость ЦП и объем памяти, доступные для одной Базы данных Azure для PostgreSQL.

Например, если настроить 800 единиц вычислений уровня "Стандартный", то обеспечивается в 8 раз больше пропускной способности ЦП и памяти, чем при 100 единицах вычислений уровня "Стандартный". При этом стоит учитывать, что хотя 100 единиц вычислений уровня "Стандартный" обеспечивают такую же пропускную способность ЦП, как и 100 единиц вычислений ценовой категории "Базовый", но объем памяти, предварительно настроенный для ценовой категории "Стандартный", вдвое больше объема памяти, настроенного для ценовой категории "Базовый". Поэтому ценовая категория "Стандартный" обеспечивает более высокую производительность рабочих нагрузок и меньшую задержку транзакций, чем ценовая категория "Базовый" с тем же количеством единиц вычислений.

## <a name="how-can-i-determine-the-number-of-compute-units-needed-for-my-workload"></a>Как определить, сколько единиц вычислений необходимо для рабочей нагрузки?
Если необходимо перенести существующий локальный сервер PostgreSQL или сервер PostgreSQL, работающий на виртуальной машине, то для определения числа единиц вычислений можно оценить, сколько ядер потребуется для обеспечения пропускной способности, необходимой для данной рабочей нагрузки. 

Если сейчас ваш сервер, работающий локально или на виртуальной машине, использует 4 ядра (не считая технологии Hyper-Threading в ЦП), то для сервера базы данных Azure для PostgreSQL можно сначала настроить 400 единиц вычислений. Число единиц вычислений может масштабироваться динамически в зависимости от потребностей рабочих нагрузок. Простои приложения при этом практически отсутствуют. 

Для измерения числа единиц вычислений наблюдайте за диаграммой метрик на портале Azure или используйте команды Azure CLI. Метрики, подлежащие отслеживанию, — процент использования единиц вычислений и ограничение на единицы вычислений.

>[!IMPORTANT]
> Если возможности ввода-вывода хранилища используются не полностью, также рекомендуется отслеживать использование единиц вычислений. Увеличение количества единиц вычислений может обеспечить более высокую пропускную способность ввода-вывода благодаря сокращению узких мест производительности, возникающих вследствие ограничений ЦП или памяти.

## <a name="what-happens-when-i-hit-my-maximum-compute-units"></a>Что происходит, когда количество единиц вычислений становится максимальным?
Уровни производительности определяются и регулируются, чтобы обеспечить ресурсы для работы базы данных в условиях максимальной нагрузки, предусмотренной выбранной ценовой категорией и уровнем производительности. 

Если ваша нагрузка достигнет предела по одному из показателей (число единиц вычислений или подготовленных операций ввода-вывода), то вы можете и далее использовать ресурсы на максимально допустимом уровне, но может увеличиться задержка обработки ваших запросов. Превышение одного из этих ограничений ведет не к возникновению ошибок, а к замедлению работы (за исключением случаев, когда работа идет настолько медленно, что время ожидания запросов истекает). 

Если для рабочей нагрузки достигаются предельные значения количества подключений, происходят явные ошибки. Дополнительные сведения об ограничении ресурсов см. в статье [Ограничения базы данных Azure для PostgreSQL](concepts-limits.md).

## <a name="next-steps"></a>Дополнительная информация
Дополнительные сведения о ценовых категориях см. в статье [Ценовые категории базы данных Azure для PostgreSQL](./concepts-service-tiers.md).
