---
title: Перенос Azure Data Lake Store между регионами | Документация Майкрософт
description: Сведения о переносе Azure Data Lake Store между регионами.
services: data-lake-store
documentationcenter: ''
author: swums
manager: amitkul
editor: swums
ms.assetid: ebde7b9f-2e51-4d43-b7ab-566417221335
ms.service: data-lake-store
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 01/27/2017
ms.author: stewu
ms.openlocfilehash: 488a9954cef210b727518375e218fe084129a6f7
ms.sourcegitcommit: e2adef58c03b0a780173df2d988907b5cb809c82
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2018
---
# <a name="migrate-data-lake-store-across-regions"></a>Перенос Data Lake Store между регионами

Когда служба Azure Data Lake Store становится доступной в новых регионах, вам может понадобиться выполнить однократный перенос, чтобы воспользоваться преимуществами нового региона. Узнайте, что необходимо учесть при планировании и выполнении переноса.

## <a name="prerequisites"></a>предварительным требованиям

* **Подписка Azure**. Чтобы получить дополнительные сведения, ознакомьтесь со страницей [Создайте бесплатную учетную запись Azure уже сегодня](https://azure.microsoft.com/pricing/free-trial/).
* **Учетная запись Data Lake Store в двух разных регионах**. Дополнительные сведения см. в статье [Начало работы с хранилищем озера данных Azure с помощью портала Azure](data-lake-store-get-started-portal.md).
* **Фабрика данных Azure**. Дополнительную информацию см. в статье [Общие сведения о службе фабрики данных Azure, службе интеграции данных в облаке](../data-factory/introduction.md).


## <a name="migration-considerations"></a>Рекомендации по переносу

Во-первых, определите стратегию переноса, лучше всего подходящую для вашего приложения, которое записывает, считывает и обрабатывает данные в Data Lake Store. При выборе стратегии учитывайте требования приложения к доступности и время простоя, которое возникнет во время переноса. Например, проще всего использовать модель переноса в облаке "lift-and-shift". При таком подходе работа приложения в существующем регионе приостанавливается, пока все данные копируются в новый регион. После завершения копирования приложение возобновляет работу в новом регионе, после чего старая учетная запись Data Lake Store удаляется. При переносе обязательно возникает простой.

Чтобы сократить время простоя, можно немедленно начать прием новых данных в новом регионе. Получив минимально необходимый набор данных, запустите приложение в новом регионе. В фоновом режиме продолжайте копировать данные из старой учетной записи Data Lake Store в новую учетную запись Data Lake Store в новом регионе. Такой подход позволяет переключиться на новый регион с небольшим временем простоя. Скопировав все старые данные, удалите старую учетную запись Data Lake Store.

Далее перечислены другие важные факторы, которые следует учесть при планировании миграции.

* **Объем данных**. Объем данных (в гигабайтах, по числу файлов и папок и т. д) влияет на время и ресурсы, необходимые для переноса.

* **Имя учетной записи Data Lake Store**. Имя новой учетной записи в новом регионе должно быть глобально уникальным. Предположим, ваша старая учетная запись Data Lake Store в восточной части США 2 называется contosoeastus2.azuredatalakestore.net. Тогда новую учетную запись Data Lake Store, расположенную в Северной Европе (ЕС), можно назвать contosonortheu.azuredatalakestore.net.

* **Инструменты**. Для копирования файлов Data Lake Store рекомендуется использовать [действие копирования фабрики данных Azure](../data-factory/connector-azure-data-lake-store.md). Фабрика данных поддерживает надежное и эффективное перемещение данных. Учтите, что фабрика данных копирует только иерархию папок и содержимое файлов. К новой учетной записи необходимо будет вручную применить все списки управления доступом (ACL), используемые в старой учетной записи. Дополнительные сведения, включая целевые показатели производительности для наилучших сценариев, приведены в разделе [Руководство по настройке производительности действия копирования](../data-factory/copy-activity-performance.md). Если нужно скопировать данные быстрее, могут потребоваться дополнительные облачные единицы перемещения данных. Некоторые другие инструменты, например ADLCopy, не поддерживают копирование данных между регионами.  

* **Стоимость пропускной способности**. Потребуется оплачивать [пропускную способность](https://azure.microsoft.com/pricing/details/bandwidth/), так как данные передаются за пределы региона Azure.

* **Списки управления доступом к данным**. Защитите данные в новом регионе, используя списки управления доступом для файлов и папок. Дополнительные сведения см. в статье [Защита данных, хранимых в хранилище озера данных Azure](data-lake-store-secure-data.md). Мы рекомендуем использовать перенос для обновления и настройки списков управления доступом. Возможно, вам потребуется использовать параметры, аналогичные текущим. Можно просмотреть списки управления доступом, которые применяются к любому файлу, с помощью портала Azure, [командлетов PowerShell](/powershell/module/azurerm.datalakestore/get-azurermdatalakestoreitempermission) или пакетов SDK.  

* **Расположение служб аналитики**. Для оптимальной производительности ваши службы аналитики, такие как Data Lake Analytics или HDInsight, должны находиться в том же регионе, что и данные.  

## <a name="next-steps"></a>Дополнительная информация
* [Обзор Azure Data Lake Store](data-lake-store-overview.md)
