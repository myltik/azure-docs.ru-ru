---
title: "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Draft —Å AKS –∏ —Ä–µ–µ—Å—Ç—Ä–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ Azure"
description: "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Draft —Å AKS –∏ —Ä–µ–µ—Å—Ç—Ä–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ Azure"
services: container-service
author: neilpeterson
manager: timlt
ms.service: container-service
ms.topic: article
ms.date: 10/24/2017
ms.author: nepeters
ms.custom: mvc
ms.openlocfilehash: df5614d8a708b49ee1368c4d7983f45d29920fd8
ms.sourcegitcommit: 5d3e99478a5f26e92d1e7f3cec6b0ff5fbd7cedf
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/06/2017
---
# <a name="use-draft-with-azure-container-service-aks"></a>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Draft —Å–æ –°–ª—É–∂–±–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ Azure (AKS)

Draft —è–≤–ª—è–µ—Ç—Å—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –∫–æ–¥–æ–º, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç —É–ø–∞–∫–æ–≤—ã–≤–∞—Ç—å –∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –∫–æ–¥ –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ Kubernetes. Draft –Ω–∞—Ü–µ–ª–µ–Ω –Ω–∞ —Ü–∏–∫–ª –∏—Ç–µ—Ä–∞—Ü–∏–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø–æ –º–µ—Ä–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–¥–∞, –Ω–æ –ø–µ—Ä–µ–¥ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≤ —Å–∏—Å—Ç–µ–º–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏—è–º–∏. –° –ø–æ–º–æ—â—å—é Draft –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Kubernetes –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–¥–∞. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è –æ Draft —Å–º. –≤ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ Draft –Ω–∞ Github](https://github.com/Azure/draft/tree/master/docs).

–í —ç—Ç–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–µ –æ–ø–∏—Å–∞–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Draft —Å –∫–ª–∞—Å—Ç–µ—Ä–æ–º Kubernetes –≤ AKS.

## <a name="prerequisites"></a>–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

–í –¥–µ–π—Å—Ç–≤–∏—è—Ö, –æ–ø–∏—Å–∞–Ω–Ω—ã—Ö –≤ —ç—Ç–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–µ, –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ –∫–ª–∞—Å—Ç–µ—Ä AKS —Å–æ–∑–¥–∞–Ω –∏ —Å –Ω–∏–º —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ kubectl. –ï—Å–ª–∏ –≤–∞–º —Ç—Ä–µ–±—É—é—Ç—Å—è —ç—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —Å–º. —Å—Ç–∞—Ç—å—é [Deploy an Azure Container Service (AKS) cluster](./kubernetes-walkthrough.md) (–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∞ –°–ª—É–∂–±—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ Azure (AKS)).

–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –Ω–µ–æ–±—Ö–æ–¥–∏–º —á–∞—Å—Ç–Ω—ã–π —Ä–µ–µ—Å—Ç—Ä Docker –≤ —Ä–µ–µ—Å—Ç—Ä–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ Azure(ACR). –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ ACR —Å–º. –≤ —Å—Ç–∞—Ç—å–µ [–°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–µ—Å—Ç—Ä–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ —Å –ø–æ–º–æ—â—å—é Azure CLI](../container-registry/container-registry-get-started-azure-cli.md).

## <a name="install-helm"></a>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Helm

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ Helm ‚Äî —ç—Ç–æ –∫–ª–∏–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ —Å–∏—Å—Ç–µ–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é —á–∞—Ä—Ç–æ–≤ Helm, –∞ —Ç–∞–∫–∂–µ —É–ø—Ä–∞–≤–ª—è—Ç—å –∏–º–∏.

–ß—Ç–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ Helm –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ Mac, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É `brew`. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–º. –≤ —Å—Ç–∞—Ç—å–µ [Installing Helm](https://github.com/kubernetes/helm/blob/master/docs/install.md) (–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Helm).

```console
brew install kubernetes-helm
```

–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:

```
==> Downloading https://homebrew.bintray.com/bottles/kubernetes-helm-2.6.2.sierra.bottle.1.tar.gz
######################################################################## 100.0%
==> Pouring kubernetes-helm-2.6.2.sierra.bottle.1.tar.gz
==> Caveats
Bash completion has been installed to:
  /usr/local/etc/bash_completion.d
==> Summary
üç∫  /usr/local/Cellar/kubernetes-helm/2.6.2: 50 files, 132.4MB
```

## <a name="install-draft"></a>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Draft

CLI Draft ‚Äî —ç—Ç–æ –∫–ª–∏–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ —Å–∏—Å—Ç–µ–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –±—ã—Å—Ç—Ä–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞—Ç—å –∫–æ–¥ –≤ –∫–ª–∞—Å—Ç–µ—Ä Kubernetes.

–ß—Ç–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ Draft –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ Mac, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É `brew`. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–º. –≤ [—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ Draft](https://github.com/Azure/draft/blob/master/docs/install.md).

```console
brew install draft
```

–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:

```
==> Installing draft from azure/draft
==> Downloading https://azuredraft.blob.core.windows.net/draft/draft-v0.7.0-darwin-amd64.tar.gz
Already downloaded: /Users/neilpeterson/Library/Caches/Homebrew/draft-0.7.0.tar.gz
==> /usr/local/Cellar/draft/0.7.0/bin/draft init --client-only
üç∫  /usr/local/Cellar/draft/0.7.0: 6 files, 61.2MB, built in 1 second
```

## <a name="configure-draft"></a>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Draft

–ü—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Draft –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å —Ä–µ–µ—Å—Ç—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤. –í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–µ—Å—Ç—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ Azure.

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–º–µ–Ω–∏ –∏ –∏–º–µ–Ω–∏ —Å–µ—Ä–≤–µ—Ä–∞ –≤—Ö–æ–¥–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ ACR. –£–∫–∞–∂–∏—Ç–µ –≤ –∫–æ–º–∞–Ω–¥–µ –∏–º—è –≥—Ä—É–ø–ø—ã —Ä–µ—Å—É—Ä—Å–æ–≤, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–¥–µ—Ä–∂–∏—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä ACR.

```console
az acr list --resource-group <resource group> --query "[].{Name:name,LoginServer:loginServer}" --output table
```

–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –Ω–µ–æ–±—Ö–æ–¥–∏–º –ø–∞—Ä–æ–ª—å —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ ACR.

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø–∞—Ä–æ–ª—å ACR. –£–∫–∞–∂–∏—Ç–µ –≤ –∫–æ–º–∞–Ω–¥–µ –∏–º—è –Ω—É–∂–Ω–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ ACR.

```console
az acr credential show --name <acr name> --query "passwords[0].value" --output table
```

–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ Draft —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã `draft init`.

```console
draft init
```

–í–æ –≤—Ä–µ–º—è —ç—Ç–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤–∞–º –±—É–¥–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–æ –≤–≤–µ—Å—Ç–∏ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ä–µ–µ—Å—Ç—Ä–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Ä–µ–µ—Å—Ç—Ä–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ Azure URL-–∞–¥—Ä–µ—Å–æ–º —Ä–µ–µ—Å—Ç—Ä–∞ —è–≤–ª—è–µ—Ç—Å—è –∏–º—è —Å–µ—Ä–≤–µ—Ä–∞ –≤—Ö–æ–¥–∞ ACR, –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Äî –∏–º–µ–Ω–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ ACR, –∞ –ø–∞—Ä–æ–ª—å ‚Äî –ø–∞—Ä–æ–ª–µ–º ACR.

```console
1. Enter your Docker registry URL (e.g. docker.io/myuser, quay.io/myuser, myregistry.azurecr.io): <ACR Login Server>
2. Enter your username: <ACR Name>
3. Enter your password: <ACR Password>
```

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è Draft –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ Kubernetes –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

```
Draft has been installed into your Kubernetes Cluster.
Happy Sailing!
```

## <a name="run-an-application"></a>–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π Draft –≤–∫–ª—é—á–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–π –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ Draft. –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–æ–Ω —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.

```console
git clone https://github.com/Azure/draft
```

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–∞—Ç–∞–ª–æ–≥ –ø—Ä–∏–º–µ—Ä–æ–≤ Java.

```console
cd draft/examples/java/
```

–ß—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `draft create`. –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ —Å–æ–∑–¥–∞–µ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ Kubernetes. –≠—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç—ã –≤–∫–ª—é—á–∞—é—Ç —Ñ–∞–π–ª Dockerfile, —á–∞—Ä—Ç Helm –∏ —Ñ–∞–π–ª `draft.toml`, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è —Ñ–∞–π–ª–æ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Draft.

```console
draft create
```

–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:

```
--> Draft detected the primary language as Java with 92.205567% certainty.
--> Ready to sail
```

–ß—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ Kubernetes, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `draft up`. –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ –∫–ª–∞—Å—Ç–µ—Ä Kubernetes. –ó–∞—Ç–µ–º –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ñ–∞–π–ª Docker, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –æ–±—Ä–∞–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ–±—Ä–∞–∑ –≤ —Ä–µ–µ—Å—Ç—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏ –Ω–∞–∫–æ–Ω–µ—Ü –∑–∞–ø—É—Å—Ç–∏—Ç—å —á–∞—Ä—Ç Helm –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

```console
draft up
```

–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:

```
Draft Up Started: 'open-jaguar'
open-jaguar: Building Docker Image: SUCCESS ‚öì  (28.0342s)
open-jaguar: Pushing Docker Image: SUCCESS ‚öì  (7.0647s)
open-jaguar: Releasing Application: SUCCESS ‚öì  (4.5056s)
open-jaguar: Build ID: 01BW3VVNZYQ5NQ8V1QSDGNVD0S
```

## <a name="test-the-application"></a>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ß—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `draft connect`. –≠—Ç–æ –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–æ–∫—Å–∏-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –º–æ–¥—É–ª—é Kubernetes, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ª–æ–∫–∞–ª—å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ. –ü–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —á–µ—Ä–µ–∑ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π URL-–∞–¥—Ä–µ—Å.

–í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –æ–±—Ä–∞–∑–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏ –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç. –ï—Å–ª–∏ –ø—Ä–∏ –¥–æ—Å—Ç—É–ø–µ –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –ø–æ—è–≤–ª—è–µ—Ç—Å—è –æ—à–∏–±–∫–∞, –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–æ–ø—ã—Ç–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.

```console
draft connect
```

–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:

```
Connecting to your app...SUCCESS...Connect to your app on localhost:46143
Starting log streaming...
SLF4J: Failed to load class "org.slf4j.impl.StaticLoggerBinder".
SLF4J: Defaulting to no-operation (NOP) logger implementation
SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.
== Spark has ignited ...
>> Listening on 0.0.0.0:4567
```

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `Control+C` –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–æ–∫—Å–∏-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.

## <a name="expose-application"></a>–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ü—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ Kubernetes –º–æ–∂–Ω–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é —á–µ—Ä–µ–∑ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç. –≠—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Å –ø–æ–º–æ—â—å—é —Å–ª—É–∂–±—ã Kubernetes —Å —Ç–∏–ø–æ–º [LoadBalancer](https://kubernetes.io/docs/concepts/services-networking/service/#type-loadbalancer) –∏–ª–∏ —Å –ø–æ–º–æ—â—å—é [–≤—Ö–æ–¥—è—â–µ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞](https://kubernetes.io/docs/concepts/services-networking/ingress/). –í —ç—Ç–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–µ –æ–ø–∏—Å–∞–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–ª—É–∂–±—ã Kubernetes.


–°–Ω–∞—á–∞–ª–∞ –ø–∞–∫–µ—Ç Draft –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±–Ω–æ–≤–∏—Ç—å, —á—Ç–æ–±—ã —É–∫–∞–∑–∞—Ç—å, —á—Ç–æ —Å–ª—É–∂–±–∞ —Å —Ç–∏–ø–æ–º `LoadBalancer` –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω–∞. –ß—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±–Ω–æ–≤–∏—Ç—å —Ç–∏–ø —Å–ª—É–∂–±—ã –≤ —Ñ–∞–π–ª–µ `values.yaml`.

```console
vi chart/java/values.yaml
```

–ù–∞–π–¥–∏—Ç–µ —Å–≤–æ–π—Å—Ç–≤–æ `service.type` –∏ –æ–±–Ω–æ–≤–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å `ClusterIP` –Ω–∞ `LoadBalancer`.

```yaml
replicaCount: 2
image:
  repository: openjdk
  tag: 8-jdk-alpine
  pullPolicy: IfNotPresent
service:
  name: java
  type: LoadBalancer
  externalPort: 80
  internalPort: 4567
resources:
  limits:
    cpu: 100m
    memory: 128Mi
  requests:
    cpu: 100m
    memory: 128Mi
  ```

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É `draft up` –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

```console
draft up
```

–í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –æ–±—â–µ–¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ IP-–∞–¥—Ä–µ—Å–∞ —Å–ª—É–∂–±—ã –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç. –î–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `kubectl get service` —Å –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º.

```console
kubectl get service -w
```

–ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ *EXTERNAL-IP* —Å–ª—É–∂–±—ã –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ `pending`.

```
deadly-squid-java   10.0.141.72   <pending>     80:32150/TCP   14m
```

–ö–∞–∫ —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ "EXTERNAL-IP" —Å–æ—Å—Ç–æ—è–Ω–∏–µ `pending` –∏–∑–º–µ–Ω–∏—Ç—Å—è –Ω–∞ `IP address`, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `Control+C`, —á—Ç–æ–±—ã –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è kubectl.

```
deadly-squid-java   10.0.141.72   52.175.224.118   80:32150/TCP   17m
```

–ß—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –≤–Ω–µ—à–Ω–∏–π IP-–∞–¥—Ä–µ—Å.

```console
curl 52.175.224.118
```

–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:

```
Hello World, I'm Java
```

## <a name="iterate-on-the-application"></a>–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏—Ç–µ—Ä–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ Draft –Ω–∞—Å—Ç—Ä–æ–µ–Ω, –∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ Kubernetes, –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∏—Ç–µ—Ä–∞—Ü–∏—é –∫–æ–¥–∞. –ö–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É `draft up`, —á—Ç–æ–±—ã –æ–±–Ω–æ–≤–∏—Ç—å –≤—ã–ø–æ–ª–Ω—è—é—â–µ–µ—Å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

–ù–∞–ø—Ä–∏–º–µ—Ä, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Java Hello World.

```console
vi src/main/java/helloworld/Hello.java
```

–û–±–Ω–æ–≤–∏—Ç–µ —Ç–µ–∫—Å—Ç Hello World.

```java
package helloworld;

import static spark.Spark.*;

public class Hello {
    public static void main(String[] args) {
        get("/", (req, res) -> "Hello World, I'm Java - Draft Rocks!");
    }
}
```

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É `draft up` –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

```console
draft up
```

–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

```
Draft Up Started: 'deadly-squid'
deadly-squid: Building Docker Image: SUCCESS ‚öì  (18.0813s)
deadly-squid: Pushing Docker Image: SUCCESS ‚öì  (7.9394s)
deadly-squid: Releasing Application: SUCCESS ‚öì  (6.5005s)
deadly-squid: Build ID: 01BWK8C8X922F5C0HCQ8FT12RR
```

–ù–∞–∫–æ–Ω–µ—Ü –ø—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —á—Ç–æ–±—ã –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.

```console
curl 52.175.224.118
```

–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:

```
Hello World, I'm Java - Draft Rocks!
```

## <a name="next-steps"></a>–î–∞–ª—å–Ω–µ–π—à–∏–µ –¥–µ–π—Å—Ç–≤–∏—è

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è –æ Draft —Å–º. –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Draft –Ω–∞ GitHub.

> [!div class="nextstepaction"]
> [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ Draft](https://github.com/Azure/draft/tree/master/docs)