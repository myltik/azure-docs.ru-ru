<properties
	pageTitle="Введение в Microsoft Azure | Microsoft Azure"
	description="Не знакомы с Microsoft Azure? Ознакомьтесь с общей информацией о службах Microsoft Azure и примерами их использования."
	services=" "
	documentationCenter=".net"
	authors="rboucher"
	manager=""
	editor=""/>

<tags
	ms.service="multiple"
	ms.workload="multiple"
	ms.tgt_pltfrm="na"
	ms.devlang="na"
	ms.topic="article"
	ms.date="06/30/2015"  
	ms.author="robb"/>

# Введение в Microsoft Azure

Microsoft Azure — это платформа приложений корпорации Майкрософт для общедоступного облака. Целью данной статьи является знакомство с основными принципами платформы Azure с учетом возможного отсутствия каких-либо предварительных знаний в сфере облачных вычислений.

**Как читать эту статью**

Платформа Azure постоянно развивается, поэтому объем информации может оказаться для вас слишком большим. Начните с базовых служб, которые в этой статье описываются первыми, а затем переходите к дополнительным службам. Это не означает, что вы не можете использовать только дополнительные службы, однако базовые службы лежат в основе приложения, запущенного в Azure.

**Отправка отзывов**

Ваши отзывы очень важны для нас. В этой статье мы попытаемся дать самые необходимые сведения об Azure. Если они недостаточно исчерпывающие, сообщите об этом в разделе комментариев внизу страницы. Укажите подробнее, что вы рассчитывали узнать и как можно улучшить данную статью.


## Компоненты Azure

Azure группирует службы по категориям на портале управления и по разным вспомогательным визуальным элементам, таким как [Инфографика «Что такое Azure»](https://azure.microsoft.com/documentation/infographics/azure/). Портал управления используется для управления большинством служб в Azure (но не всеми).

В этой статье сведения о службах **упорядочены** по аналогичным функциям и важным вызываемым подслужбам, которые включены в более крупные службы.

![Компоненты Azure](./media/fundamentals-introduction-to-azure/AzureComponentsIntroNew780.png) *Рисунок. Azure предоставляет службы приложений, доступных в Интернете, выполняющихся в центрах данных Azure.*

## Портал управления
Azure содержит веб-интерфейс, который называется [Портал управления](http://manage.windowsazure.com). Он позволяет администраторам получить доступ к большинству функций Azure (но не ко всем) и управлять ими. Обычно перед прекращением действия портала Майкрософт выпускает бета-версию нового портала пользовательского интерфейса. Более новый портал называется [портал предварительной версии Azure](https://portal.azure.com/).

Как правило, достаточно долго оба портала работают одновременно. Хотя базовые службы присутствуют в обоих порталах, не все функциональные возможности могут быть реализованы в каждом из них. Самые новые службы могут появляться сначала на новом портале, а более старые службы и функции могут оставаться в старой версии портала. Поэтому, если вам не удается найти что-либо на старом портале, проверьте новый — и наоборот.



## Среда выполнения приложений

Одной из основных задач облачной платформы является выполнение приложений. Каждая из моделей вычисления Azure занимает свою нишу.

Можно использовать эти технологии раздельно или объединить их для создания подходящего основания для своего приложения. Выбор конкретного подхода зависит от стоящих перед вами проблем.


### Виртуальные машины Azure

![Виртуальные машины Azure ROBBCSIART\_TEST](./media/fundamentals-introduction-to-azure/mscsiart_VirtualMachinesIntroNew_12345.png) *Рисунок. Виртуальные машины Azure предоставляют полный контроль над экземплярами виртуальных машин в облаке.*

Возможность создания виртуальной машины по запросу — из стандартного или предоставленного вами образа — может оказаться крайне полезной. Именно такой подход, который обычно называют "инфраструктура как услуга" (IaaS), и предлагает модель виртуальных машин Azure. На рис. 2 показана комбинация запуска виртуальной машины (VM) и ее создания из виртуального жесткого диска.

Чтобы создать виртуальную машину, вы указываете используемый виртуальный жесткий диск и размер виртуальной машины. После этого вы оплачиваете время, когда виртуальная машина работает. Оплата рассчитывается по минутам и только во время работы, однако существует минимальная плата за хранилище для предоставления виртуального жесткого диска. Azure предлагает коллекцию виртуальных жестких дисков для хранения (называемых "образами"), на которых находится загрузочная операционная система для запуска. Сюда входят варианты Майкрософт и партнеров, например Windows Server и Linux, SQL Server, Oracle и многие другие. Вы можете создавать виртуальные жесткие диски и образы, а затем отправлять их себе. Вы можете даже отправлять виртуальные жесткие диски, которые содержат только данные, а потом получать к ним доступ из расположения, в котором запущены виртуальные машины.

Откуда бы ни был взят виртуальный жесткий диск, вы можете на постоянной основе сохранять все изменения, внесенные во время работы виртуальной машины. При следующем создании виртуальной машины из данного виртуального жесткого диска работа начнется из того состояния, в котором была остановлена. Виртуальные жесткие диски с резервными копиями виртуальных машин хранятся в BLOB-объектах хранилища Azure, которые будут описаны далее. Это означает, что вы получите избыточность, гарантирующую, что виртуальные машины не исчезнут из-за сбоев оборудования и диска. Можно также скопировать измененный виртуальный жесткий диск из Azure и запустить его локально.

Приложение выполняется в одной или нескольких виртуальных машинах в зависимости от того, создали ли вы ее ранее или решили создать с нуля сейчас.

Этот довольно общий подход к облачным вычислениям можно использовать для решения самых разных проблем.

**Сценарии виртуальных машин**

1.	**Разработка/тестирование**. Вы можете использовать их для создания недорогой платформы для разработки и тестирования, которую по завершении работы можно будет удалить. Вы также можете создать и запустить приложения, использующие любые необходимые вам языки и библиотеки. Такие приложения могут использовать любые предоставляемые Azure варианты управления данными, и вы можете включить использование SQL Server или другой системы управления базами данных, запущенной в одной или нескольких виртуальных машинах.
2.	**Перемещение приложений в Azure (извлечение и перемещение)**. "Извлечение и перемещение" относится к перемещению приложения, как если бы вы использовали погрузчик для перемещения большого объекта. Вы "извлекаете" виртуальный жесткий диск из локального центра данных, "перемещаете" его в Azure и запускаете. Обычно для удаления зависимостей в других системах необходимо выполнить некоторые действия. Если зависимостей слишком много, можно вместо этого выбрать вариант 3.
3.	**Расширение центра данных**. Используйте виртуальные машины Azure как расширение локального центра данных, на котором запущен SharePoint или другие приложения. Чтобы обеспечить соответствующую поддержку, можно создать в облаке домены Windows, запустив Active Directory в виртуальных машинах Azure. Вы можете использовать виртуальную сеть Azure (упомянутую ранее), чтобы связать локальную сеть и сеть Azure.



### Веб-приложения

![Веб-приложения Azure ROBBCSIART\_TEST](./media/fundamentals-introduction-to-azure/mscsiart_AzureWebsitesIntroNew_12345.png) *Рис. Служба веб-приложений Azure выполняет приложение веб-сайта в облаке, не управляя базовым веб-сервером*

Одна из самых распространенных задач, которые пользователи выполняют в облаке, — запуск веб-сайтов и веб-приложений. Модель виртуальных машин Azure допускает это, однако требует от вас заниматься администрированием одной или нескольких виртуальных машин и базовых операционных систем. Это могут выполнять веб-роли облачных служб, но их развертывание и обслуживание все еще требует административной работы. А что если вы просто хотите получить веб-сайт, всю работу по администрированию которого выполняет кто-то другой?

Именно это и предоставляют веб-приложения. Эта модель вычисления предлагает управляемую веб-среду, а также API с помощью портала управления Azure. Вы можете переместить существующее приложение веб-сайта в модель веб-приложений без каких-либо изменений или можете создать новый веб-сайт прямо в облаке. После запуска веб-сайта вы можете добавлять или удалять экземпляры динамически, при этом модель веб-приложений Azure осуществляет балансировку нагрузки по запросам для них. Модель приложений Azure поддерживает два варианта: общий вариант — запуск веб-сайта в виртуальной машине с другими сайтами, и стандартный вариант, предполагающий работу сайта в отдельной виртуальной машине. Стандартный вариант также позволяет увеличить размер (вычислительную мощность) экземпляров, в случае необходимости.

В целях осуществления разработок веб-приложения поддерживают платформы и языки .NET, PHP, Node.js, Java, Python, SQL Database и MySQL (от компании ClearDB — партнера корпорации Майкрософт), применяемые в работе с реляционными хранилищами. Она также имеет встроенную поддержку нескольких популярных приложений, включая WordPress, Joomla и Drupal. Задача заключается в предоставлении экономичной, масштабируемой и универсальной платформы для создания веб-сайтов и веб-приложений в общедоступном облаке.


**Сценарии веб-приложений**

Веб-приложения полезны для корпораций, разработчиков и агентств, занимающихся веб-дизайном. Для корпораций это легко управляемое, масштабируемое, весьма доступное решение с высоким уровнем безопасности для работы веб-сайтов. Если вам нужно настроить веб-сайт, лучше всего начать с веб-приложений Azure и продолжить облачными службами, пока не потребуется функция, которая не доступна. Дополнительные ссылки, которые могут помочь выбрать нужный вариант, см. в разделе "Вычисления".

### Облачные службы
![Облачная служба Azure](./media/fundamentals-introduction-to-azure/CloudServicesIntroNew.png) *Рисунок. Облачные службы Azure предоставляют возможность запуска высокомасштабируемого пользовательского кода в среде "платформа как услуга" (PaaS)*

Предположим, что вы хотите создать облачное приложение, которое может поддерживать множество одновременно работающих пользователей, не требует существенного администрирования и всегда остается в работоспособном состоянии. Например, вы можете быть поставщиком программного обеспечения, решившим воспользоваться идеей "программа как услуга" (SaaS), создав версию одного из своих приложений в облаке. Или вы можете недавно открыть компанию и заниматься созданием потребительского приложения, рост числа пользователей которого по вашим оценкам обещает быть довольно бурным. Если вы создаете продукт в Azure, какую модель выполнения вам следует выбрать?

Модель веб-приложений Azure позволяет создать такое веб-приложение, однако есть некоторые ограничения. У вас нет административного доступа, то есть вы не можете, например, устанавливать произвольное программное обеспечение. Модель виртуальных машин Azure обеспечивает высокую гибкость, включая административный доступ, и позволяет вам создать приложение со значительными возможностями масштабирования, однако вам придется самостоятельно заниматься многими аспектами надежности и администрирования. Вам бы хотелось располагать достаточным уровнем контроля, не выполняя самостоятельно работу по обеспечению надежности и администрированию.

Именно это и предлагает модель облачных служб Azure. Эта технология разработана специально для поддержки масштабируемых и надежных приложений с малым объемом работы по администрированию и представляет собой пример того, что называют "платформа как услуга" (PaaS). Чтобы использовать ее, вы создаете приложение с использованием выбранной вами технологии, такой как C#, Java, PHP, Python, Node.js или иной. После этого ваш код выполняется в виртуальных машинах ("экземпляры"), работающих под управлением Windows Server.

Однако эти виртуальные машины отличаются от тех, которые вы создаете с помощью модели виртуальных машин Azure. Прежде всего, Azure управляет ими самостоятельно, устанавливая исправления операционной системы и автоматически развертывая новые исправленные образы. Подразумевается, что ваше приложение не должно сохранять состояние в экземплярах веб-роли или рабочей роли, вместо этого оно должно храниться в одном из средств управления данными Azure, описанных в следующем разделе. Azure также отслеживает виртуальные машины, перезапуская их в случае сбоя. Вы можете установить для облачных служб автоматическое создание одного или нескольких экземпляров в ответ на требование. Это позволяет обработать рост использования и выполнить обратное масштабирование, чтобы не платить столько же за меньшее использование.

При создании экземпляра у вас есть выбор из двух ролей, основанных на Windows Server. Основное различие между ними заключается в том, что в экземпляре веб-роли выполняются службы IIS, а в экземпляре рабочей роли — нет. Управление ими осуществляется аналогично, и часто приложение использует обе эти роли. Например, экземпляр веб-роли может принимать запросы от пользователей, а затем передавать их в экземпляр рабочей роли для обработки. Чтобы осуществлять масштабирование вашего приложения, вы можете запросить создание в Azure дополнительных экземпляров любой из ролей или завершение работы имеющихся экземпляров. Как и в случае с моделью виртуальных машин Azure, с вас взимается оплата только за время выполнения каждого экземпляра веб-роли или рабочей роли.

**Сценарии облачных служб**

Облачные службы отлично подходят для поддержки массового горизонтального масштабирования, когда нужно больше возможностей управления платформой, чем предоставляют веб-приложения Azure, но не требуется контроль над базовой операционной системой.

#### Выбор модели вычислений
На странице [Сравнение веб-приложений, облачных служб и виртуальных машин Azure](./app-service-web/choose-web-site-cloud-service-vm.md) можно найти более подробную информацию о том, как выбрать модель вычислений.



## Управление данными

Приложениям требуются данные, причем разным видам приложений требуются разные виды данных. В связи с этим Azure предоставляет несколько разных способов для хранения данных и управления ими. Azure предоставляет множество вариантов хранилища, но все они предназначены для долговременного хранения. В любом из этих вариантов всегда существует 3 копии данных, которые постоянно синхронизируются и в центре данных Azure, или 6 копий, если вы разрешите Azure использовать геоизбыточность для резервного копирования в другой центр данных, который находится на расстоянии по крайней мере 500 км.


### В виртуальных машинах
Уже упоминалась возможность запускать SQL Server или другую СУБД в виртуальной машине, созданной с помощью виртуальных машин Azure. Обратите внимание, что данная возможность не ограничивается реляционными системами, то есть вы свободно можете использовать технологии NoSQL, такие как MongoDB и Cassandra. Запуск собственной системы баз данных вполне рационален — она реплицирует все то, к чему мы привыкли в своих центрах обработки данных, однако в этом случае требуется осуществлять администрирование такой системы управления базами данных. В других вариантах Azure обрабатывает большинство или все административные задачи.

И в этом случае резервная копия виртуальной машины и любого дополнительного диска данных, который вы создали или отправили, сохраняется в хранилище BLOB-объектов (которое будет описано далее).


### База данных SQL Azure
![База данных SQL хранилища Azure](./media/fundamentals-introduction-to-azure/StorageAzureSQLDatabaseIntroNew.png)

*Рис. База данных SQL Azure предоставляет службу управляемой реляционной базы данных в облаке*

Для реляционного хранилища Azure предоставляет базу данных SQL. Не дайте названию спутать вас. Она отличается от обычной базы данных SQL, которую предоставляет SQL Server, запущенный в Windows Server.

База данных SQL Azure, которая ранее называлась SQL Azure, обеспечивает все ключевые функции системы управления реляционной базой данных, включая атомарные транзакции, одновременный доступ к данным несколькими пользователями с обеспечением целостности данных, SQL-запросы ANSI и привычную модель программирования. Как и в случае с SQL Server, доступ к Базе данных SQL можно осуществить с использованием Entity Framework, ADO.NET, JDBC и других привычных технологий доступа к данным. Она также поддерживает основную часть языка T-SQL и средства SQL Server, такие как SQL Server Management Studio. У любого человека, знакомого с SQL Server (или другой реляционной базой данных), использование базы данных SQL не вызовет никаких затруднений.

Однако база данных SQL представляет собой не просто систему управления базами данных в облаке — это служба PaaS. Вы продолжаете контролировать свои данные и доступ к ним других лиц, однако База данных SQL берет на себя рутинные задачи администрирования, например управляет инфраструктурой оборудования и автоматически обновляет программное обеспечение базы данных операционной системы до актуальных версий. База данных SQL также предоставляет высокую доступность, автоматическое резервное копирование, возможности восстановления на момент времени и может реплицировать копии в географических регионах.


**Сценарии для базы данных SQL**

Если вы создаете приложение Azure (с использованием любой из трех моделей вычислений), которому требуется реляционное хранилище, база данных SQL может оказаться подходящим вариантом. Приложения, выполняемые за пределами облака, также могут использовать данную службу, хотя существует и множество других сценариев. Например, доступ к данным, хранящимся в Базе данных SQL, может осуществляться из разных клиентских систем, включая настольные компьютеры, ноутбуки, планшетные ПК и телефоны. А благодаря наличию встроенной функции высокой доступности, реализуемой посредством репликации, использование базы данных SQL позволяет свести время простоя к минимуму.


### Таблицы
![Таблицы хранилища Azure](./media/fundamentals-introduction-to-azure/StorageTablesIntroNew.png)

*Рис. Таблицы Azure позволяют хранить данные, используя простой подход NoSQL*

Эта функция иногда вызывается по-другому, поскольку она является частью более крупной функции, которая называется "Хранилище Azure". То же самое обозначают "таблицы", "таблицы Azure" или "таблицы хранилища".

Не обманывайтесь названием: эта технология не предоставляет реляционное хранилище. Фактически, это пример подхода NoSQL под названием "хранилище ключей/значений". Таблицы Azure позволяют приложению сохранять свойства различных типов, например строк, целых чисел и дат. Позднее приложение может извлечь группу свойств, предоставив для нее уникальный ключ. Хотя сложные операции, такие как присоединение, не поддерживаются, таблицы обеспечивают быстрый доступ к типизированным данным. Кроме того, они обладают значительными возможностями масштабирования — отдельная таблица может вмещать в себя до терабайта данных. А благодаря простоте использовать таблицы обычно дешевле, чем реляционное хранилище базы данных SQL.

**Сценарии для таблиц**

Предположим, что вы хотите создать приложение Azure, которому требуется быстрый доступ к типизированным данным (возможно, большого объема), но не требуется выполнять для этих данных сложные SQL-запросы. Например, представьте, что вы создаете потребительское приложение, которому требуется для каждого пользователя сохранять сведения профиля клиента. Ваше приложение станет очень популярным, поэтому для него необходимо предусмотреть возможность работы с большим объемом данных, однако к этим данным будут применяться только простейшие операции сохранения и извлечения. Именно для такого сценария и подходят таблицы Azure.


### BLOB-объекты
![Большие двоичные объекты хранилища Azure](./media/fundamentals-introduction-to-azure/StorageBlobsIntroNew.png) *Рисунок. BLOB-объекты Azure предоставляют неструктурированные двоичные данные.*

BLOB-объекты Azure (опять же "Хранилище BLOB-объектов" и просто "BLOB-объекты хранилища" — это то же самое) предназначены для хранения неструктурированных двоичных данных. Как и таблицы, BLOB-объекты предоставляют экономичное хранилище, а в отдельном BLOB-объекте может храниться до одного 1 ТБ (одного терабайта) данных. Приложения Azure также могут использовать диски Azure, что позволяет BLOB-объектам обеспечивать постоянное хранение для файловой системы Windows, подключенной в экземпляре Azure. Приложение видит обычные файлы Windows, однако на самом деле это содержимое хранится в BLOB-объекте.

Хранилище BLOB-объектов используется многими другими функциями Azure (включая виртуальные машины), поэтому оно также может обработать ваши рабочие нагрузки.

**Сценарии для BLOB-объектов**

Приложение, которое сохраняет видео, массовые файлы или другие двоичные сведения, может использовать BLOB-объекты в качестве простого и недорогого хранилища. BLOB-объекты также обычно используются совместно с другими службами, например с сетью доставки содержимого, которая будет описана далее.

### Импорт и экспорт
![Служба импорта и экспорта Azure](./media/fundamentals-introduction-to-azure/ImportExportIntroNew.png)

*Рисунок. Служба импорта и экспорта Azure обеспечивает возможность поставлять физические жесткие диски в службу Azure и из нее, что ускоряет и удешевляет массовый экспорт и импорт данных.*

Иногда требуется переместить множество данных в Azure. Это займет много времени, возможно, дни, и будет значительно использовать пропускную способность. В этих случаях вы можете использовать службы импорта и экспорта Azure, которые позволяют переносить зашифрованные Bitlocker жесткие диски 3,5" SATA непосредственно в центры обработки данных Azure, где Майкрософт переместит данные в хранилище BLOB-объектов. После завершения отправки Майкрософт вернет диски назад. Вы можете также запросить экспорт большого количества данных из хранилища BLOB-объектов на жесткие диски и обратную отправку по электронной почте.

**Сценарии для импорта и экспорта**

- **Миграция больших данных**. Если вам требуется отправить большое количество данных (терабайты) в Azure, служба импорта и экспорта может оказаться более быстрым и дешевым способом, чем передача данных по Интернету. После того как данные появятся в BLOB-объектах, можно обработать их в другие формы, например хранилище таблиц или база данных SQL.

- **Восстановление архивированных данных**. Вы можете пользоваться службой экспорта и импорта данных. Корпорация Майкрософт может передать большие объемы данных, хранящиеся в хранилище BLOB-объектов Azure на отправленное вами устройство хранения, а затем вы получите это устройство обратно по указанному вами адресу. Поскольку это занимает некоторое время, данный вариант не подходит для аварийного восстановления. Лучше всего архивировать данные, к которым не потребуется быстрый доступ.


### Служба файлов
![Служба файлов Azure](./media/fundamentals-introduction-to-azure/FileServiceIntroNew.png) *Рисунок. Службы файлов Azure предоставляют пути "\\\server\\share" SMB для приложений, запущенных в облаке.*

Локально обычно используют большие объемы хранилища файлов, доступного по протоколу SMB c помощью формата "\\\Server\\share". Служба Azure теперь позволяет использовать этот протокол в облаке. Приложения, запущенные в Azure, могут использовать его для общего доступа к файлам виртуальными машинами, использующими знакомые API файловых систем, например ReadFile и WriteFile. Кроме того, доступ к файлам можно также получить через интерфейс REST, который разрешает доступ к общим ресурсам при настройке виртуальной сети. Файлы Azure созданы на основе службы BLOB-объектов, поэтому они наследуют ту же доступность, устойчивость, масштабирование и геоизбыточность, встроенные в хранилище Azure.

**Сценарии для файлов Azure**

- **Перемещение существующих приложений в облако**. Проще всего переместить в облако те локальные приложения, которые используют общие файловые ресурсы для общего доступа к частям приложения. Каждая виртуальная машина подключается к общему файловому ресурсу и затем может выполнять чтение и запись файлов так же, как в локальном общем файловом ресурсе.

- **Общие параметры приложения**. Стандартный шаблон для распределенных приложений — поместить файлы конфигурации в централизованном расположении, где доступ к ним можно получить из множества разных виртуальных машин. Эти файлы конфигурации можно хранить в общем ресурсе файлов Azure, и его могут читать все экземпляры приложений. Параметрами можно также управлять через интерфейс REST, который разрешает доступ к файлам конфигурации по всему миру.

- **Общий ресурс диагностики**. Вы можете сохранять и предоставлять файлы диагностики, такие как журналы, метрики и аварийные дампы. Доступность файлов в интерфейсе SMB и REST позволяет приложениям использовать разные средства анализа для обработки и анализа данных диагностики.

- **Разработка/тестирование/отладка**. Когда разработчики или администраторы работают в виртуальных машинах в облаке, им часто требуется набор средств или служебных программ. Установка и распространение этих служебных программ на каждой виртуальной машине занимает много времени. Кроме файлов Azure разработчик или администратор может хранить в общем файловом ресурсе избранные средства и подключаться к нему с любой виртуальной машины.



## Сеть

В настоящее время Azure используется во множестве центров данных, расположенных по всему миру. Когда вы запускаете приложение или сохраняете данные, то можете выбрать один или несколько таких центров обработки данных, которые требуется использовать. Вы также можете разными способами подключаться к этим центрам данных, используя средства ниже.


### Виртуальная сеть
![Виртуальная сеть](./media/fundamentals-introduction-to-azure/VirtualNetworkIntroNew.png)

*Рисунок. Виртуальная сеть предоставляет частную сеть в облаке, чтобы различные службы могли обмениваться данными друг с другом или с локальными ресурсами. Для этого необходимо настроить VPN-подключение между локальными площадками.*


Один из полезных способов использования общедоступного облака заключается в том, чтобы представить его в виде расширения вашего центра обработки данных.

Поскольку вы можете создавать виртуальные машины по запросу и затем удалять эти виртуальные машины (и прекращать платить за них), когда они больше не требуются, вы можете получать вычислительные мощности только в том случае, когда они действительно необходимы. А поскольку модель виртуальных машин Azure позволяет создавать виртуальные машины с SharePoint, Active Directory и другим знакомым локальным программным обеспечением, такой подход можно применять к уже имеющимся приложениям.

В целях обеспечения максимальной эффективности ваши пользователи должны иметь возможность работать с этими приложениями, как если бы они выполнялись в вашем центре обработки данных. Именно это и предоставляет виртуальная сеть Azure. Используя устройство шлюза VPN, администратор может настроить виртуальную частную сеть (VPN) между вашей локальной сетью и виртуальными машинами, развернутыми в виртуальной машине в Azure. Поскольку вы назначаете облачным виртуальным машинам собственные адреса IP v4, создается впечатление, что они находятся в вашей сети. Пользователи в вашей организации могут осуществлять доступ к содержащимся в этих виртуальных машинах приложениям, как если бы они выполнялись локально.

Дополнительные сведения о планировании и создании виртуальной сети, подходящей вам, см. в разделе [Виртуальная сеть](./virtual-network/virtual-networks-overview.md).

### ExpressRoute

![ExpressRoute](./media/fundamentals-introduction-to-azure/ExpressRouteIntroNew.png)

*Рис. ExpressRoute использует виртуальную сеть Azure, но направляет подключения по более быстрым выделенным линиям вместо общедоступного Интернета*

Если вам нужна дополнительная пропускная способность или безопасность кроме той, которую предоставляет подключение виртуальной сети Azure, можно рассмотреть ExpressRoute. В некоторых случаях ExpressRoute может также сэкономить деньги. Вам все еще будет нужна виртуальная сеть в Azure, но для связи между Azure и вашим сайтом будет использоваться выделенное подключение, не затрагивающее общедоступный Интернет. Чтобы использовать эту службу, потребуется соглашение с поставщиком сетевых служб или поставщиком Exchange.

Для настройки подключения ExpressRoute требуется больше времени и планирования, поэтому, возможно, следует начать с VPN типа "сеть-сеть", затем перейти на подключение ExpressRoute.

Дополнительные сведения об ExpressRoute см. в разделе [Общие технические сведения об ExpressRoute](./expressroute/expressroute-introduction.md).

### Диспетчер трафика

![TrafficManager](./media/fundamentals-introduction-to-azure/TrafficManagerIntroNew.png)

*Рисунок. Диспетчер трафика Azure позволяет направлять глобальный трафик в службу на основе интеллектуальных правил.*

Если ваше приложение Azure выполняется в нескольких центрах обработки данных, вы можете использовать диспетчер трафика Azure для интеллектуального перенаправления запросов пользователей в экземпляры этого приложения. Вы также можете перенаправлять трафик в службы, не запущенные в Azure, пока они доступны в Интернете.

Если пользователи приложения Azure располагаются в одном регионе, оно может выполняться всего в одном центре обработки данных Azure. Если пользователи приложения расположены в разных странах по всему миру, более вероятно, что приложение выполняется в нескольких центрах обработки данных, а, возможно, и во всех сразу. В этом втором случае вы сталкиваетесь с проблемой: как разумно назначать пользователей экземплярам приложения? Вероятно, вы хотите, чтобы основную часть времени каждый пользователь работал с ближайшим к нему центром обработки данных, так как это повышает вероятность оптимального времени ответа. Но что делать, если экземпляр приложения перегружен или недоступен? В этом случае было бы желательно автоматически перенаправить запрос пользователя в другой центр обработки данных. Именно это и делает Azure Traffic Manager.

Владелец приложения определяет правила, указывающие, как запросы от пользователей перенаправляются в центры обработки данных, а затем доверяет выполнение этих правил Traffic Manager. Например, в общем случае пользователи могли бы направляться в ближайший центр обработки данных Azure, но будут направлены в какой-нибудь другой, если время ответа от их центра обработки данных по умолчанию превышает время ответа от других центров обработки данных. Для глобальных распределенных приложений с большим количеством пользователей наличие встроенной службы, устраняющей такие проблемы, может оказаться полезным.

В Traffic Manager используется служба Directory Name Service (DNS) для маршрутизации пользователей к конечным точкам служб, но после установки такого сетевого соединения трафик передается не через Traffic Manager. Такой подход позволяет избежать превращения Traffic Manager в узкое место, которое может снизить эффективность обмена информацией во время работы службы.


## Службы разработки
Azure предлагает множество средств, помогающих разработчикам и ИТ-специалистам создавать и поддерживать приложения в облаке.

### Пакет SDK Azure
В 2008 году самая первая предварительная версия Azure поддерживала только разработки .NET. Однако сегодня можно создавать приложения Azure практически на любом языке. В настоящее время корпорация Майкрософт предоставляет языковые пакеты SDK для .NET, Java, PHP, Node.js, Ruby и Python. Имеется также общий пакет SDK Azure, который обеспечивает базовую поддержку для любого языка, например C++.

Эти пакеты SDK помогают строить, разворачивать и управлять приложениями Azure. Они доступны через сайт [www.microsoftazure.com](https://azure.microsoft.com/downloads/) или GitHub, и их можно использовать с Visual Studio и Eclipse.. Azure также предлагает средства командной строки, которые разработчики могут использовать в любой среде редактора или разработки, включая средства для развертывания приложений Azure с системами Linux и Macintosh.

Помимо помощи в построении приложений Azure, эти пакеты SDK также предоставляют клиентские библиотеки, помогающие создавать программное обеспечение, которое использует службы Azure. Например, можно создать приложение, считывающее и записывающее BLOB-объекты Azure, или создать инструмент, который выполняет развертывание приложений Azure через интерфейс управления Azure.

### Visual Studio Team Services

Visual Studio Team Services — это маркетинговое имя, охватывающее ряд служб, которые помогают в разработке приложений в Azure.

Чтобы избежать путаницы, служба не предоставляет размещаемую или веб-версию Visual Studio. Вам все еще требуется локальная копия Visual Studio. Однако она предоставляет многие другие средства, которые могут оказаться очень полезными.

В нее не входит размещенная система управления версиями Team Foundation Service, которая позволяет управлять версиями и отслеживать рабочие элементы. Вы даже можете использовать Git для управления версиями, если предпочитаете это. И вы можете менять систему управления версиями для каждого проекта. Можно создавать неограниченное количество частных командных проектов, доступных по всему миру.

Visual Studio Team Services предоставляют службу нагрузочного тестирования. Вы можете выполнять нагрузочные тесты, созданные в Visual Studio, в виртуальных машинах в облаке. Укажите общее количество пользователей, для которых нужно провести нагрузочный тест, и Visual Studio Team Services автоматически определят, сколько требуется агентов, подключат необходимые виртуальные машины и выполнят нагрузочные тесты. Если вы являетесь подписчиком MSDN, то получите тысячи бесплатных минут пользователей нагрузочного тестирования в месяц.

Visual Studio Team Services также предлагают поддержку динамической разработки с такими функциями, как сборки непрерывной интеграции, канбан-доски и виртуальные комнаты команды.

**Сценарии использования Visual Studio Team Services**

Visual Studio Team Services хорошо подходят компаниям, которым нужно взаимодействовать по всему миру и у которых нет подобной инфраструктуры. Вы можете выполнить настройку за минуты, выбрать систему управления версиями и начать написание кода и разработку в один день. Средства команды предоставят место для координации и взаимодействия, а дополнительные средства обеспечат анализ, необходимый для быстрого тестирования и настройки приложения.

Однако организации, у которых уже есть локальная система, могут протестировать новые проекты в Visual Studio Team Services, чтобы увидеть, насколько они эффективнее.

### Application Insights

![Application Insights](./media/fundamentals-introduction-to-azure/ApplicationInsights.png)

*Рисунок: Application Insights позволяет отслеживать производительность и использование активного веб-приложения или приложения на устройстве.*

После публикации приложения независимо от того, выполняется ли оно в мобильном устройстве, на настольном компьютере или веб-браузере, Application Insights сообщает о том, как работает приложение и как с ним работают пользователи. Оно будет хранить информацию о количестве сбоев и медленных откликов, оповестит вас о том, что показатели превышают пороговые значения, и поможет в диагностике проблем.

При разработке новой функции вы сможете оценить ее успех у пользователей. Анализ шаблонов использования поможет понять, что лучше всего подходит для ваших клиентов, и совершенствовать приложение в каждом цикле разработки.

Несмотря на то, что служба Application Insights размещается в Azure, ее можно использовать для широкого и продолжающего расти диапазона приложений как в Azure, так и вне Azure. Этот диапазон включает веб-приложения J2EE и ASP.NET, а также приложения для iOS, Android, OS X и Windows. Данные телеметрии отправляются из пакета SDK, встроенного в приложение, для анализа и отображения в службе Application Insights в Azure.

Если требуется более специализированный анализ, экспортируйте поток данных телеметрии в базу данных, Power BI или другие средства.

**Сценарии Application Insights**

Вы разрабатываете приложение. Это может быть веб-приложение, приложение для устройства или приложение для устройства с серверной частью.

* Настраивайте производительность приложения после публикации или во время нагрузочного тестирования. Application Insights объединяет данные телеметрии от всех установленных экземпляров приложения и формирует графики времени отклика, количества запросов и исключений, времени отклика зависимости и другие показатели производительности. Они помогают настроить производительность приложения. При необходимости можно вставить код для включения в отчет более конкретных данных.
* Определяйте и решайте проблемы приложения в реальном времени. Вы можете получать оповещения по электронной почте, если индикаторы производительности превышают допустимые пределы. Вы можете изучать конкретные пользовательские сеансы, например чтобы определить, какой запрос вызвал исключение.
* Фиксируйте способы использования программы для оценки успешности каждой новой функции. При разработке новой пользовательской истории запланируйте оценку ее использования и определите, достигли ли пользователи намеченных целей. Application Insights предоставляет основные данные об использовании, такие как количество просмотров веб-страницы. Вы также можете вставить код для отслеживания более подробных сведений о работе пользователя.

### Автоматизация
Никому не нравится терять время, выполняя одни те же процессы вручную снова и снова. Автоматизация Azure предоставляет способ создания, мониторинга, развертывания ресурсов в среде Azure и управления ими.

Автоматизация использует модули Runbook, которые на базовом уровне используют рабочие процессы Windows PowerShell (по сравнению с обычной службой PowerShell). Модули Runbook выполняются без участия пользователя. Рабочие процессы PowerShell позволяют сохранять состояние скрипта в контрольных точках по мере его выполнения. При сбое вам не нужно начинать скрипт с начала. Вы можете перезапустить его с последней контрольной точки. Это позволяет не терять время на обработку каждого возможного сбоя в скрипте.

**Сценарии автоматизации**

Автоматизация Azure — это хороший выбор для автоматизации ручных, долгосрочных, устойчивых к ошибкам и часто повторяемых задач в Azure.


### Управление API

Создание и публикация интерфейсов API в Интернете — это обычный способ предоставления служб приложениям. Если эти службы можно перепродавать (например, данные погоды), организация может разрешить третьим лицам получить доступ к тем же службам за плату. При масштабировании для включения других партнеров обычно нужна оптимизация и управление доступом. Некоторым партнерам могут потребоваться данные в другом формате.

Управление API Azure упрощает для организаций безопасную и масштабируемую публикацию интерфейсов API для партнеров, сотрудников и сторонних разработчиков. Оно обеспечивает другую конечную точку API и действует как прокси-сервер для вызова фактической конечной точки, предоставляя такие службы, как кэширование, преобразование, регулирование, управление доступом и сводные данные аналитики.

**Сценарии управления API**

Предположим, что у вашей компании есть устройства, которым необходимо обращаться в центральную службу для получения данных. Например, вы транспортная компания, а в каждом вашем грузовом автомобиле имеется такое устройство. Конечно, компании потребуется настроить систему для отслеживания собственных грузовиков, чтобы точно прогнозировать и обновлять время доставки. Это позволит узнать количество грузовиков и планировать в соответствии с этими сведениями. Каждому грузовику потребуется устройство с обратным вызовом в центральное расположение, сообщающим расположение, данные о скорости и, возможно, другие сведения.

Клиент транспортной компании также может воспользоваться преимуществом полученных данных о расположении. Клиент может использовать их, чтобы узнать, насколько далеко находятся продукты, попал ли грузовик в пробку, сколько составляет плата за определенные маршруты (если это связано с оплатой перевозки). Если транспортная компания уже собирает эти данные, многие клиенты могут заплатить за это. Но в этом случае транспортной компании нужен способ предоставления данных клиентам. После предоставления доступа клиентам, возможно, не удастся контролировать частоту запросов данных. Потребуется создать правила, указывающие, кто может получить доступ к определенным данным. Все эти правила придется встраивать во внешний интерфейс API. И в этом случае управление API может помочь.


## Удостоверение и доступ

Работа с удостоверением характерна для большинства приложений. Сведения о том, кем является пользователь, позволяют приложению принять решение о разрешении взаимодействия с ним. Azure предоставляет службы для отслеживания удостоверения и интеграции с хранилищами удостоверений, которые вы, возможно, уже используете.


### Active Directory

Как и многие службы каталогов, Azure Active Directory сохраняет информацию о пользователях и организациях, к которым они относятся. Это позволяет пользователям выполнять вход в систему и получать маркеры, которые они могут предоставлять приложениям в качестве своего удостоверения. Кроме того, это позволяет синхронизировать информацию о пользователях с Windows Server Active Directory, выполняемой локально в вашей локальной сети. Хотя механизмы и форматы данных, используемые в Azure Active Directory, отличаются от механизмов и форматов в Windows Server Active Directory, они выполняют схожие функции.

Важно понимать, что служба Azure Active Directory разработана в первую очередь для использования облачными приложениями. Она может использоваться приложениями, выполняемыми в Azure или на других облачных платформах. Ее также могут использовать собственные облачные приложения корпорации Майкрософт, например входящие в состав Office 365. Однако Azure Active Directory не подходит в том случае, если вы хотите расширить свой центр обработки данных в облако с помощью виртуальных машин Azure и виртуальной сети Azure. Вместо этого следует запустить Windows Server Active Directory в виртуальных машинах.

Чтобы приложения могли осуществлять доступ к содержащейся в ней информации, служба Azure Active Directory предоставляет API REST под названием Azure Active Directory Graph. Этот API позволяет приложениям, выполняемым на любой платформе, получать доступ к объектам каталога и отношениям между ними. Например, авторизованное приложение может использовать данный API для получения сведений о пользователе, группах, к которым он принадлежит, и другой информации. Приложения также могут просматривать отношения между пользователями — их социальные профили, что позволяет им более разумно подходить к связям между людьми.

Другой компонент данной службы — Azure Active Directory Access Control — упрощает получение приложением сведений об удостоверениях от Facebook, Google, Windows Live ID и других популярных поставщиков удостоверений. Вместо того чтобы требовать от приложения поддержки обширного набора форматов данных и протоколов, используемых каждым из таких поставщиков, Access Control преобразует их один единый формат. Это также позволяет приложению принимать входы в систему из одного или нескольких доменов Active Directory . Например, поставщик, предлагающий приложение SaaS, может использовать Azure Active Directory Access Control для предоставления пользователям каждого из клиентов возможности единого входа в это приложение.

Службы каталогов представляют собой базовую основу для локальной обработки. Нет ничего удивительного в том, что они играют важную роль и в облаке.

### Multi-Factor Authentication
![Azure Multi-Factor Authentication](./media/fundamentals-introduction-to-azure/MFAIntroNew.png)

*Рис. Служба Azure Multi-Factor Authentication предоставляет вашему приложению возможность выполнять проверку с помощью нескольких типов идентификации*

Вопросы безопасности всегда играют важную роль. Multi-Factor Authentication (MFA) гарантирует, что только сами пользователи могут получить доступ к своей учетной записи. MFA (также известная как двухфакторная проверка подлинности, или "2FA") требует от пользователей предоставить два из трех способов проверки данных для входа в систему и участия в транзакциях.

- Что-то, что известно вам (обычно это пароль).
- Что-то, что у вас есть (доверенное устройство, которое непросто дублируется, такое как телефон).
- Что-то, относящееся непосредственно к вам (биометрические данные).

Поэтому при входе пользователя вы можете сделать обязательной проверку удостоверения с помощью мобильного приложения, телефонного звонка или SMS наряду с паролем. По умолчанию Azure Active Directory поддерживает использование паролей, поскольку это единственный способ проверки подлинности для входа пользователей. Вы можете использовать MFA вместе с Azure AD или пользовательскими приложениями и каталогами с помощью пакета SDK MFA. Вы также можете использовать этот способ с локальными приложениями с помощью сервера Multi-Factor Authentication.

**Сценарии MFA**

Защита входа в учетные записи с конфиденциальными сведениями, такими как реквизиты для входа в банковскую систему и доступ к исходному коду, когда неавторизованный вход может привести к высоким финансовым потерям или убыткам вследствие нарушения прав интеллектуальной собственности.






## Мобильные приложения

Если вы создаете приложение для мобильного устройства, Azure поможет сохранять данные в облаке, выполнять проверку подлинности пользователей и отправлять push-уведомления без дополнительного пользовательского кода.

Хотя серверную часть для мобильных приложений, безусловно, можно создавать с использованием виртуальных машин, облачных служб или веб-приложений, используя службы Azure, можно тратить гораздо меньше времени на написание базовых компонентов службы.


### Мобильные приложения

![Мобильные приложения](./media/fundamentals-introduction-to-azure/MobileServicesIntroNew.png)

*Рисунок. Мобильные приложения предоставляют функции, обычно необходимые приложениям, предназначенным для мобильных устройств.*

Мобильные приложения Azure предоставляют множество полезных функций, которые могут сэкономить ваше время при создании серверной части для мобильного приложения. Они позволяют выполнять простую подготовку данных, хранящихся в базе данных SQL, и управление ими. С серверным кодом вы можете легко использовать дополнительные варианты хранилища данных, такие как хранилище BLOB-объектов или MongoDB. Мобильные приложения предоставляют поддержку уведомлений, однако в некоторых случаях вместо этого можно использовать центры уведомлений, как описано далее. Служба также включает интерфейс API REST, который может вызвать мобильное приложение. Мобильные приложения также предоставляют возможность аутентификации пользователей в Майкрософт и Active Directory, а также у других известных поставщиков удостоверений, например Facebook, Twitter и Google.


Вы можете использовать другие службы Azure, например служебную шину и рабочие роли, и подключаться к локальным системам. Вы даже можете использовать сторонние надстройки из Магазина Azure (например, SendGrid для электронной почты) для предоставления дополнительных функций.


Библиотеки собственного клиента для Android, iOS, HTML/JavaScript, Windows Phone и Магазина Windows упрощают разработку для приложений на всех основных мобильных платформах. Интерфейс API REST позволяет использовать данные мобильных служб и функции проверки подлинности с приложениями на разных платформах. Одна мобильная служба может поддерживать несколько клиентских приложений, так что вы можете предоставить пользователю согласованный интерфейс между устройствами.

Поскольку Azure уже поддерживает массовое масштабирование, можно обрабатывать трафик по мере роста популярности приложения. Для помощи в устранении неполадок и управлении производительностью поддерживается мониторинг и ведение журнала.


### Центры уведомлений

![NotificationHubs](./media/fundamentals-introduction-to-azure/NotificationHubsIntroNew.png)

*Рисунок. Центры уведомлений предоставляют функции, обычно необходимые приложениям, предназначенным для мобильных устройств.*

Хотя вы можете написать код для отправки уведомлений в мобильных приложениях Azure, центры уведомлений оптимизированы для передачи миллионов персонализированных push-уведомлений за минуты. Вам не нужно беспокоиться о таких деталях, как мобильный оператор или изготовитель устройства. Вы можете указать одного или миллионы пользователей с помощью одного вызова API.

Центры уведомлений предназначены для работы с любой серверной частью. Вы можете использовать мобильные приложения Azure, пользовательскую серверную часть в облаке, запущенную на любом поставщике или на локальном сервере.

**Сценарии центров уведомлений**. Если бы вы создавали мобильную игру, где игроки ходят по очереди, вам потребовалось бы уведомить второго игрока о том, что первый игрок закончил ход. Если это все, что требуется, можно просто использовать мобильные приложения. Но если в игре находятся 100 000 пользователей и вы хотите отправить бесплатное, зависимое от времени предложение всем, лучше выбрать центры уведомлений.

Вы можете отправлять уведомления о последних новостях, спортивных событиях и объявлениях о продуктах миллионам пользователей почти без задержки. Корпорации могут отправлять уведомления сотрудникам с новыми конфиденциальными сообщениями, например, о потенциальных покупателях, чтобы не нужно было постоянно проверять электронную почту или другие приложения, чтобы быть в курсе. Вы также можете отправлять одноразовые пароли, необходимые для Multi-Factor Authentication.




## Резервное копирование
Каждой корпорации необходимо выполнять резервное копирование и восстановление данных. Вы можете использовать Azure для резервного копирования облачного или локального приложения. Azure предлагает разные варианты в зависимости от типа резервного копирования.

### Site Recovery

Служба Azure Site Recovery (ранее диспетчер восстановления Hyper-V) может помочь защитить важные приложения, координируя репликацию и восстановление на сайтах. Site Recovery обеспечивает защиту приложений на основе Hyper-V, VMware или сети SAN на собственном дополнительном сайте, на сайте поставщика услуг размещения или Azure. Кроме того, эта служба помогает избежать затрат и сложностей, связанных с построением собственного дополнительного местоположения и управлением им. Azure шифрует данные и сообщения; кроме того, можно включить шифрование для хранящихся данных.

Она постоянно отслеживает работоспособность служб и помогает автоматизировать упорядоченное восстановление служб в случае простоя сайта в первичном центре данных. Для быстрого восстановления службы виртуальные машины можно включать с оркестрацией даже для комплексных многоуровневых рабочих нагрузок.

Site Recovery работает с существующими технологиями, такими как реплика Hyper-V, System Center и SQL Server AlwaysOn. Дополнительные сведения см. в статье [Обзор Azure Site Recovery](site-recovery/site-recovery-overview.md).

### Служба архивации Azure
![Служба архивации Azure](./media/fundamentals-introduction-to-azure/AzureBackupIntroNew.png)

*Рис. Служба архивации Azure позволяет выполнять архивацию данных с локально размещенных серверов Windows Server в облако*

Служба архивации Azure позволяет выполнять резервное копирование данных с локально размещенных серверов, работающих под управлением ОС Windows, в облачную среду. Вы можете управлять резервными копиями непосредственно в средствах резервного копирования в Windows Server 2012, Windows Server 2012 Essentials или System Center 2012 — Data Protection Manager. Кроме того, вы можете использовать специальный агент резервного копирования.

Данные защищены, поскольку резервные копии шифруются перед передачей, хранятся зашифрованными в Azure и защищены отправленным сертификатом. Служба использует ту же избыточную и высокодоступную защиту данных, находящуюся в хранилище Azure. Вы можете выполнять резервное копирование файлов и папок регулярно или сразу, запустив полную или добавочную архивацию. После резервного копирования данных в облако авторизованные пользователи могут легко восстанавливать резервные копии на любом сервере. Также предоставляются политики хранения настраиваемых данных, сжатия данных и регулирования передачи данных, чтобы вы могли управлять затратами на хранилище и передачей данных.

**Сценарии для службы архивации Azure**

Если вы уже используете Windows Server или System Center, служба архивации Azure — подходящее решение для архивации файловой системы сервера, виртуальных машин и баз данных SQL Server. Она работает с зашифрованными, разреженными и сжатыми файлами. Существуют некоторые ограничения, поэтому следует сначала [проверить предварительные требования службы архивации Azure](http://technet.microsoft.com/library/dn296608.aspx).



## Обмен сообщениями и интеграция

Независимо от выполняемых операций коду часто приходится взаимодействовать с другим кодом. В некоторых ситуациях достаточно обычного обмена сообщениями с организацией очереди. В других случаях требуются более сложные механизмы взаимодействия. Azure предоставляет несколько разных способов для решения таких проблем. Доступные для выбора варианты представлены на рисунке 5.

### Очереди
![Ретрансляция служебной шины Azure](./media/fundamentals-introduction-to-azure/QueuesIntroNew.png)

*Рис. Очереди позволяют ослабить связь между компонентами приложения и упростить масштабирование*

Идея организации очереди довольно проста: одно приложение помещает в очередь сообщение, которое в конечном итоге считывается другим приложением. Если вашему приложению достаточно такого прямолинейного механизма, оптимальным выбором может стать такой компонент Azure, как Очереди.

Поскольку служба Azure со временем выросла, служба очередей хранилища Azure и служба очередей служебной шины предоставляют аналогичные службы очередей. Причины использования той или иной службы охватываются в техническом документе [<LINK>](http://msdn.microsoft.com/library/azure/hh767287.aspx "Очереди Azure и очереди служебной шины: сходства и различия"). В большинстве сценариев можно использовать обе службы.

**Сценарии очередей**

Один из наиболее распространенных сейчас способов использования очередей заключается в том, чтобы позволить экземпляру веб-роли взаимодействовать с экземпляром рабочей роли внутри одного приложения облачных служб.

Например, предположим, что вы создаете приложение Azure для общего доступа к видео. Такое приложение состоит из кода PHP, выполняемого в веб-роли, что позволяет пользователям отправлять и просматривать видео, и реализованной на C# рабочей роли, которая преобразует отправленное видео в различные форматы.

Когда экземпляр веб-роли получает от пользователя новое видео, он может сохранить это видео в BLOB-объекте, а затем посредством очереди отправить в рабочую роль сообщение с информацией о расположении этого нового видео. Затем экземпляр рабочей роли — неважно, какой именно — считает это сообщение из очереди и выполнит необходимое преобразование видео в фоновом режиме.

Такое структурирование приложения позволяет реализовать асинхронную обработку, а также упрощает масштабирование приложения, так как число экземпляров веб-роли и рабочей роли можно изменять независимо друг от друга. Также в качестве триггера для увеличения и уменьшения масштаба можно использовать количество рабочих ролей. При слишком большом количестве добавляются дополнительные роли. При уменьшении можно сократить число запущенных ролей, чтобы сэкономить деньги.

Можно использовать один и тот же структурный элемент во множестве различных частей приложения, даже если они не используют веб-роли и рабочие роли. Это позволяет увеличивать и уменьшать масштаб частей по обоим концам очереди как по запросу, так и в зависимости от требований времени на обработку.


### Service Bus
Независимо от места выполнения — в облаке, в центре обработки данных, на мобильном устройстве или в любом другом месте — приложениям требуется взаимодействовать. Задача Azure Service Bus заключается в предоставлении приложениям, выполняемым практически где угодно, возможности обмена данными.

Кроме очередей ("один к одному"), описанных ранее, служебная шина также предоставляет другие методы взаимодействия.

#### Ретрансляция служебной шины
![Ретрансляция служебной шины Azure](./media/fundamentals-introduction-to-azure/ServiceBusRelayIntroNew.png)

*Рис. Ретранслятор служебной шины обеспечивает обмен данными между приложениями, которые находятся по разные стороны брандмауэра*

Служебная шина обеспечивает прямую связь через службу ретрансляции, предоставляя защищенный метод взаимодействия через брандмауэры. Ретрансляции Service Bus позволяют приложениям взаимодействовать путем обмена сообщениями через конечную точку, размещенную в облаке, а не локально.

**Сценарии ретрансляции служебной шины**

Приложения, взаимодействующие через Service Bus, могут быть приложениями Azure или программным обеспечением, выполняемым на другой облачной платформе. При этом это также могут быть и приложения, выполняемые за пределами облака. Например, представьте авиакомпанию, службы резервирования которой реализованы на компьютерах, расположенных в ее центре обработки данных. Этой авиакомпании требуется предоставлять такие службы множеству клиентов, включая киоски регистрации в аэропортах, терминалы агентов по бронированию и, возможно, даже телефоны заказчиков. Для этого авиакомпания может воспользоваться Service Bus, создавая слабосвязанные взаимодействия между различными приложениями.

#### Разделы и подписки служебной шины
![Разделы служебной шины Azure](./media/fundamentals-introduction-to-azure/ServiceBusTopicsSubsIntroNew.png) *Рисунок. Разделы служебной шины позволяют нескольким приложениям публиковать сообщения и другие приложения, чтобы подписаться на получение сообщений, соответствующих определенным критериям.*

Служебная шина предоставляет механизм публикации и подписки, который называется "Разделы и подписки". При публикации и подписке приложение может отправлять сообщения в раздел, а другие приложения могут создавать подписки на этот раздел. Это позволяет реализовать в наборе приложений взаимодействие по принципу "один ко многим", то есть одно сообщение может быть считано несколькими приложениями.

**Сценарии использования разделов и подписок служебной шины**

Разделы и подписки служебной шины оптимально подходят при каждой настройке большого количества важных сообщений в случае, если разным нисходящим системам нужно прослушивать только различные подмножества этих сообщений.


### Службы BizTalk
![Службы BizTalk](./media/fundamentals-introduction-to-azure/BizTalkServicesIntroNew.png) *Рисунок. Службы BizTalk предоставляют возможность преобразования форматов XML-сообщений в облаке.*

Иногда требуется подключить системы, которые используют для взаимодействия разные форматы сообщений. В бизнесе часто используются разные схемы баз данных и форматов XML-сообщений, даже если доступен обычный стандарт. Чтобы не писать длинный пользовательский код, можно использовать локальный BizTalk Server для интеграции разных систем. Службы BizTalk Azure предоставляют тот же тип службы, но в облаке. Вы можете платить только за то, что используете, и не беспокоиться о масштабировании (в отличие от локальной службы).


**Сценарии служб BizTalk**

Для взаимодействия между организациями (B2B) обычно требуется именно этот тип преобразования. Например, компании, строящей самолеты, нужно заказывать части у разных поставщиков. Будет задействовано множество поставщиков частей. Необходима автоматизация этих систем для непосредственной передачи из систем постройки самолетов в системы поставщиков. Ни одна из компаний не хочет изменять основные системы и форматы сообщений, при этом маловероятно, что эти форматы одинаковы. Службы BizTalk могут преобразовывать новые форматы сообщений в обе стороны. Преобразование может выполнять поставщик самолетов или разные поставщики в зависимости от того, кому нужен дополнительный контроль и преобразование.


## Помощь в вычислении
Azure предоставляет помощь для служб, которым не нужно работать все время.

### Планировщик

![Планировщик Azure](./media/fundamentals-introduction-to-azure/SchedulerIntroNew.png) *Рисунок. Планировщик Azure позволяет планировать задания на определенное время и на определенный срок.*

Иногда приложения нужно включать только в определенное время. В Azure вы можете сэкономить деньги с помощью этого типа приложения, вместо того, чтобы разрешить приложению работать круглосуточно в ожидании данных для обработки. Планировщик Azure позволяет планировать задания, если приложение должно запускаться через определенный интервал времени или по календарю. Он надежен и проверит, что процесс запускается даже при сбое сети, компьютера и центра обработки данных. Можно использовать планировщик API REST для управления этими действиями.

При запланированном сигнале планировщик отправляет сообщения HTTP или HTTPS в определенную конечную точку или может поместить сообщение в очередь хранилища. Поэтому приложению требуется доступная конечная точка или мониторинг очереди хранилища. Затем после получения сообщения оно может выполнить запрограммированное действие.

**Сценарии планировщика**

- Повторяющиеся действия приложения. В качестве примера служба может периодически получать данные из Twitter и собирать данные в постоянный веб-канал.
- Ежедневное обслуживание. Обработка или удаление журналов, создание резервных копий и другие периодические задачи планирования.
- Задачи, которые выполняются ночью.
- Задачи веб-приложения, такие как ежедневное удаление журналов, создание резервных копий и другие задачи обслуживания. Например, администратор может запланировать выполнение резервного копирования базы данных в 1:00 каждый день в течение следующих 9 месяцев.

API планировщика позволяет создавать, обновлять, удалять, просматривать коллекции заданий и запланированные задания, а также управлять ими программными способами.





## Производительность

Производительность всегда важна в приложении. Для приложений характерно снова и снова обращаться к одним и тем же данным. Один из способов повышения производительности заключается в хранении копии таких данных ближе к приложению, чтобы минимизировать время, затрачиваемое на их извлечение. Для этого Azure предоставляет разные службы.


### Azure Caching

![Azure Caching](./media/fundamentals-introduction-to-azure/AzureCacheIntroNew.png) **Рисунок. Приложение Azure может кэшировать данные в памяти и даже разделять их на несколько рабочих ролей**

Доступ к данным, сохраненным в любой из служб управления данными Azure (база данных SQL, таблицы или BLOB-объекты), осуществляется довольно быстро. Однако доступ к данным, находящимся в памяти, осуществляется еще быстрее. В связи с этим наличие в памяти копии часто используемых данных может улучшить производительность приложения. Для этого вы можете использовать компонент Azure Caching в памяти.


Приложение облачных служб может сохранять данные в таком кэше, а затем извлекать их без необходимости доступа к постоянному хранилищу. Кэш может размещаться внутри виртуальных машин приложения или предоставляться виртуальными машинами, выделенными исключительно для кэширования. В любом случае такой кэш может быть распределенным, то есть содержащиеся в нем данные распределяются по нескольким виртуальным машинам в центре обработки данных Azure.

В Azure существует несколько разных технологий кэша, которые изменились со временем. В порядке представления существует общий кэш, кэш роли, управляемый кэш и кэш Redis. Общий кэш — это более старая технология, с ее помощью не следует создавать новые внедрения. Управляемый кэш обладает теми же функциями, что и кэш роли, но как управляемая служба, не входящая в портал управления Azure. Кэш Redis доступен как предварительная версия. В реализации Redis больше всего функций, и рекомендуется использовать ее при записи нового кода кэша.


**Сценарии для кэша Azure**

Такой вид кэширования может оказать положительное влияние на работу приложения, которое многократно считывает каталог продукции, благодаря ускоренному предоставлению требуемых данных. Данная технология также поддерживает блокировку, что позволяет использовать ее как для данных, доступных для чтения/записи, так и для данных, доступных только для чтения. А приложения ASP.NET могут использовать данную службу для хранения данных сеанса после простого изменения конфигурации.

### Сеть доставки содержимого
![Azure CDN](./media/fundamentals-introduction-to-azure/CDNIntroNew.png) **Рисунок. Копии BLOB-объекта можно кэшировать на сайтах по всему миру.**

Предположим, вам требуется сохранить данные BLOB-объекта, которые будут использоваться пользователями по всему миру. Возможно, это видеозапись с последнего чемпионата мира по футболу, обновления драйверов или популярная электронная книга. В этом случае может помочь сохранение копии данных в нескольких центрах обработки данных Azure, однако при слишком большом количестве пользователей этого, скорее всего, будет недостаточно. Для дальнейшего повышения производительности вы можете воспользоваться Azure CDN.

CDN имеет десятки сайтов по всему миру, на каждом из которых могут храниться копии BLOB-объектов Azure. Когда пользователь, расположенный в некотором регионе, впервые обращается к определенному BLOB-объекту, содержащаяся в нем информация копируется из центра обработки данных Azure в локальное хранилище CDN, расположенное в данном географическом регионе. После этого для всех обращений из этого региона используется данная копия BLOB-объекта, кэшированная в CDN, благодаря чему не требуется направлять запросы в ближайший центр обработки данных Azure. В результате у пользователей во всем мире увеличивается скорость доступа к часто используемым данным.

**Сценарии CDN**

CDN обычно используют со службами мультимедиа для передачи видео по всему миру. Видео обычно большие и требуют большой пропускной способности. Сведения о службах мультимедиа см. далее на этой странице.



## Большие данные и большие вычисления

### HDInsight (Hadoop)
![HDInsight](./media/fundamentals-introduction-to-azure/HDInsightIntroNew.png) **Рисунок. HDInsight обеспечивает обработку огромных объемов данных**

В течение многих лет основная часть анализа производилась над реляционными данными, сохраненными в хранилище данных, которое создавалось с использованием системы управления реляционными базами данных. Этот тип бизнес-аналитики до сих пор сохраняет свою важность и будет применяться еще очень долго. Но что делать, если объем анализируемых данных настолько велик, что реляционные базы данных не способны обработать его? И предположим, что эти данные не являются реляционными? Это могут быть серверные журналы в центре обработки данных, полученные с датчиков данные об имевших место событиях или что-то еще. В таких случаях вы сталкиваетесь с так называемой проблемой большого объема данных. Вам требуется использовать иной подход.

Основной технологией для анализа больших данных сейчас является Hadoop. Эта технология, представляющая собой проект Apache с открытым исходным кодом, сохраняет данные с использованием распределенной файловой системы Hadoop (HDFS), а затем позволяет разработчикам создать задания MapReduce для анализа таких данных. HDFS распределяет данные по нескольким серверам, затем выполняет на каждом из них блоки задания MapReduce, способствуя параллельной обработке больших данных.

HDInsight — это имя службы Azure на основе Apache Hadoop. HDInsight позволяет HDFS хранить данные в кластере и распространять их через несколько виртуальных машин. Она также распределяет логику работы MapReduce по этим виртуальным машинам. Как и в случае с локальной Hadoop, данные обрабатываются локально — логическая схема и обрабатываемые ей данные находятся в одной виртуальной машине — и параллельно для повышения производительности. HDInsight также может хранить данные в хранилище Azure Storage Vault (ASV), которое использует BLOB-объекты. ASV позволяет сэкономить деньги, поскольку можно удалить неиспользуемый кластер HDInsight, но по-прежнему сохранить данные в облаке.

HDinsight поддерживает также другие компоненты в экосистеме Hadoop, включая Hive и Pig. Корпорация Майкрософт создала также компоненты, облегчающие работу с данными, полученных при использовании HDInsight традиционных средств бизнес-аналитики, например адаптера HiveODBC и Data Explorer, работающего с Excel.

### Высокопроизводительные вычислительные системы (большие вычисления)

Один из самых привлекательных способов использования облачной платформы — это запустить высокопроизводительные вычислительные системы (HPC) и другие приложения для "больших вычислений". Примеры включают специальные инженерные приложения, созданные для использования стандартного MPI, а также так называемые "приложения с усложненным параллелизмом", например модели финансового риска.

Суть больших вычислений в одновременном выполнении кода на нескольких компьютерах. В Azure это соответствует одновременному выполнению множества виртуальных машин, которые параллельно работают над решением некоторой проблемы. Для этого требуется путь к ресурсам и планирование приложений, чтобы распределить их работу по всем таким экземплярам. Бесплатный пакет HPC Майкрософт и другие решения вычислительного кластера могут оптимально работать в Azure, используя преимущества вычислительных служб и служб инфраструктуры Azure для добавления в локальный вычислительный кластер емкости по запросу или запуска приложений больших вычислений полностью в облаке.

Azure предоставляет диапазон размеров экземпляров виртуальных машин с разными конфигурациями ядер ЦП, памяти, емкости диска и других характеристик для соответствия требованиям к разным приложениям. Недавно представленные экземпляры A8 и A9 хорошо подходят для многих ресурсоемких вычислительных нагрузок и в особенности параллельных приложений MPI, поскольку они обладают высокой скоростью, ЦП с несколькими ядрами и большими объемами памяти. В определенных конфигурациях экземпляры получают преимущества сети приложений с небольшой задержкой и высокой пропускной способностью в облаке, в которую входит технология удаленного доступа к памяти (RDMA) для максимальной эффективности приложений MPI.

Azure также предлагает разработчикам приложений больших вычислений и партнерам полный набор возможностей вычислений, служб, вариантов архитектуры и средств разработки. Azure поддерживает пользовательские рабочие процессы больших вычислений, включающие специальные рабочие процессы данных и шаблоны планирования заданий и задач, которые можно масштабировать в тысячи вычислительных ядер.



## Служба мультимедиа

![Службы мультимедиа Azure](./media/fundamentals-introduction-to-azure/MediaServicesIntroNew.png) **Рисунок. Службы мультимедиа — это платформа для приложений, которые предоставляют клиентам по всему миру видео и мультимедиа.**

Сегодня видео составляют большую часть интернет-трафика, а завтра этот процент будет еще больше. При этом предоставлять видео в Интернете непросто. Существует множество переменных, например алгоритм кодирования и разрешение экрана пользователя. Для видео также характерны всплески спроса, например в субботу вечером, когда многие люди предпочитают смотреть фильм через Интернет.

Учитывая популярность видео, многие новые приложения наверняка будут создаваться с его использованием. Но все они должны решить некоторое количество одних и тех же проблем, нет смысла каждому из них решать их самостоятельно. Лучшим подходом является создание платформы, которая предоставляет общие решения для использования многими приложениями. И построение этой платформы в облаке имеет некоторые явные преимущества. Она может быть широко доступна на основе оплаты по мере использования, и она может также обрабатывать разброс спроса на видео, с которым часто сталкиваются приложения.

Службы мультимедиа Azure устраняют эту проблему. Они предоставляет набор облачных компонентов, которые упрощают создание и запуск приложений, использующих видео и мультимедиа.

Как показано на рисунке, службы мультимедиа предоставляют набор компонентов для приложений, работающих с видео и другими мультимедиа. Например, они включают компонент поглощения медиа для передачи видео в службах мультимедиа (где они хранятся в BLOB-объектах Azure), компонент кодировки, который поддерживает различные форматы видео и аудио, компонент защиты содержимого, который обеспечивает управление цифровыми правами, компонент для вставки рекламы в поток видео, компоненты для потоковой передачи и многое другое. Партнеры корпорации Майкрософт также могут предоставлять компоненты для этой платформы, а Майкрософт будет распространять эти компоненты и взимать оплату в их пользу.

Приложения, использующие эту платформу, можно запускать в Azure или в другом месте. Например, классическое приложение для производства видео может позволять пользователям загружать видео в службы мультимедиа, а затем обрабатывать его различными способами. Или же служба управления содержимым на основе облака, работающая на Azure, может полагаться на службы мультимедиа для обработки и распространения видео. Независимо от того, где и над чем работает каждое приложение, оно выбирает необходимые для использования компоненты, связываясь с ними через интерфейсы REST.

Для распространения своего продукта приложение может использовать сеть доставки содержимого Azure CDN, другую сеть CDN или просто отправить биты непосредственно пользователям. Независимо от способа доставки, видео, созданные с помощью служб мультимедиа, можно размещать на различных клиентских системах, включая Windows, Macintosh, HTML 5, iOS, Android, Windows Phone, Flash и Silverlight. Цель состоит в том, чтобы упростить создание современных мультимедийных приложений.

**Справочные материалы**

Чтобы более наглядно ознакомиться с работой служб мультимедиа, загрузите [афишу служб мультимедиа Azure][Azure Media Services Poster].

## Приложения для коммерции

Возникновение службы Software отражает трансформацию подхода к созданию приложений. Она также изменяет то, как мы продаем приложения. Поскольку приложение SaaS живет в облаке, разумно, что потенциальные клиенты будут искать решения в Интернете. И это изменение касается не только приложений, но и данных. Почему бы людям не обращаться в облако за наборами данных, доступными на коммерческой основе? Корпорация Майкрософт решает обе эти проблемы с помощью [Azure Marketplace](https://azure.microsoft.com/marketplace/).

![Коммерческие предложения Azure](./media/fundamentals-introduction-to-azure/CommerceIntroNew.png) **Рисунок. В Azure Marketplace и Магазине Azure можно найти и купить приложения Azure и коммерческие наборы данных, чтобы использовать их в рамках приложений Azure.**

Они отличаются тем, что Marketplace находится за пределами портала управления Azure, а доступ к Магазину может осуществляться из портала. Потенциальные покупатели могут искать приложения Azure, соответствующие их требованиям. Клиенты также могут искать коммерческие наборы данных, включая демографические, финансовые, географические данные и многое другое. Когда они нашли то, что нужно, они могут получить доступ либо через поставщика, непосредственно из магазинов Marketplace или Store, либо, в некоторых случаях, с портала управления. Приложения также могут использовать в Marketplace интерфейс Bing Search, что даст им доступ к результатам поиска в Интернете.


**Коммерческие сценарии**

SendGrid — это приложение в Магазине Azure, которое позволяет отправлять электронную почту. В нем предлагаются такие дополнительные функции, как надежная доставка и статистика. Вы можете купить это приложение и связанные службы, а не пытаться создавать аналогичную инфраструктуру самостоятельно.


## Приступая к работе

Теперь, когда вы получили общее представление, следующим шагом будет написание вашего первого приложения Azure. Выберите язык, [получите соответствующий SDK](/downloads/) и начинайте работу. Облачные вычисления предоставляют новый вариант по умолчанию — начинать работу сразу.


[Azure Media Services Poster]: http://azure.microsoft.com/documentation/infographics/media-services/

<!---HONumber=AcomDC_0921_2016-->