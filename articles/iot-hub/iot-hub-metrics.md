---
title: Использование метрик для мониторинга Центра Интернета вещей Azure | Документация Майкрософт
description: Использование метрик Центра Интернета вещей Azure для оценки и отслеживания общей работоспособности центров Интернета вещей.
author: nberdy
manager: briz
ms.service: iot-hub
services: iot-hub
ms.topic: conceptual
ms.date: 08/25/2017
ms.author: nberdy
ms.openlocfilehash: 754901bb9c851f66708771346cbb7fe2e42688cd
ms.sourcegitcommit: 266fe4c2216c0420e415d733cd3abbf94994533d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/01/2018
ms.locfileid: "34634069"
---
# <a name="understand-iot-hub-metrics"></a>Общие сведения о метриках Центра Интернета вещей
Метрики Центра Интернета вещей предоставляют более качественные данные о состоянии ресурсов Интернета вещей Azure в вашей подписке Azure. Метрики Центра Интернета вещей позволяют оценивать общую работоспособность службы Центра Интернета вещей и подключенных к ней устройств. Доступные пользователям статистические данные имеют важное значение, поскольку благодаря им вы знаете, что происходит с центром IoT, и можете устранять основные проблемы без обращения в службу поддержки Azure.

Метрики включены по умолчанию. Метрики Центра Интернета вещей можно просмотреть на портале Azure.

## <a name="how-to-view-iot-hub-metrics"></a>Как просмотреть метрики Центра Интернета вещей
1. Создайте Центр Интернета вещей. Инструкции по созданию Центра Интернета вещей см. в руководстве [по началу работы][lnk-get-started].
2. Откройте колонку центра IoT. Щелкните **Метрики**.
   
    ![][1]
3. В колонке метрик можно просмотреть метрики Центра Интернета вещей и создать настраиваемые представления на их основе. Вы можете отправлять данные метрик в конечную точку концентраторов событий или учетную запись хранения Azure. Для этого щелкните **Параметры диагностики**.
   
    ![][2]

## <a name="iot-hub-metrics-and-how-to-use-them"></a>Метрики Центра Интернета вещей и их использование
Центр Интернета вещей предоставляет несколько метрик для получения представления о состоянии работоспособности центра и общем количестве подключенных устройств. Для формирования более полной картины о состоянии центра IoT можно объединить данные из нескольких метрик. В следующей таблице описаны метрики, отслеживаемые центром IoT, а также связь каждой метрики с общим состоянием центра IoT.

|Метрика|Отображаемое имя метрики|Единица измерения|Тип статистической обработки|ОПИСАНИЕ|
|---|---|---|---|---|
|d2c.telemetry.ingress.allProtocol|Число предпринятых попыток отправки сообщений телеметрии.|Count|Всего|Число предпринятых попыток отправки в Центр Интернета вещей сообщений телеметрии из устройства в облако.|
|d2c.telemetry.ingress.success|Число отправленных сообщений телеметрии.|Count|Всего|Число успешно отправленных в Центр Интернета вещей сообщений телеметрии из устройства в облако.|
|c2d.commands.egress.complete.success|Завершенные команды.|Count|Всего|Число успешно завершенных устройством команд, отправленных из облака.|
|c2d.commands.egress.abandon.success|Прерванные команды.|Count|Всего|Число прерванных устройством команд, отправленных из облака.|
|c2d.commands.egress.reject.success|Отклоненные команды.|Count|Всего|Число отмененных устройством команд, отправленных из облака.|
|devices.totalDevices|Общее число устройств.|Count|Всего|Число устройств, зарегистрированных в Центре Интернета вещей.|
|devices.connectedDevices.allProtocol|Подключенные устройства|Count|Всего|Число устройств, подключенных к Центру Интернета вещей.|
|d2c.telemetry.egress.success|Telemetry messages delivered|Count|Всего|Общее число сообщений, успешно записанных в конечные точки.|
|d2c.telemetry.egress.dropped|Удаленные сообщения.|Count|Всего|Число сообщений, удаленных из-за несоответствия какому-либо маршруту и невозможности использовать резервный.|
|d2c.telemetry.egress.orphaned|Потерянные сообщения.|Count|Всего|Число сообщений, не соответствующих какому-либо маршруту, включая резервный.|
|d2c.telemetry.egress.invalid|Недопустимые сообщения.|Count|Всего|Число сообщений, которые не были доставлены из-за несовместимости с конечной точкой.|
|d2c.telemetry.egress.fallback|Сообщения, соответствующие условиям для резервной конечной точки.|Count|Всего|Число сообщений, записанных в резервную конечную точку.|
|d2c.endpoints.egress.eventHubs|Сообщения, доставленные в конечные точки концентратора событий.|Count|Всего|Число успешных записей сообщений в конечные точки концентратора событий.|
|d2c.endpoints.latency.eventHubs|Message latency for Event Hub endpoints|Миллисекунды|Средняя|Средняя задержка в миллисекундах между поступлением сообщения в Центр Интернета вещей и его поступлением на конечную точку концентратора событий.|
|d2c.endpoints.egress.serviceBusQueues|Сообщения, доставленные в конечные точки очереди служебной шины.|Count|Всего|Число успешных записей сообщений в конечные точки очереди служебной шины.|
|d2c.endpoints.latency.serviceBusQueues|Message latency for Service Bus Queue endpoints|Миллисекунды|Средняя|Средняя задержка в миллисекундах между поступлением сообщения в Центр Интернета вещей и его поступлением на конечную точку очереди служебной шины.|
|d2c.endpoints.egress.serviceBusTopics|Сообщения, доставленные в конечные точки раздела служебной шины.|Count|Всего|Число успешных записей сообщений в конечные точки раздела служебной шины.|
|d2c.endpoints.latency.serviceBusTopics|Message latency for Service Bus Topic endpoints|Миллисекунды|Средняя|Средняя задержка в миллисекундах между поступлением сообщения в Центр Интернета вещей и его поступлением на конечную точку раздела служебной шины.|
|d2c.endpoints.egress.builtIn.events|Сообщения, доставленные во встроенную конечную точку (сообщения и события).|Count|Всего|Число успешных записей сообщений во встроенную конечную точку (сообщения и события).|
|d2c.endpoints.latency.builtIn.events|Задержка сообщения для встроенной конечной точки (сообщения и события).|Миллисекунды|Средняя|Средняя задержка в миллисекундах между поступлением сообщения в Центр Интернета вещей и его поступлением на встроенную конечную точку (сообщения и события). |
|d2c.twin.read.success|Успешные операции чтения с двойников, инициированные устройством.|Count|Всего|Число всех успешных операций чтения с двойников, инициированных устройством.|
|d2c.twin.read.failure|Неудачные операции чтения с двойников, инициированные устройством.|Count|Всего|Число всех неудачных операций чтения с двойников, инициированных устройством.|
|d2c.twin.read.size|Размер ответа операций чтения с двойников, инициированных устройством.|Байты|Средняя|Среднее, минимальное и максимальное значение всех успешных операций чтения, инициированных устройством.|
|d2c.twin.update.success|Успешные обновления двойников, инициированные устройством.|Count|Всего|Число всех успешных обновлений двойников, инициированных устройством.|
|d2c.twin.update.failure|Неудачные обновления двойников, инициированные устройством.|Count|Всего|Число всех неудачных обновлений двойников, инициированных устройством.|
|d2c.twin.update.size|Размер обновлений двойников, инициированных устройством.|Байты|Средняя|Средний, минимальный и максимальный размеры всех успешных обновлений двойников, инициированных устройством.|
|c2d.methods.success|Успешные вызовы прямых методов.|Count|Всего|Число всех успешных вызовов прямых методов.|
|c2d.methods.failure|Неудачные вызовы прямых методов.|Count|Всего|Число всех неудачных вызовов прямых методов.|
|c2d.methods.requestSize|Размер запроса вызовов прямых методов.|Байты|Средняя|Среднее, минимальное и максимальное значение всех успешных запросов прямых методов.|
|c2d.methods.responseSize|Размер ответа вызовов прямых методов.|Байты|Средняя|Среднее, минимальное и максимальное значения всех успешных ответов прямых методов.|
|c2d.twin.read.success|Успешные операции чтения с двойников, инициированные из серверной части.|Count|Всего|Число всех успешных операций чтения с двойников, инициированных из серверной части.|
|c2d.twin.read.failure|Неудачные операции чтения с двойников, инициированные из серверной части.|Count|Всего|Число всех неудачных операций чтения с двойников, инициированных из серверной части.|
|c2d.twin.read.size|Размер ответа операций чтения с двойников, инициированных из серверной части.|Байты|Средняя|Среднее, минимальное и максимальное значения всех успешных операций чтения с двойников, инициированных из серверной части.|
|c2d.twin.update.success|Успешные обновления двойников, инициированные из серверной части.|Count|Всего|Число всех успешных обновлений двойников, инициированных из серверной части.|
|c2d.twin.update.failure|Неудачные обновления двойников, инициированные из серверной части.|Count|Всего|Число всех неудачных обновлений двойников, инициированных из серверной части.|
|c2d.twin.update.size|Размер обновлений двойников, инициированных из серверной части.|Байты|Средняя|Средний, минимальный и максимальный размеры всех успешных обновлений двойников, инициированных из серверной части.|
|twinQueries.success|Успешные запросы двойников.|Count|Всего|Число всех успешных запросов двойников.|
|twinQueries.failure|Неудачные запросы двойников.|Count|Всего|Количество всех неудачных запросов двойников.|
|twinQueries.resultSize|Размер результатов запросов двойников.|Байты|Средняя|Среднее, минимальное и максимальное значения размера результатов всех успешных запросов двойников.|
|jobs.createTwinUpdateJob.success|Успешные операции создания заданий обновления двойников.|Count|Всего|Количество всех успешных созданий заданий обновления двойников.|
|jobs.createTwinUpdateJob.failure|Неудачные операции создания заданий обновления двойников.|Count|Всего|Количество всех неудачных операций создания заданий обновления двойников.|
|jobs.createDirectMethodJob.success|Успешные операции создания заданий вызова методов.|Count|Всего|Количество всех успешных операций создания заданий вызова прямых методов.|
|jobs.createDirectMethodJob.failure|Неудачные операции создания заданий вызова методов.|Count|Всего|Количество всех неудачных операций создания заданий вызова прямых методов.|
|jobs.listJobs.success|Успешные вызовы получения списка заданий.|Count|Всего|Количество всех успешных вызовов для получения списка заданий.|
|jobs.listJobs.failure|Неудачные вызовы получения списка заданий.|Count|Всего|Количество всех неудачных вызовов для получения списка заданий.|
|jobs.cancelJob.success|Успешные отмены заданий.|Count|Всего|Количество всех успешных вызовов для отмены заданий.|
|jobs.cancelJob.failure|Неудачные отмены заданий.|Count|Всего|Количество всех неудачных вызовов для отмены заданий.|
|jobs.queryJobs.success|Успешные запросы заданий.|Count|Всего|Количество всех успешных вызовов для запроса заданий.|
|jobs.queryJobs.failure|Неудачные запросы заданий.|Count|Всего|Количество всех неудачных вызовов для запроса заданий.|
|jobs.completed|Завершенные задания|Count|Всего|Количество всех выполненных заданий.|
|jobs.failed|Неудачные задания.|Count|Всего|Количество всех неудачных заданий.|

## <a name="next-steps"></a>Дополнительная информация
Вы ознакомились с общими сведениями о метриках Центра Интернета вещей. Чтобы узнать больше об управлении Центром Интернета вещей Azure, перейдите по этой ссылке:

* [Мониторинг операций][lnk-monitor]

Для дальнейшего изучения возможностей Центра Интернета вещей см. следующие статьи:

* [Руководство разработчика для Центра Интернета вещей][lnk-devguide]
* [Развертывание ИИ на пограничных устройствах с использованием Azure IoT Edge][lnk-iotedge]

<!-- Links and images -->
[1]: media/iot-hub-metrics/enable-metrics-1.png
[2]: media/iot-hub-metrics/enable-metrics-2.png

[lnk-get-started]: iot-hub-csharp-csharp-getstarted.md
[lnk-operations-monitoring]: iot-hub-operations-monitoring.md
[lnk-scaling]: iot-hub-scaling.md
[lnk-dr]: iot-hub-ha-dr.md

[lnk-monitor]: iot-hub-operations-monitoring.md

[lnk-devguide]: iot-hub-devguide.md
[lnk-iotedge]: ../iot-edge/tutorial-simulate-device-linux.md
