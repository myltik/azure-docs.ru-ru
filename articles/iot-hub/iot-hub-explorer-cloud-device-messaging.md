---
title: Управление обменом сообщениями между устройством и облаком Центра Интернета вещей Azure с помощью обозревателя Центра Интернета вещей | Документация Майкрософт
description: Узнайте, как с помощью интерфейса командной строки обозревателя Центра Интернета вещей отслеживать сообщения, отправляемые с устройства в облако (D2C), и отправлять сообщения из облака на устройство (C2D) в Центре Интернета вещей Azure.
author: rangv
manager: ''
keywords: обозреватель Центра Интернета вещей, обмен сообщениями между облаком и устройством, отправка сообщений из облака на устройство с помощью Центра Интернета вещей
ms.service: iot-hub
services: iot-hub
ms.topic: conceptual
ms.tgt_pltfrm: arduino
ms.date: 4/11/2018
ms.author: rangv
ms.openlocfilehash: cd8456efb4d8e0b84695f97d379a1ea83e19aba2
ms.sourcegitcommit: 266fe4c2216c0420e415d733cd3abbf94994533d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/01/2018
ms.locfileid: "34634239"
---
# <a name="use-iothub-explorer-to-send-and-receive-messages-between-your-device-and-iot-hub"></a>Использование обозревателя Центра Интернета вещей для обмена сообщениями между устройством и Центром Интернета вещей

![Комплексная схема](media/iot-hub-get-started-e2e-diagram/2.png)

[!INCLUDE [iot-hub-get-started-note](../../includes/iot-hub-get-started-note.md)]

В [обозревателе Центра Интернета вещей](https://github.com/azure/iothub-explorer) доступно несколько команд, которые упрощают управление Центром Интернета вещей. В этом руководстве объясняется, как использовать обозреватель Центра Интернета вещей для обмена сообщениями между устройством и Центром Интернета вещей.

[!INCLUDE [iot-hub-basic](../../includes/iot-hub-basic-partial.md)]

## <a name="what-you-will-learn"></a>Новые знания

Вы узнаете, как использовать обозреватель Центра Интернета вещей для отслеживания сообщений, отправляемых с устройства в облако, и отправки сообщений из облака на устройство. В сообщениях, отправляемых с устройства в облако, могут содержаться данные датчиков, которые устройство собирает и отправляет в Центр Интернета вещей. Сообщения, отправляемые из облака на устройство, могут содержать команды, которые Центр Интернета вещей отправляет на устройство и которые активируют светодиодный индикатор, подключенный к устройству.

## <a name="what-you-will-do"></a>Выполняемая задача

- Использование обозревателя Центра Интернета вещей для мониторинга сообщений, отправляемых с устройства в облако.
- Использование обозревателя Центра Интернета вещей для мониторинга сообщений, отправляемых из облака на устройство.

## <a name="what-you-need"></a>Необходимые элементы

- Изучите руководство [Настройка вашего устройства](iot-hub-raspberry-pi-kit-node-get-started.md), где описаны следующие требования.
  - Активная подписка Azure.
  - Центр Интернета вещей Azure в подписке;
  - клиентское приложение, которое отправляет сообщения в Центр Интернета вещей Azure.
- Обозреватель Центра Интернета вещей. ([Установить обозреватель Центра Интернета вещей](https://github.com/azure/iothub-explorer).)

## <a name="monitor-device-to-cloud-messages"></a>Отслеживание сообщений, отправляемых с устройства в облако

Чтобы отслеживать сообщения, отправляемые в Центр Интернета вещей с устройства, выполните следующие действия.

1. Откройте окно консоли.
1. Выполните следующую команду:

   ```bash
   iothub-explorer monitor-events <device-id> --login "<IoTHubConnectionString>"
   ```

   > [!Note]
   > Получите `<device-id>` и `<IoTHubConnectionString>` из Центра Интернета вещей. Обязательно выполните предыдущее руководство. Или можно попробовать использовать `iothub-explorer monitor-events <device-id> --login "HostName=<my-hub>.azure-devices.net;SharedAccessKeyName=<my-policy>;SharedAccessKey=<my-policy-key>"` при наличии `HostName`, `SharedAccessKeyName` и `SharedAccessKey`.

## <a name="send-cloud-to-device-messages"></a>Отправка сообщений из облака на устройство

Чтобы отправить сообщение из Центра Интернета вещей на устройство, выполните следующие действия.

1. Откройте окно консоли.
1. Запустите сеанс в Центре Интернета вещей с помощью следующей команды:

   ```bash
   iothub-explorer login `<IoTHubConnectionString>`
   ```

1. Отправьте сообщение на устройство с помощью следующей команды:

   ```bash
   iothub-explorer send <device-id> <message>
   ```

Команда включает мигающий светодиодный индикатор, подключенный к устройству, и отправляет сообщение на устройство.

> [!Note]
> Устройству не нужно отправлять отдельную команду подтверждения в Центр Интернета вещей после получения сообщения.

## <a name="next-steps"></a>Дополнительная информация

Вы узнали, как отслеживать сообщения, отправляемые из устройства Интернета вещей в облако Центра Интернета вещей, и отправлять сообщения из этого облака на устройство.

[!INCLUDE [iot-hub-get-started-next-steps](../../includes/iot-hub-get-started-next-steps.md)]
