---
title: Обзор планов службы приложений Azure | Документация Майкрософт
description: Узнайте, как работают планы службы приложений Azure и чем они удобны для вашей среды управления.
keywords: служба приложений, служба приложений azure, масштабировать, масштабируемый, масштабируемость, план службы приложений, стоимость службы приложений
services: app-service
documentationcenter: ''
author: cephalin
manager: cfowler
editor: ''
ms.assetid: dea3f41e-cf35-481b-a6bc-33d7fc9d01b1
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 11/09/2017
ms.author: cephalin
ms.openlocfilehash: 268844eae8dc06937529e79d52515cad2f6da3f4
ms.sourcegitcommit: 7edfa9fbed0f9e274209cec6456bf4a689a4c1a6
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/17/2018
ms.locfileid: "27862365"
---
# <a name="azure-app-service-plan-overview"></a>Обзор планов службы приложений Azure

В службе приложений приложение выполняется в _плане службы приложений_. План службы приложений определяет набор вычислительных ресурсов, на которых выполняется веб-приложение. Эти вычислительные ресурсы аналогичны [_ферме серверов_](https://wikipedia.org/wiki/Server_farm) при стандартном веб-размещении. Вы можете настроить одно или несколько приложений для выполнения на одних вычислительных ресурсах (или в одном плане службы приложений).

При создании плана службы приложений в определенном регионе (например, Западной Европе) в этом регионе создается набор вычислительных ресурсов для этого плана. Все приложения, размещенные в этом плане службы приложений, выполняются на этих вычислительных ресурсах в соответствии с планом службы приложений. Каждый план службы приложений определяет следующее:

- регион ("Западная часть США", "Восточная часть США" и т. д.);
- количество экземпляров виртуальных машин;
- размер экземпляров виртуальных машин (небольшой, средний, большой);
- ценовой уровень ("Бесплатный", "Общий", "Базовый", "Стандартный", "Премиум", "Премиум V2", "Изолированный", "Потребление").

_Ценовая категория_ плана службы приложений определяет, какие функции службы приложений будут доступны вам, а также стоимость плана. Существует несколько категорий ценового уровня.

- **Распределенная среда выполнения**: доступны два основных уровня — **Бесплатный** и **Общий**. Приложение выполняется на той же виртуальной машине Azure, что и другие приложения службы приложений, включая приложения других клиентов. Эти уровни выделяют квоты на ЦП для каждого приложения, которое выполняется на этих общих ресурсах, и эти ресурсы нельзя масштабировать.
- **Выделенная среда выполнения**: доступны уровни **Базовый**, **Стандартный**, **Премиум** и **Премиум V2**. Приложения выполняются на выделенных виртуальных машинах Azure. Только приложения, которые находятся в одном плане службы приложений, могут совместно использовать одни вычислительные ресурсы. Чем выше ценовая категория, тем больше экземпляров виртуальной машины можно развернуть.
- **Изолированная среда выполнения**: на этом уровне доступно выполнение выделенных виртуальных машин Azure в выделенных виртуальных сетях Azure, что обеспечивает сетевую изоляцию поверх изоляции вычислений для приложений. Обеспечивается максимальное горизонтальное масштабирование.
- **Потребление**: эта категория доступна только для [приложений-функций](../azure-functions/functions-overview.md). Она предусматривает динамическое масштабирование функций в зависимости от рабочей нагрузки. Дополнительные сведения см. в статье [Сравнение планов размещения для решения "Функции Azure"](../azure-functions/functions-scale.md).

[!INCLUDE [app-service-dev-test-note](../../includes/app-service-dev-test-note.md)]

Каждый уровень также предоставляет подмножество функций службы приложений. К ним относятся: личные домены и SSL-сертификаты, автоматическое масштабирование, слоты развертывания, резервные копии, интеграция диспетчера трафика и многое другое. Чем выше уровень, тем больше доступно функций. Чтобы узнать, какие функции поддерживает каждая ценовая категория, ознакомьтесь с [подробными сведениями о планах службы приложений](https://azure.microsoft.com/pricing/details/app-service/plans/).

<a name="new-pricing-tier-premiumv2"></a>

> [!NOTE]
> В новой ценовой категории **Премиум V2** реализованы [виртуальные машины серии Dv2](../virtual-machines/windows/sizes-general.md#dv2-series) с более быстрыми процессорами, хранилищами на базе SSD и двойным соотношением ресурсов памяти и ядра по сравнению с категорией **Стандартный**. Категория **Премиум V2** также отличается более высокой масштабируемостью благодаря увеличенному числу экземпляров, предоставляя при этом все расширенные функции, доступные в рамках плана "Стандартный". Все функции, доступные в существующей категории **Премиум**, включены в категорию **Премиум V2**.
>
> По аналогии с другими категориями Dedicated для данной категории доступны три размера виртуальных машин:
>
> - небольшой (одно ядро ЦП, 3,5 Гиб памяти); 
> - средний (два ядра ЦП, 7 Гиб памяти); 
> - большой (четыре ядра ЦП, 14 Гиб памяти).  
>
> Дополнительные сведения о категории **Премиум V2** см. на странице [цен на службу приложений](https://azure.microsoft.com/pricing/details/app-service/).
>
> Чтобы приступить к работе с новой ценовой категорией **Премиум V2**, см. статью [Configure PremiumV2 tier for Azure App Service](app-service-configure-premium-tier.md) (Настройка ценовой категории Премиум V2 для службы приложений).

## <a name="how-does-my-app-run-and-scale"></a>Как выполняется и масштабируется приложение?

На уровнях **Бесплатный** и **Общий** приложение получает минуты ЦП для использования на общем экземпляре виртуальной машины, и его нельзя масштабировать. На других уровнях приложение выполняется и масштабируется следующим образом.

Когда вы создаете приложение в службе приложений, оно размещается в плане службы приложений. При запуске приложение запускается на всех экземплярах виртуальной машины, настроенных в плане службы приложений. Если несколько приложений находятся в одном плане службы приложений, они все совместно используют одинаковые экземпляры виртуальной машины. Если у вас несколько слотов развертывания для приложения, все слоты развертывания также выполняются в одних экземплярах виртуальной машины. Если вы включили журналы диагностики, выполняете резервное копирование или запускаете веб-задания, они также используют циклы ЦП и память на этих экземплярах виртуальной машины.

В этом случае план службы приложений представляет собой единицу масштабирования приложений службы приложений. Если план настроен для запуска пяти экземпляров виртуальной машины, тогда все приложения в плане будут выполняться на всех пяти экземплярах. Если план настроен для автоматического масштабирования, то все приложения в плане совместно масштабируются на основе параметров автоматического масштабирования.

Сведения о масштабировании приложений см. в статье [Масштабирование числа экземпляров вручную или автоматически](../monitoring-and-diagnostics/insights-how-to-scale.md).

<a name="cost"></a>

## <a name="how-much-does-my-app-service-plan-cost"></a>Сколько стоит план службы приложений?

В этом разделе описывается, как начисляется плата за использование приложений службы приложений. Дополнительные сведения о ценах для отдельных регионов см. на [странице цен службы приложений](https://azure.microsoft.com/pricing/details/app-service/).

За исключением ценового уровня **Бесплатный**, план службы приложений включает почасовую оплату за используемые вычислительные ресурсы.

- Для уровня **Общий** каждое приложение получает квоту минут ЦП. Это значит, что для _каждого приложения_ предусмотрена почасовая оплата для квоты ЦП.
- Для уровней выделенной среды выполнения (**Базовый**, **Стандартный**, **Премиум**, **Премиум V2**) план службы приложений определяет число экземпляров виртуальной машины, до которого можно масштабировать приложения. Таким образом в плане службы приложений предусмотрена почасовая оплата за _каждый экземпляр виртуальной машины_. Плата за экземпляры виртуальной машины является фиксированной, независимо от количества запущенных в них приложений. Чтобы избежать непредвиденных расходов, ознакомьтесь с разделом об [удалении плана службы приложений](app-service-plan-manage.md#delete).
- На **изолированном** уровне среда службы приложений определяет число изолированных рабочих ролей, запущенных в приложениях, и за использование _каждой рабочей роли_ взимается почасовая плата. Кроме того, предусмотрена базовая почасовая плата за выполнение самой среды службы приложений. 
- (Только для функций Azure.) Уровень **Потребление** динамически выделяет экземпляры виртуальной машины для обслуживания рабочей нагрузки приложения-функции, и в Azure взимается динамическая плата за секунду. Дополнительные сведения см. на странице [цен на Функции Azure](https://azure.microsoft.com/pricing/details/functions/).

За использование доступных функций службы приложений плата отсутствует (настройка личных доменов, SSL-сертификатов, слотов развертывания, резервного копирования и т. д.). Однако имеются исключения.

- Домены службы приложений. Вы оплачиваете приобретение домена в Azure и его ежегодное продление.
- Сертификаты службы приложений. Вы оплачиваете приобретение сертификата в Azure и его ежегодное продление.
- SSL-подключения на основе IP-адреса. Для каждого SSL-подключения на основе IP-адреса предусмотрена почасовая плата, но некоторые уровни, например **Стандартный** или выше, предоставляют одно такое подключение бесплатно. SSL-подключения на основе SNI бесплатны.

> [!NOTE]
> При интеграции службы приложений с другими службами Azure стоит также учесть плату, предусмотренную этими службами. Например, если вы используете диспетчер трафика Azure для географического масштабирования приложения, за использование диспетчера также взимается плата. Используйте [ценовой калькулятор](https://azure.microsoft.com/pricing/calculator/), чтобы оценить стоимость использования разных служб в Azure. 
>
>

## <a name="what-if-my-app-needs-more-capabilities-or-features"></a>Можно ли добавить в приложение больше возможностей и функций?

План службы приложений можно всесторонне масштабировать в любое время. Это так же просто, как и изменение ценовой категории плана. Сначала можно выбрать более низкую ценовую категорию. Позже, когда вам потребуется больше функций службы приложений, ценовую категорию можно изменить.

Например, вы можете начать тестировать веб-приложение в плане службы приложений уровня **Бесплатный** без каких-либо расходов. Когда вы захотите добавить в веб-приложение [настраиваемое DNS-имя](app-service-web-tutorial-custom-domain.md), вам просто нужно выполнить масштабирование плана до уровня **Общий**. Позже, когда вы захотите добавить [настраиваемый SSL-сертификат](app-service-web-tutorial-custom-ssl.md), вы можете выполнить масштабирование плана до уровня **Базовый**. Если вам нужны [промежуточные среды](web-sites-staged-publishing.md), выполните масштабирование плана до уровня **Стандартный**. Если вам требуется больше ядер, памяти или хранилища, выполните масштабирование размера виртуальной машины в том же ценовом уровне.

Можно применять масштабирование также и в обратном порядке. Если вам больше не нужны возможности или функции более высокого ценового уровня, вы можете уменьшить масштаб до более низкого уровня, что позволит вам сэкономить.

Дополнительные сведения об увеличении масштаба плана службы приложений см. в статье [Увеличение масштаба приложения в Azure](web-sites-scale.md).

Если ваше приложение находится в одном плане службы приложений с другими приложениями, вы можете улучшить производительность приложения с помощью изоляции вычислительных ресурсов. Это можно сделать, переместив приложение в отдельный план службы приложений. Дополнительные сведения см. в разделе о [перемещении приложения в другой план службы приложений](app-service-plan-manage.md#move).

## <a name="should-i-put-an-app-in-a-new-plan-or-an-existing-plan"></a>Нужно разместить приложение в новом плане или использовать имеющийся?

Так как вы платите за вычислительные ресурсы, которые выделяет план службы приложений (дополнительные сведения см. в разделе о [стоимости плана службы приложений](#cost)), потенциально вы можете сэкономить, разместив несколько приложений в одном плане службы приложений. Можно добавлять приложения в имеющийся план, пока у него имеется достаточно ресурсов для обработки нагрузки. Тем не менее имейте в виду, что все приложения, которые находятся в одном плане службы приложений, совместно используют одни вычислительные ресурсы. Чтобы определить, будет ли новое приложение иметь необходимые ресурсы, оцените емкость имеющегося плана службы приложений и ожидаемую нагрузку для нового приложения. Перегрузка плана службы приложений может стать причиной простоя для новых и имеющихся приложений.

Мы рекомендуем изолировать приложение с помощью нового плана службы приложений в следующих случаях:

- приложение является ресурсоемким;
- необходимо масштабировать приложение независимо от других приложений в имеющемся плане;
- приложению требуется ресурс из другого географического региона.

Таким образом можно выделить новый набор ресурсов для приложения и усилить контроль над своими приложениями.

## <a name="manage-an-app-service-plan"></a>Управление планом службы приложений

> [!div class="nextstepaction"]
> [Управление планом службы приложений](app-service-plan-manage.md)
