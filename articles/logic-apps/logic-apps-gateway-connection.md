---
title: "Доступ к локальным источникам данных в Azure Logic Apps | Документация Майкрософт"
description: "Настройка локального шлюза данных для доступа к локальным источникам данных из приложений логики"
keywords: "доступ к данным, локальный, передача данных, шифрование, источники данных"
services: logic-apps
author: jeffhollan
manager: anneta
editor: 
documentationcenter: 
ms.assetid: 6cb4449d-e6b8-4c35-9862-15110ae73e6a
ms.service: logic-apps
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: integration
ms.date: 06/9/2017
ms.author: LADocs; dimazaid; estfan
ms.translationtype: Human Translation
ms.sourcegitcommit: 5bbeb9d4516c2b1be4f5e076a7f63c35e4176b36
ms.openlocfilehash: 4b6f21c7949493ac1f95e7c0f255e5c96613adf1
ms.contentlocale: ru-ru
ms.lasthandoff: 06/13/2017


---
# <a name="access-data-sources-on-premises-from-logic-apps-with-the-on-premises-data-gateway"></a>Доступ к локальным источникам данных из приложений логики с помощью локального шлюза данных

Чтобы иметь доступ к локальным источникам данных из ваших приложений логики, настройте локальный шлюз данных, который могут использовать приложения логики с помощью поддерживаемых соединителей. Этот шлюз используется в качестве моста для шифрования и быстрой передачи данных между локальными источниками данных и приложениями логики. Шлюз ретранслирует данные из локальных источников по шифрованным каналам через служебную шину Azure. Весь трафик поступает как безопасный исходящий трафик от агента шлюза. Дополнительные сведения см. в разделе [Как работает шлюз](logic-apps-gateway-install.md#gateway-cloud-service). 

Шлюз поддерживает подключения к таким локальным источникам данных:

*   BizTalk Server
*   DB2  
*   Файловая система
*   Informix
*   Магический квадрант
*   MySQL
*   База данных Oracle
*   PostgreSQL
*   сервер приложений SAP; 
*   сервер сообщений SAP;
*   SharePoint только для HTTP (не для HTTPS)
*   SQL Server
*   Teradata

Далее представлена процедура настройки локального шлюза данных для работы с приложениями логики. Дополнительные сведения о поддерживаемых соединителях см. статье [Список соединителей](../connectors/apis-list.md). 

Дополнительные сведения о шлюзах данных для других служб Майкрософт см. в следующих статьях:

*   [Шлюз приложений](https://azure.microsoft.com/services/application-gateway/): [Обзор шлюза приложений](../application-gateway/application-gateway-introduction.md)
*   [Локальный шлюз данных](https://powerbi.microsoft.com/documentation/powerbi-gateway-onprem/)
*   [Локальный шлюз данных](../analysis-services/analysis-services-gateway.md)
*   [Управление локальным шлюзом данных в Microsoft Flow](https://flow.microsoft.com/documentation/gateway-manage/)

## <a name="requirements"></a>Требования

* [Шлюз данных должен быть установлен на локальном компьютере](logic-apps-gateway-install.md).

* При входе на портал Azure необходимо использовать ту же рабочую или учебную запись, которая использовалась для [установки локального шлюза данных](logic-apps-gateway-install.md#requirements). Для установки шлюза у вашей учетной записи входа также должна быть подписка Azure, которая будет использоваться при создании ресурса шлюза на портале Azure.

* Не должно быть заявок на доступ к этой установке шлюза от другого ресурса шлюза Azure. Вы можете связать установку шлюза только с одним ресурсом шлюза Azure. Заявка осуществляется при создании ресурса шлюза, поэтому установка недоступна для других ресурсов.

## <a name="set-up-the-data-gateway-connection"></a>Настройка подключения к шлюзу данных

### <a name="1-install-the-on-premises-data-gateway"></a>1. Установка локального шлюза данных

Если это еще не сделано, выполните следующие [действия, чтобы установить локальный шлюз данных](logic-apps-gateway-install.md). Перед тем как продолжить, убедитесь, что шлюз данных установлен на локальном компьютере.

<a name="create-gateway-resource"></a>
### <a name="2-create-an-azure-resource-for-the-on-premises-data-gateway"></a>2) Создание ресурса для локального шлюза данных Azure

После установки шлюза на локальном компьютере вам необходимо создать шлюз данных в качестве ресурса в Azure. На этом шаге также связывается ресурс шлюза с подпиской Azure.

1. Войдите на [портал Azure](https://portal.azure.com "Портал Azure"). Убедитесь, что используете тот же рабочий или учебный адрес электронной почты Azure, что и при установке шлюза.

2. В меню слева в Azure выберите **Создать** > **Интеграция с предприятием** > **Локальный шлюз данных**, как показано ниже:

   ![Поиск элемента "Локальный шлюз данных"](./media/logic-apps-gateway-connection/find-on-premises-data-gateway.png)

3. Чтобы создать ресурс шлюза данных, в колонке **Создание шлюза для подключения** укажите такие сведения:

    * **Имя.** Введите имя для вашего ресурса шлюза. 

    * **Подписка.** Выберите подписку Azure, связанную с вашим ресурсом шлюза. 
    Это должна быть та же подписка, которая использовалась для приложения логики.
   
      Подписка по умолчанию основана на учетной записи Azure, которая использовалась для входа.

    * **Группа ресурсов.** Создайте группу ресурсов Azure или выберите имеющуюся для развертывания своего ресурса шлюза. 
    Группы ресурсов помогают управлять связанными ресурсами Azure в качестве коллекции.

    * **Расположение.** Azure ограничивает расположение тем же регионом, выбранным для облачной службы шлюза во время [установки шлюза](logic-apps-gateway-install.md). 

      > [!NOTE]
      > Убедитесь, что расположение ресурса шлюза совпадает с расположением облачной службы шлюза. В противном случае установка вашего шлюза может не отобразиться в списке установленных шлюзов, который вы можете выбрать на следующем шаге.
      > 
      > Вы можете выбрать разные регионы для ресурса шлюза и вашего приложения логики.

    * **Имя установки.** Если установка шлюза еще не выбрана, выберите шлюз, установленный ранее. 

    Чтобы добавить ресурс шлюза на панель мониторинга Azure, выберите **Закрепить на панели мониторинга**. 
    Когда все будет готово, выберите **Создать**.

    Например:

    ![Предоставление сведений для создания локального шлюза данных](./media/logic-apps-gateway-connection/createblade.png)

    Чтобы в любое время найти или просмотреть шлюз данных, из главного меню Azure слева перейдите на страницу  **Больше служб** > **Интеграция с предприятием** > **Локальный шлюз данных**.

    ![Выбор элементов "Больше служб", "Интеграция с предприятием", "Локальный шлюз данных"](./media/logic-apps-gateway-connection/find-on-premises-data-gateway-enterprise-integration.png)

<a name="connect-logic-app-gateway"></a>
### <a name="3-connect-your-logic-app-to-the-on-premises-data-gateway"></a>3. Подключение приложения логики к локальному шлюзу данных

Теперь, когда вы создали ресурс шлюза данных и связали свою подписку Azure с этим ресурсом, создайте подключение между приложением логики и шлюзом данных.

> [!NOTE]
> Расположение подключения шлюза должно находиться в том же регионе, что и приложение логики, но вы можете использовать шлюз данных из другого региона.

1. На портале Azure создайте приложение логики или откройте его в конструкторе приложений логики.

2. Добавьте соединитель, который поддерживает локальные подключения, например SQL Server.

3. Следуя указанному порядку, выберите **Connect via on-premises data gateway** (Подключиться через локальный шлюз данных), укажите уникальное имя соединения и необходимую информацию и выберите ресурс шлюза данных, который вы хотите использовать. Когда все будет готово, выберите **Создать**.

   > [!TIP]
   > Уникальное имя подключения позволяет легко идентифицировать подключение позже, особенно при создании нескольких подключений. При необходимости добавьте также имя домена для вашего имени пользователя. 

   ![Создание подключения между логическим приложением и шлюзом данных](./media/logic-apps-gateway-connection/blankconnection.png)

Поздравляем! Подключение шлюза теперь готово к использованию приложением логики.

## <a name="edit-your-gateway-connection-settings"></a>Изменение параметров подключения к шлюзу

После того как вы создадите подключение шлюза для приложения логики, возможно, вам понадобится обновить параметры этого подключения.

1. Чтобы найти подключение шлюза, сделайте следующее:

   * В колонке приложения логики в разделе **Средства разработки** выберите **Подключения API**. 
   
     В области **Подключения API** указаны все подключения API, связанные с вашим приложением логики, в том числе подключения шлюза.

     ![Переход к приложению логики, выбор "Подключения API"](./media/logic-apps-gateway-connection/logic-app-find-api-connections.png)

   * Можно из главного меню Azure слева выбрать **Больше служб** > **Web & Mobile Services** (Веб-службы и мобильные службы) > **Подключения API** для всех подключений API, в том числе подключений, связанных с вашей подпиской Azure. 

   * А можно в главном меню Azure слева перейти к разделу **Все ресурсы** для всех подключений API, включая подключения шлюза, связанные с вашей подпиской Azure.

2. Выберите подключение шлюза, которое вы хотите просмотреть или изменить, и щелкните **Правка подключения API**.

   > [!TIP]
   > Если ваши обновления не вступают в силу, попробуйте [остановить и перезапустить службу Windows шлюза](./logic-apps-gateway-install.md#restart-gateway).

<a name="change-delete-gateway-resource"></a>
## <a name="switch-or-delete-your-on-premises-data-gateway-resource"></a>Переключение или ресурса локального шлюза данных

Чтобы создать другой ресурс шлюза, связать ваш шлюз с другим ресурсом или удалить ресурс шлюза, вы можете удалить его, не затрагивая установку шлюза. 

1. В главном меню Azure слева щелкните **Все ресурсы**. 
2. Найдите и выберите ресурс шлюза данных.
3. Выберите **Локальный шлюз данных** и на панели инструментов ресурсов щелкните **Удалить**.

<a name="faq"></a>
## <a name="frequently-asked-questions"></a>Часто задаваемые вопросы

[!INCLUDE [existing-gateway-location-changed](../../includes/logic-apps-existing-gateway-location-changed.md)]

## <a name="next-steps"></a>Дальнейшие действия

* [Защита приложений логики](./logic-apps-securing-a-logic-app.md)
* [Распространенные примеры и сценарии использования приложений логики](./logic-apps-examples-and-scenarios.md)

