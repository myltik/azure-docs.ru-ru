---
title: Использование Azure DevTest Labs для виртуальных машин и тестовых сред PaaS | Документы Майкрософт
description: Сведения об использовании Azure DevTest Labs для виртуальных машин и тестовых сред PaaS.
services: devtest-lab,virtual-machines,lab-services
documentationcenter: na
author: spelluru
manager: femila
ms.assetid: d4e2c334-643a-40c9-9051-625b8f39fc86
ms.service: lab-services
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 04/17/2018
ms.author: spelluru
ms.openlocfilehash: 58ab6d502ec5397604c562aedffddb9f48cbb699
ms.sourcegitcommit: e221d1a2e0fb245610a6dd886e7e74c362f06467
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/07/2018
---
# <a name="use-azure-devtest-labs-for-vm-and-paas-test-environments"></a>Использование Azure DevTest Labs для виртуальных машин и тестовых сред PaaS

Azure DevTest Labs можно использовать для реализации многих ключевых сценариев. Основным из них является размещение виртуальных машин для тестировщиков. 

В этом сценарии DevTest Labs предоставляет следующие преимущества:

- Тестировщики могут проверить последнюю версию своего приложения, быстро развернув среды Windows и Linux с применением повторно используемых шаблонов и артефактов.
- Тестировщики могут увеличить масштаб нагрузочного тестирования, развернув несколько агентов тестирования.
- Администраторы могут контролировать затраты, следя за тем, чтобы:
  - тестировщикам не выделялось больше виртуальных машин, чем требуется для тестирования;
  - виртуальные машины отключались, если они не используются.

![Использование DevTest Labs для обучения](./media/devtest-lab-developer-lab/devtest-lab-developer-lab.png)

Из этой статьи вы узнаете о различных функциях Azure DevTest Labs, которые обеспечивают соответствие требованиям для тестировщиков. Здесь также приведены подробные инструкции по настройке лаборатории.

## <a name="implementing-test-environments-with-azure-devtest-labs"></a>Реализация тестовых сред с помощью Azure DevTest Labs
1. **Создание лаборатории** 
   
    Лаборатории являются отправной точкой в Azure DevTest Labs. Создав лабораторию, вы сможете добавить пользователей (тестировщиков) в лабораторию, настроить политики для контроля расходов, определить образы виртуальных машин, которые можно будет быстро создавать, и др.  
   
    Дополнительные сведения см. по ссылкам в таблице ниже.
   
   | Задача | Что вы узнаете |
   | --- | --- |
   | [Создание лаборатории в лаборатории для разработки и тестирования Azure](devtest-lab-create-lab.md) |Как создать лабораторию в Azure DevTest Labs на портале Azure |
2. **Создание виртуальных машин за считанные минуты с помощью пользовательских образов и готовых образов из Marketplace** 
   
    Вы можете выбрать любой из множества доступных готовых образов в Azure Marketplace и добавить его в свою лабораторию. Если готовые образы не подходят, вы можете создать свой собственный образ. Для этого нужно создать лабораторную виртуальную машину, используя готовый образ из Azure Marketplace, установить на нее все необходимое программное обеспечение и сохранить ее в качестве пользовательского образа в лаборатории.

    Если вы планируете использовать пользовательские образы, рекомендуем использовать фабрику образов, которая поможет их создавать и распространять. Фабрика образов — это решение "конфигурация как код", которое регулярно автоматически создает и распространяет настроенные образы. Это экономит время, которое обычно уходит на настройку системы вручную после создания виртуальной машины с базовой операционной системой.
  
    Дополнительные сведения см. по ссылкам в таблице ниже.
   
   | Задача | Что вы узнаете |
   | --- | --- |
   | [Настройка образов Azure Marketplace](devtest-lab-configure-marketplace-images.md) |Сведения о том, как добавить образы Azure Marketplace в список разрешений, а также сделать доступными необходимые образы для тестировщиков.|
   | [Создание пользовательского образа](devtest-lab-create-template.md) |Сведения о том, как создать пользовательский образ путем предварительной установки необходимого ПО. С помощью пользовательского образа тестеры смогут быстро создавать виртуальные машины.|
   | [Дополнительные сведения о фабрике образов](https://blogs.msdn.microsoft.com/devtestlab/2017/04/17/video-custom-image-factory-with-azure-devtest-labs/) |Как настроить и использовать фабрику образов (видео).|

3. **Создание многократно используемых шаблонов для виртуальных машин тестировщиков** 
   
    Формула в Azure DevTest Labs — это список значений свойств, используемых по умолчанию при создании виртуальной машины. Вы можете создать формулу в лаборатории, выбрав образ, размер виртуальной машины (сочетание ЦП и ОЗУ) и виртуальную сеть. Каждый тестировщик может просмотреть формулу в лаборатории и использовать ее для создания виртуальной машины. 
   
    Дополнительные сведения см. по ссылкам в таблице ниже.
   
   | Задача | Что вы узнаете |
   | --- | --- |
   | [Управление формулами DevTest Labs для создания виртуальных машин](devtest-lab-manage-formulas.md) |Как создать формулу, выбрав образ, размер виртуальной машины (сочетание ЦП и ОЗУ) и виртуальную сеть.|

3. **Создание тестовых сред с несколькими виртуальными машинами** 
   
    С помощью шаблонов Azure Resource Manager можно определить инфраструктуру и конфигурацию решения Azure и многократно развернуть несколько тестовых виртуальных машин в согласованном состоянии.

    Ресурсы PaaS Azure можно развернуть в среде на основе шаблона Resource Manager. Эти ресурсы появятся в отслеживаемых затратах. Однако автоматическое выключение виртуальной машины не применяется к ресурсам PaaS.

    Дополнительные сведения см. по ссылкам в таблице ниже.
   
   | Задача | Что вы узнаете |
   | --- | --- |
   | [Создание сред со множеством виртуальных машин и ресурсов PaaS с помощью шаблонов Azure Resource Manager](devtest-lab-create-environment-from-arm.md) |Сведения о том, как развернуть несколько виртуальных машин в согласованном состоянии для тестовой среды.|

4. **Создание артефактов для включения гибкой настройки виртуальной машины**

   Артефакты используются для развертывания и настройки приложения после подготовки виртуальной машины. Артефактами могут быть:

   - Средства для установки на виртуальной машине, такие как агенты, Fiddler и Visual Studio.
   - Действия, которые должны выполняться на виртуальной машине, такие как клонирование репозитория.
   - Приложения, которые требуется протестировать.

   Многие артефакты уже встроены. Но если вам нужны дополнительные настройки для определенных потребностей, можно создать пользовательские артефакты.

   Дополнительные сведения см. по ссылкам в таблице ниже.
   
   | Задача | Что вы узнаете |
   | --- | --- |
   | [Создание пользовательских артефактов для виртуальной машины DevTest Labs](devtest-lab-artifact-author.md) |Как создавать пользовательские артефакты для виртуальных машин в лаборатории.|
   | [Добавление репозитория Git для хранения пользовательских артефактов и шаблонов Azure Resource Manager в Azure DevTest Labs](devtest-lab-add-artifact-repo.md) |Как сохранять пользовательские артефакты в частном репозитории Git.|

5. **Контроль расходов**
   
    Azure DevTest Labs позволяет задать политику, определяющую максимальное число виртуальных машин, которые тестировщик может создать в лаборатории. 
   
    Предположим, команда тестирования установила рабочее расписание, и нужно остановить все виртуальные машины в определенное время, а затем автоматически перезапустить их на следующий день. Для этого в лаборатории нужно задать политики автоматического завершения работы и запуска. 
   
    По завершении разработки вы сможете удалить все виртуальные машины одновременно, выполнив один сценарий PowerShell. 
   
    Дополнительные сведения см. по ссылкам в таблице ниже.
   
   | Задача | Что вы узнаете |
   | --- | --- |
   | [Определение политик лаборатории](devtest-lab-set-lab-policy.md) |Как обеспечить контроль расходов с помощью политик в лаборатории. |
   | [Удаление всех виртуальных машин лаборатории с помощью сценария PowerShell](devtest-lab-faq.md#how-do-i-automate-the-process-of-deleting-all-the-vms-in-my-lab) |После завершения тестирования удалите все лаборатории в составе одной операции.|

1. **Добавление виртуальной сети в лабораторию** 
   
    При каждом создании лаборатории служба DevTest Labs создает новую виртуальную сеть. Если вы настроили свою собственную виртуальную сеть (например, с помощью ExpressRoute или VPN типа "сеть-сеть"), можно добавить ее в параметрах виртуальной сети лаборатории и сделать доступной при создании виртуальных машин.

    Кроме того, можно воспользоваться артефактом присоединения к домену Azure Active Directory. Этот артефакт присоединяет виртуальную машину к домену при ее создании. 
   
    Дополнительные сведения см. по ссылкам в таблице ниже.
   
   | Задача | Что вы узнаете |
   | --- | --- |
   | [Настройка виртуальной сети в Azure DevTest Labs](devtest-lab-configure-vnet.md) |Как настроить виртуальную сеть в Azure DevTest Labs на портале Azure.|

6. **Предоставление доступа к лаборатории для каждого тестировщика**
   
    Тестировщики могут получить прямой доступ к лаборатории с помощью предоставленной им ссылки. Разработчикам с [учетной записью Майкрософт](devtest-lab-faq.md#what-is-a-microsoft-account) даже не требуется учетная запись Azure. Тестировщики не видят виртуальные машины, созданные другими тестировщиками.  
   
    Дополнительные сведения см. по ссылкам в таблице ниже.
   
   | Задача | Что вы узнаете |
   | --- | --- |
   | [Добавление тестировщика в лабораторию Azure DevTest Labs](devtest-lab-add-devtest-user.md) |Добавление тестировщиков в лабораторию с помощью портала Azure.|
   | [Добавление тестировщиков в лабораторию с помощью сценария PowerShell](devtest-lab-add-devtest-user.md#add-an-external-user-to-a-lab-using-powershell) |Автоматическое добавление тестировщиков в лабораторию с помощью PowerShell. |
   | [Получение ссылки на лабораторию](devtest-lab-faq.md#how-do-i-share-a-direct-link-to-my-lab) |Сведения о том, как тестировщики могут напрямую подключаться к лаборатории по ссылке.|

7. **Автоматическое создание лабораторий для дополнительных команд** 
   
    Вы можете автоматизировать создание лаборатории вместе с пользовательскими параметрами, создав шаблон Resource Manager, который можно много раз использовать для создания идентичных лабораторий. 
   
    Дополнительные сведения см. по ссылкам в таблице ниже.
   
   | Задача | Что вы узнаете |
   | --- | --- |
   | [Создание лаборатории с помощью шаблона Resource Manager](devtest-lab-faq.md#how-do-i-create-a-lab-from-a-resource-manager-template) |Как создать лабораторию в Azure DevTest Labs с помощью шаблона Resource Manager. |

[!INCLUDE [devtest-lab-try-it-out](../../includes/devtest-lab-try-it-out.md)]

