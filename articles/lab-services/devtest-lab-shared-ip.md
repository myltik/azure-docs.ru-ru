---
title: Общие IP-адреса в Azure DevTest Labs | Документация Майкрософт
description: Узнайте, как с помощью общих IP-адресов в Azure DevTest Labs минимизировать количество общедоступных IP-адресов, необходимых для доступа к виртуальным машинам лаборатории.
services: devtest-lab,virtual-machines,lab-services
documentationcenter: na
author: spelluru
manager: femila
ms.assetid: ''
ms.service: lab-services
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 04/17/2018
ms.author: spelluru
ms.openlocfilehash: c62f8808565022371484b936f5a2bdaba1f8900e
ms.sourcegitcommit: e221d1a2e0fb245610a6dd886e7e74c362f06467
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/07/2018
ms.locfileid: "33781593"
---
# <a name="understand-shared-ip-addresses-in-azure-devtest-labs"></a>Общие IP-адреса в Azure DevTest Labs

Azure DevTest Labs позволяет виртуальным машинам лаборатории совместно использовать тот же общедоступный IP-адрес, чтобы минимизировать количество общедоступных IP-адресов, необходимых для доступа к отдельным виртуальным машинам лаборатории.  В этой статье описывается принцип работы общих IP-адресов и варианты их настройки.

## <a name="shared-ip-setting"></a>Настройка общих IP-адресов

Когда создается лаборатория, она размещается в подсети виртуальной сети.  При создании этой подсети параметру **Enable shared public IP** (Включить совместное использование общедоступного IP-адреса) по умолчанию задается значение *Yes* (Да).  При такой конфигурации создается общедоступный IP-адрес для всей подсети.  Дополнительные сведения о настройке виртуальных сетей и подсетей см. в статье [Настройка виртуальной сети в Azure DevTest Labs](devtest-lab-configure-vnet.md).

![Создание подсети лаборатории](media/devtest-lab-shared-ip/lab-subnet.png)

Вы можете включить этот параметр для всех имеющихся лабораторий, выбрав **Configuration and Policies (Конфигурация и политики) > Virtual Networks (Виртуальные сети)**. Затем выберите виртуальную сеть из списка и выберите **ENABLE SHARED PUBLIC IP** (Включить совместное использование общедоступного IP-адреса) для выбранной подсети. Этот параметр можно отключить в любой лаборатории, если вы не хотите совместно использовать общедоступные IP-адреса на виртуальных машинах лаборатории.

На всех виртуальных машинах, созданных в этой лаборатории, по умолчанию используется общий IP-адрес.  При создании виртуальной машины этот параметр отображается в колонке **Дополнительные параметры** в разделе **Настройка IP-адреса**.

![Создание виртуальной машины](media/devtest-lab-shared-ip/new-vm.png)

- **Общий.** Все виртуальные машины, созданные в качестве **общедоступных**, помещаются в одну группу ресурсов. Этой группе ресурсов назначается отдельный IP-адрес, который будут использовать все виртуальные машины.
- **Общедоступный.** Каждая созданная виртуальная машина имеет личный IP-адрес и создается в собственной группе ресурсов.
- **Частный.** Каждая созданная виртуальная машина использует частный IP-адрес. Вы не сможете подключиться к этой виртуальной машины напрямую из Интернета с помощью удаленного рабочего стола.

Когда в подсеть добавляется виртуальная машина с включенным общим IP-адресом, DevTest Labs автоматически добавляет виртуальную машину в подсистему балансировки нагрузки и назначает номер TCP-порта общедоступному IP-адресу, который выполняет переадресацию на порт RDP на виртуальной машине.  

## <a name="using-the-shared-ip"></a>Использование общего IP-адреса

- **Пользователи Linux.** Чтобы подключиться к виртуальной машине по протоколу SSH, введите IP-адрес или полное доменное имя, затем поставьте двоеточие и укажите номер порта. Например, на приведенном ниже рисунке таким адресом RDP для подключения к виртуальной машине является `doclab-lab13998814308000.centralus.cloudapp.azure.com:51686`.

  ![Пример виртуальной машины](media/devtest-lab-shared-ip/vm-info.png)

- **Пользователи Windows.** Нажмите кнопку **Подключить** на портале Azure, чтобы скачать предварительно настроенный RDP-файл и получить доступ к виртуальной машине.

## <a name="next-steps"></a>Дополнительная информация

* [Управление всеми политиками лаборатории в Azure DevTest Labs](devtest-lab-set-lab-policy.md)
* [Настройка виртуальной сети в Azure DevTest Labs](devtest-lab-configure-vnet.md)





