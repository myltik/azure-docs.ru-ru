---
title: Высокая доступность и надежность планировщика
description: Высокая доступность и надежность планировщика
services: scheduler
documentationcenter: .NET
author: derek1ee
manager: kevinlam1
editor: ''
ms.assetid: 5ec78e60-a9b9-405a-91a8-f010f3872d50
ms.service: scheduler
ms.workload: infrastructure-services
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 08/16/2016
ms.author: deli
ms.openlocfilehash: 7e7fe49de7814b6058468d630f8638720e5864f3
ms.sourcegitcommit: 6699c77dcbd5f8a1a2f21fba3d0a0005ac9ed6b7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/11/2017
ms.locfileid: "23039909"
---
# <a name="scheduler-high-availability-and-reliability"></a>Высокая доступность и надежность планировщика
## <a name="azure-scheduler-high-availability"></a>Высокая доступность планировщика Azure
Будучи основной службой платформы Azure, планировщик Azure отличается высокой доступностью и отличается как географически избыточным развертыванием служб, так и репликацией заданий по географическим регионам.

### <a name="geo-redundant-service-deployment"></a>Географически избыточное развертывание служб
Пользоваться планировщиком Azure можно через пользовательский интерфейс практически в любом географическом регионе, который входит в систему Azure на сегодняшний день. Список регионов, в которых доступен планировщик Azure, см. [здесь](https://azure.microsoft.com/regions/#services). Если центр обработки данных в регионе размещения отображается как недоступный, услуги планировщика Azure может предоставить другой центр обработки данных.

### <a name="geo-regional-job-replication"></a>Репликация заданий по географическим регионам
Планировщик Azure не только обеспечивает доступность внешнего интерфейса для запросов на управление, но и поддерживает репликацию ваших заданий по географическим регионам. В случае сбоя в одном регионе планировщик Azure отрабатывает отказ и обеспечивает выполнение задания из другого центра обработки данных в связанном географическом регионе.

Например, если задание создано в Южно-Центральной части США, планировщик Azure обеспечивает его автоматическую репликацию в Северо-Центральной части США. В случае сбоя в Южно-Центральной части США планировщик Azure гарантирует выполнение задания из Северо-Центральной части США. 

![][1]

Таким образом, в случае сбоя системы Azure планировщик Azure сохраняет данные в том же расширенном географическом регионе. Это значит, что вам не нужно дублировать задание, чтобы повысить его доступность: планировщик Azure обеспечивает высокий уровень доступности заданий автоматически.

## <a name="azure-scheduler-reliability"></a>Надежность планировщика Azure
Доступность самого планировщика Azure поддерживается на высоком уровне, а к созданным пользователями заданиям применяются различные методы. Например, предположим, что конечная точка HTTP, вызываемая вашим заданием, недоступна. Несмотря на это, планировщик Azure пытается выполнить задание, предлагая вам альтернативные варианты обхода этой проблемы. Ниже описаны два варианта, предлагаемых планировщиком Azure.

### <a name="configurable-retry-policy-via-retrypolicy"></a>Настройка политики повтора с помощью параметра retryPolicy
Планировщик Azure позволяет настроить политику повтора. По умолчанию при сбое задания планировщик выполняет еще четыре попытки выполнить это задание с интервалом 30 секунд. Эту политику повтора можно изменить в сторону большей или меньшей настойчивости (например, 10 попыток с интервалом 30 секунд или две попытки с интервалом в сутки).

Рассмотрим преимущество этой возможности на примере: предположим, что созданное пользователем задание выполняется один раз в неделю и включает вызов конечной точки HTTP. Если к моменту выполнения задания конечная точка HTTP не работает уже нескольких часов, то задание, скорее всего, не будет выполнено даже после применения политики повтора по умолчанию, а следующая попытка будет произведена только через неделю. Для таких случаев можно изменить стандартную политику повтора, задав выполнение повторных попыток, например, через каждые три часа (вместо 30 секунд).

Инструкции по настройке политики повтора см. в разделе [retryPolicy](scheduler-concepts-terms.md#retrypolicy).

### <a name="alternate-endpoint-configurability-via-erroraction"></a>Возможность настройки альтернативных конечных точек с помощью параметра errorAction
Если конечная точка назначения для задания планировщика Azure остается недостижимой, после применения политики повтора планировщик Azure возвращается к альтернативной конечной точке для обработки ошибок. Если для обработки ошибок настроена альтернативная конечная точка, она вызывается из планировщика Azure. Альтернативная конечная точка обеспечивает высокий уровень доступности пользовательских заданий в случае сбоя.

Например, на приведенной ниже схеме планировщик Azure, следуя своей политике повтора, вызывает веб-службу в Нью-Йорке. Когда повторная попытка не приносит успеха, он проверяет наличие альтернативной конечной точки. После этого планировщик начинает запрашивать альтернативную конечную точку, следуя той же политике возврата.

![][2]

Обратите внимание на то, что и исходное, и альтернативное действие выполняются в соответствии с одной и той же политикой повтора. Также можно сделать так, чтобы тип альтернативного действия отличался от типа основного действия. Например, если основное действие заключается в вызове конечной точки HTTP, то альтернативным может стать действие очереди хранилища, очереди служебной шины или раздела служебной шины, связанное с регистрацией ошибки.

Инструкции по настройке альтернативной конечной точки см. в разделе [errorAction](scheduler-concepts-terms.md#action-and-erroraction).

## <a name="see-also"></a>См. также
 [Что такое планировщик?](scheduler-intro.md)

 [Основные понятия, терминология и иерархия сущностей планировщика Azure](scheduler-concepts-terms.md)

 [Приступая к работе с планировщиком Azure на портале Azure](scheduler-get-started-portal.md)

 [Планы и выставление счетов в планировщике Azure](scheduler-plans-billing.md)

 [Как создавать сложные расписания и расширенное повторение с помощью планировщика Azure](scheduler-advanced-complexity.md)

 [Справочник по API REST планировщика Azure](https://msdn.microsoft.com/library/mt629143)

 [Справочник по командлетам PowerShell планировщика Azure](scheduler-powershell-reference.md)

 [Ограничения, значения по умолчанию и коды ошибок планировщика Azure](scheduler-limits-defaults-errors.md)

 [Исходящая аутентификация планировщика Azure](scheduler-outbound-authentication.md)

[1]: ./media/scheduler-high-availability-reliability/scheduler-high-availability-reliability-image1.png

[2]: ./media/scheduler-high-availability-reliability/scheduler-high-availability-reliability-image2.png
