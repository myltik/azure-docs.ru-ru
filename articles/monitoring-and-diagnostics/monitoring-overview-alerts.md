---
title: Обзор классических оповещений в Microsoft Azure и Azure Monitor | Документация Майкрософт
description: Оповещения позволяют отслеживать метрики ресурсов Azure, события или журналы и получать уведомления при выполнении заданных условий.
author: rboucher
manager: carmonm
editor: ''
services: monitoring-and-diagnostics
documentationcenter: monitoring-and-diagnostics
ms.assetid: a6dea224-57bf-43d8-a292-06523037d70b
ms.service: monitoring-and-diagnostics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/28/2018
ms.author: robb
ms.openlocfilehash: 06ba05f71cf1f696033099c04448526a0421ad42
ms.sourcegitcommit: 20d103fb8658b29b48115782fe01f76239b240aa
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/03/2018
---
# <a name="what-are-classic-alerts-in-microsoft-azure"></a>Что такое классические оповещения в Microsoft Azure?

> [!NOTE]
> В этой статье объясняется, как создавать классические оповещения метрик прежней версии. Azure Monitor теперь поддерживает [новые оповещения метрик практически в реальном времени](monitoring-overview-unified-alerts.md).
>

В этой статье рассматриваются различные источники оповещений в Microsoft Azure, назначение этих оповещений и их преимущества, а также описывается, как приступить к работе с ними. В частности, в ней рассматриваются классические оповещения Azure Monitor. Оповещения предоставляют методы мониторинга в Azure, они позволяют настроить условия для данных и получать уведомления, когда последние данные мониторинга соответствуют этим условиям.


## <a name="taxonomy-of-azure-monitor-classic-alerts"></a>Классификация классических оповещений Azure Monitor
Для описания классических оповещений и их функций в Azure используются следующие термины.
* **Оповещение**. Определение условий (одно или несколько правил либо условий), которое активируется при соблюдении этих условий.
* **Активное**. Состояние, когда выполняются условия, определенные в классическом оповещении.
* **Разрешено**. Состояние, когда условия классического оповещения больше не выполняются после того, как они были выполнены.
* **Уведомление**. Действие, которое выполняется при активации классического оповещения.
* **Действие**. Определенный вызов, отправляемый получателю уведомления (например, отправка сообщения на электронный адрес или передача данных на URL-адрес веб-перехватчика). Обычно уведомления могут активировать несколько действий.


## <a name="alerts-on-azure-monitor-data"></a>Оповещения для данных Azure Monitor
Существуют три типа оповещений для данных Azure Monitor: оповещения метрик, оповещения метрик практически в реальном времени и оповещения журнала действий.

* **Классические оповещения метрик**. Это оповещение активируется, когда значение указанной метрики выходит за рамки заданного порога. Оповещение формирует уведомление, когда переходит в активное состояние (т. е. когда значение метрики выходит за пределы порога и выполнены условия оповещения) и когда переходит в разрешенное состояние (т. е. когда значение метрики снова соответствует порогу и условие больше не выполняется). Это более старые оповещения метрик. Сведения о новых оповещениях см. ниже.

* **Метрики оповещений практически в реальном времени** (новый интерфейс оповещений). Это новое поколение оповещений метрик с улучшенными возможностями по сравнению с предыдущей версией. Эти оповещения могут генерироваться с интервалом в 1 минуту. Они также поддерживают отслеживание нескольких метрик (сейчас только двух).  Оповещение формирует уведомление, когда переходит в активное состояние (т. е. когда значения каждой метрики одновременно выходят за пределы порогового значения и выполнены условия оповещения) и когда переходит в разрешенное состояние (т. е. когда значение метрики снова выходит за пределы порогового значения и условие больше не выполняется).

* **Классические оповещения журнала действий**. Оповещение журнала потоковой передачи, которое активируется, когда создается событие журнала действий, соответствующее настроенным условиям фильтров. Эти предупреждения имеют только одно состояние, "Активировано", так как обработчик оповещений просто применяет условия фильтра к любому новому событию. Данные оповещения могут использоваться для получения уведомлений, когда возникает новый инцидент службы работоспособности или когда пользователь или приложение выполняет какую-либо операцию в подписке, например "Удаление виртуальной машины".

Мы рекомендуем перенаправлять данные журнала диагностики, доступные в Azure Monitor, в Log Analytics и использовать оповещения Log Analytics. На следующей диаграмме показаны источники данных в Azure Monitor и принципы создания оповещений на их основе.

![Работа с оповещениями](./media/monitoring-overview-alerts/Alerts_Overview_Resource_v4.png)

## <a name="how-do-i-receive-a-notification-on-an-azure-monitor-classic-alert"></a>Как получить уведомление о классическом оповещении Azure Monitor?
Исторически так сложилось, что оповещения Azure от различных служб использовали собственные встроенные методы уведомления. На будущее Azure Monitor предлагает возможность группирования многократно используемых уведомлений с помощью групп действий. Группы действий позволяют указать получателей уведомлений (любое количество адресов электронной почты, номеров телефонов (для рассылки SMS) или URL-адресов веб-перехватчиков), и каждый раз при активации оповещения, в котором указана группа действий, все получатели получают соответствующее уведомление. Это позволяет многократно использовать группы получателей (например, список дежурных инженеров) для многих объектов оповещений. В настоящее время группы действий используются только оповещениями журнала действий, но находится в разработке расширение этой возможности на еще несколько типов оповещений Azure.

Помимо рассылки на адреса электронной почты и номера телефонов для SMS, группы действий поддерживают уведомление путем передачи данных на URL-адрес веб-перехватчика. Это позволяет автоматизировать работу и вносить исправления, например с помощью:
    - Runbook службы автоматизации Azure
    - функции Azure;
    - Приложение логики Azure
    - сторонней службы.

Оповещения метрик практически в реальном времени и оповещения журналов действий используют группы действий.

Более старые оповещения метрик, доступные в списке оповещений (классических), не используют группы действий. Для отдельного оповещения метрики можно настроить уведомления о следующих событиях:
* отправка уведомлений по электронной почте администратору службы, соадминистраторам или на дополнительные электронные адреса, указанные вами;
* вызов webhook, который позволяет запускать дополнительные автоматизированные действия.

## <a name="next-steps"></a>Дополнительная информация
Изучите правила создания оповещений и ознакомьтесь с их настройкой с помощью следующих средств:

* Узнайте больше о [метриках](monitoring-overview-metrics.md).
* Настройте [оповещения метрик на портале Azure](insights-alerts-portal.md).
* Настройте [классические оповещения метрик с помощью PowerShell](insights-alerts-powershell.md).
* Настройте [классические оповещения метрик с помощью интерфейса командной строки](insights-alerts-command-line-interface.md).
* Настройте [классические оповещения метрик с помощью REST API Azure Monitor](https://msdn.microsoft.com/library/azure/dn931945.aspx).
* Узнайте больше о [журнале действий](monitoring-overview-activity-logs.md).
* Настройте [оповещения журнала действий на портале Azure](monitoring-activity-log-alerts.md).
* Настройте [оповещения журнала действий с помощью Resource Manager](monitoring-create-activity-log-alerts-with-resource-manager-template.md).
* Просмотрите [схему webhook оповещений журнала действий](monitoring-activity-log-alerts-webhook.md).
* См. дополнительные сведения о [новых оповещениях метрик](monitoring-near-real-time-metric-alerts.md).
* Узнайте больше об [уведомлениях службы](monitoring-service-notifications.md).
* Узнайте больше о [группах действий](monitoring-action-groups.md).
* Настройте [оповещения](monitor-alerts-unified-usage.md).
