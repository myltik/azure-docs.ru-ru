---
title: Подготовка к публикации или развертыванию облачной службы из Visual Studio | Документация Майкрософт
description: Узнайте, как создавать облачные службы и учетные записи хранения, а также настраивать приложения Azure.
services: visual-studio-online
author: ghogen
manager: douge
ms.assetid: 92ee2f9e-ec49-4c7a-900d-620abe5e9d8a
ms.prod: visual-studio-dev15
ms.technology: vs-azure
ms.workload: azure
ms.topic: conceptual
ms.date: 11/10/2017
ms.author: ghogen
ms.openlocfilehash: 7656f0ea7ddc283d430eacdccb60a1a2df6e3b70
ms.sourcegitcommit: fa493b66552af11260db48d89e3ddfcdcb5e3152
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2018
ms.locfileid: "31798987"
---
# <a name="prepare-to-publish-or-deploy-a-cloud-service-from-visual-studio"></a>Подготовка к публикации или развертыванию облачной службы из Visual Studio

Чтобы опубликовать проект облачной службы, необходимо настроить следующие службы, как описано в этой статье.

* **Облачная служба.** Отвечает за работу ролей в среде Azure. 
* **Учетная запись хранения**. Предоставляет доступ к службам больших двоичных объектов, очередей и таблиц.

## <a name="create-a-cloud-service"></a>Создание облачной службы

Облачная служба отвечает за работу ролей в среде Azure. Как описано в следующих разделах, облачную службу можно создать в Visual Studio или с помощью [портала Azure](https://portal.azure.com/).

### <a name="create-a-cloud-service-from-visual-studio"></a>Создание облачной службы в Visual Studio

1. Щелкните созданный ранее проект облачной службы правой кнопкой мыши и выберите **Опубликовать**.
1. При необходимости войдите с использованием учетной записи Майкрософт или организационной учетной записи, связанной с подпиской Azure, выберите **Далее** для перехода к странице **Параметры**.
1. Откроется диалоговое окно **Создание облачной службы и учетной записи хранилища** (в противном случае выберите **Создать** из списка**Облачная служба**).
1. Введите уникальное имя облачной службы без учета регистра, которое входит в состав URL-адреса. Кроме того, выберите регион или территориальную группу и параметр репликации.

### <a name="create-a-cloud-service-through-the-azure-portal"></a>Создание облачной службы на портале Azure

1. Войдите на [портале Azure](https://portal.azure.com/).
1. В левой части страницы выберите **Облачные службы (классические)**.
1. Выберите **+ Добавить**, а затем введите необходимые сведения (DNS-имя, подписку, группу ресурсов и расположение). В этот момент не требуется отправлять пакет, так как это будет сделано в Visual Studio позже.
1. Чтобы завершить процесс, выберите **Создать**.

## <a name="create-a-storage-account"></a>Создайте учетную запись хранения.

Учетная запись хранения предоставляет доступ к службам BLOB-объектов, очередей и таблиц. Учетную запись хранения можно создать с помощью Visual Studio или [портала Azure](https://portal.azure.com/).

### <a name="create-a-storage-account-from-visual-studio"></a>Создание учетной записи хранения в Visual Studio

1. Выбрав ранее созданный проект облачной службы, в **обозревателе решений** найдите в роли проекта узел **Подключенные службы** , а затем щелкните правой кнопкой мыши и выберите **Добавить подключенную службу**. (В Visual Studio 2015 щелкните правой кнопкой мыши узел **Хранилище**, а затем выберите **Создание учетной записи хранилища**.)
1. В появившемся списке **Подключенные службы** выберите **Облачное хранилище со службой хранилища Azure**.
1. В появившемся диалоговом окне службы хранилища Azure выберите **+ Создать учетную запись хранения**. После этого откроется диалоговое окно, в котором можно указать свою подписку, ее имя, ценовую категорию, группу ресурсов и расположение.
1. После завершения работы выберите **Создать**. Учетная запись хранения появится в списке доступных учетных записей хранения в вашей подписке.
1. Выделите учетную запись и выберите **Добавить**.

### <a name="create-a-storage-account-through-the-azure-portal"></a>Создание учетной записи хранения с помощью портала Azure

1. Войдите на [портале Azure](https://portal.azure.com/).
1. Сверху слева выберите **+ Создать**.
1. В разделе Azure Marketplace выберите **Хранилище**, а затем справа выберите**Учетная запись хранения — BLOB-объект, файл, таблица, очередь**.
1. Введите требуемые сведения (имя, модель развертывания и т. д.).
1. Чтобы завершить процесс, выберите **Создать**.

## <a name="configure-your-app-to-use-the-storage-account"></a>Настройка приложения для использования учетной записи хранения

Если подключиться к учетной записи хранения из Visual Studio после ее создания, конфигурации служб для проекта, включая URL-адреса и ключи доступа, автоматически обновятся.

Если при создании облачной службы из Visual Studio использовался пункт **Добавить подключенную службу**, можно проверить соединения, открыв файлы `ServiceConfiguration.Cloud.cscfg` и `ServiceConfiguration.Local.cscfg`.

Создав облачную службу с помощью портала Azure, выполните действия из раздела [Создание учетной записи хранения в Visual Studio](#create-a-storage-account-from-visual-studio), но не создавайте учетную запись, а выберите имеющуюся. Затем в Visual Studio будет обновлена конфигурация.

Чтобы настроить параметры вручную, используйте страницы свойств в Visual Studio для применимой роли в проекте облачной службы (щелкните роль правой кнопкой мыши и выберите **Свойства**). Дополнительную информацию см. в разделе [Настройка строки подключения к учетной записи хранения](https://docs.microsoft.com/azure/vs-azure-tools-multiple-services-project-configurations#configuring-a-connection-string-to-a-storage-account).

### <a name="about-access-keys"></a>О ключах доступа

На портале Azure показаны URL-адреса, которые можно использовать для работы с ресурсами в каждой из служб хранилища Azure, а также первичный и вторичный ключи доступа для вашей учетной записи. Эти ключи используются для проверки подлинности запросов к службам хранилища.

Вторичный ключ доступа выполняет те же функции, что и первичный. Он создается как запасной на случай, если первичный ключ будет скомпрометирован. Мы рекомендуем регулярно создавать новые ключи доступа. На момент повторного создания первичного ключа в строке подключения укажите вторичный ключ. Когда будет получен новый первичный ключ, укажите его в строке подключения и создайте новый вторичный ключ.

## <a name="next-steps"></a>Дополнительная информация

Дополнительные сведения о публикации приложений в Azure из Visual Studio см. в статье [Публикация облачной службы с помощью инструментов Azure](vs-azure-tools-publishing-a-cloud-service.md).
