---
title: Активация подключения к удаленному рабочему столу для роли в облачных службах Azure | Документация Майкрософт
description: Настройка приложения в облачной службе Azure для удаленного подключения.
services: cloud-services
documentationcenter: ''
author: mmccrory
manager: timlt
editor: ''
ms.assetid: 73ea1d64-1529-4d72-b58e-f6c10499e6bb
ms.service: cloud-services
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 11/28/2016
ms.author: mmccrory
ms.openlocfilehash: 2169fd95f51b468770a2e1e4c185d493babf220f
ms.sourcegitcommit: a0be2dc237d30b7f79914e8adfb85299571374ec
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/12/2018
ms.locfileid: "29877370"
---
# <a name="enable-remote-desktop-connection-for-a-role-in-azure-cloud-services"></a>Включение подключения к удаленному рабочему столу для роли в облачных службах Azure

> [!div class="op_single_selector"]
> * [портал Azure](cloud-services-role-enable-remote-desktop-new-portal.md)
> * [PowerShell](cloud-services-role-enable-remote-desktop-powershell.md)
> * [Visual Studio](cloud-services-role-enable-remote-desktop-visual-studio.md)

С помощью удаленного рабочего стола обеспечивается доступ к рабочему столу экземпляра, работающего в Azure. Подключение к удаленному рабочему столу позволяет диагностировать и устранять неполадки выполняющегося приложения.

Во время разработки можно разрешить подключения к удаленному рабочему столу для роли, включив модули удаленного рабочего стола в определение службы или включив удаленный рабочий стол с помощью расширения удаленного рабочего стола. Рекомендуется использовать расширение удаленного рабочего стола, так как удаленный рабочий стол можно включить даже после развертывания приложения без необходимости повторного развертывания приложения.

## <a name="configure-remote-desktop-from-the-azure-portal"></a>Настройка удаленного рабочего стола на портале Azure

На портале Azure используется подход с расширением удаленного рабочего стола, поэтому удаленный рабочий стол можно включить даже после развертывания приложения. В разделе параметров **Удаленный рабочий стол** облачной службы можно включить удаленный рабочий стол, изменить учетную запись локального администратора для подключения к виртуальным машинам, выбрать сертификат для аутентификации, а также установить срок его действия.

1. Щелкните **Облачные службы**, выберите имя облачной службы, а затем — **Удаленный рабочий стол**.

    ![Удаленный рабочий стол в облачных службах](./media/cloud-services-role-enable-remote-desktop-new-portal/CloudServices_Remote_Desktop.png)

2. Включите удаленный рабочий стол для отдельной или для всех ролей, а затем установите переключатель в положение **Включено**.

3. Введите в соответствующих полях имя пользователя, пароль, срок действия и сертификат.

    ![Удаленный рабочий стол в облачных службах](./media/cloud-services-role-enable-remote-desktop-new-portal/CloudServices_Remote_Desktop_Details.png)

   > [!WARNING]
   > Если включить удаленный рабочий стол и нажать кнопку **ОК** (флажок), все экземпляры роли будут перезапущены. Если в роли установлен сертификат для шифрования пароля, перезапуск не производится. Чтобы не выполнять перезапуск, [загрузите сертификат для облачной службы](cloud-services-configure-ssl-certificate-portal.md#step-3-upload-a-certificate) и вернитесь в диалоговое окно.

4. В разделе **Роли** выберите роль, которую требуется обновить, или щелкните **Все**, чтобы задать все роли.

5. По завершении обновления настроек нажмите кнопку **Сохранить**. Активация возможности принимать подключения для роли может занять несколько минут.

## <a name="remote-into-role-instances"></a>Удаленное подключение к экземплярам ролей

После включения удаленного рабочего стола для роли вы можете инициировать подключение непосредственно с портала Azure.

1. Щелкните **Экземпляры**, чтобы открыть раздел параметров **Экземпляры**.
2. Выберите экземпляр роли, где настроен удаленный рабочий стол.
3. Щелкните **Подключиться**, чтобы скачать RDP-файл для экземпляра роли.

    ![Удаленный рабочий стол в облачных службах](./media/cloud-services-role-enable-remote-desktop-new-portal/CloudServices_Remote_Desktop_Connect.png)

4. Щелкните **Открыть**, а затем — **Подключить**, чтобы установить подключение к удаленному рабочему столу.

>[!NOTE]
> Если облачная служба защищена NSG, может потребоваться создать правила, разрешающие передачу трафика через порты **3389** и **20000**.  Удаленный рабочий стол использует порт **3389**.  В экземплярах облачной службы реализована балансировка нагрузки, поэтому вы не можете напрямую управлять подключением к экземпляру.  Агенты *RemoteForwarder* и *RemoteAccess* управляют трафиком RDP и позволяют клиенту отправлять файлы cookie по RDP и указывать отдельный экземпляр для подключения.  Агентам *RemoteForwarder* и *RemoteAccess* требуется, чтобы порт **20000*** был открыт. При использовании группы безопасности сети он может быть заблокирован.

## <a name="additional-resources"></a>Дополнительные ресурсы

[Настройка облачных служб](cloud-services-how-to-configure-portal.md)
