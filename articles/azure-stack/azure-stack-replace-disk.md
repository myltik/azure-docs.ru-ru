---
title: "Замена физического диска в Azure Stack | Документация Майкрософт"
description: "Описание процесса замены физического диска в Azure Stack."
services: azure-stack
documentationcenter: 
author: mattbriggs
manager: femila
editor: 
ms.assetid: 449ae53e-b951-401a-b2c9-17fee2f491f1
ms.service: azure-stack
ms.workload: na
pms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 09/25/2017
ms.author: mabrigg
ms.openlocfilehash: a95617a8dd2a8f296164c672e2b4b2628574ce5a
ms.sourcegitcommit: a5f16c1e2e0573204581c072cf7d237745ff98dc
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/11/2017
---
# <a name="replace-a-physical-disk-in-azure-stack"></a>Замена физического диска в Azure Stack

*Область применения: интегрированные системы Azure Stack и Пакет средств разработки Azure Stack*

В этой статье описывается общий процесс замены физического диска в Azure Stack. Если физический диск выйдет из строя, его следует как можно скорее заменить.

Эту процедуру можно использовать для интегрированных систем, а также для развертываний пакета SDK, содержащих диски с возможностью оперативной замены.

Фактические шаги по замене диска будут варьироваться в зависимости от поставщика изготовителя оборудования (OEM). Подробные инструкции, относящиеся к вашей системе, см. в документации поставщика по элементам, заменяемым в условиях эксплуатации (FRU). 

## <a name="review-disk-alert-information"></a>Просмотр сведений оповещения о диске
Когда диск выходит из строя, вы получаете оповещение о том, что соединение с физическим диском потеряно. 

 ![Оповещение, показывающее потерянное соединение с физическим диском](media/azure-stack-replace-disk/DiskAlert.png)

Если открыть оповещение, в его описании будет содержаться узел единицы масштабирования и точное расположение физического слота диска, который необходимо заменить. Azure Stack дополнительно помогает идентифицировать неисправный диск, используя возможности светодиодного индикатора.

 ## <a name="replace-the-disk"></a>Замена диска

Следуйте инструкциям по FRU вашего поставщика OEM для фактической замены диска.

Чтобы предотвратить использование неподдерживаемого диска в интегрированной системе, система блокирует диски, которые не поддерживаются вашим поставщиком. Если вы пытаетесь использовать неподдерживаемый диск, новое предупреждение сообщит вам, что диск был помещен на карантин из-за неподдерживаемой модели или встроенного ПО.

После замены диска Azure Stack автоматически обнаруживает новый диск и начинает процесс восстановления виртуального диска.  
 
 ## <a name="check-the-status-of-virtual-disk-repair"></a>Проверка состояния восстановления виртуального диска
 
 После замены диска можно отслеживать состояние работоспособности виртуального диска и ход выполнения задания восстановления с помощью привилегированной конечной точки. Выполните следующие шаги с любого компьютера с сетевым подключением к привилегированной конечной точке.

1. Откройте сеанс Windows PowerShell и подключитесь к привилегированной конечной точке.
    ````PowerShell
        $cred = Get-Credential
        Enter-PSSession -ComputerName <IP_address_of_ERCS>`
          -ConfigurationName PrivilegedEndpoint -Credential $cred
    ```` 
  
2. Выполните следующую команду, чтобы просмотреть состояние работоспособности виртуального диска:
    ````PowerShell
        Get-VirtualDisk -CimSession s-cluster
    ````
   ![Выходные данные команды PowerShell Get-VirtualDisk](media/azure-stack-replace-disk/GetVirtualDiskOutput.png)

3. Чтобы просмотреть текущее состояние задания хранилища, выполните следующую команду:
    ```PowerShell
        Get-VirtualDisk -CimSession s-cluster | Get-StorageJob
    ````
      ![Выходные данные команды PowerShell Get-StorageJob](media/azure-stack-replace-disk/GetStorageJobOutput.png)

## <a name="troubleshoot-virtual-disk-repair"></a>Устранение неисправностей виртуального диска

Если задание восстановления виртуального диска не отвечает, выполните следующую команду, чтобы перезапустить задание:
  ````PowerShell
        Get-VirtualDisk -CimSession s-cluster | Repair-VirtualDisk
  ```` 
