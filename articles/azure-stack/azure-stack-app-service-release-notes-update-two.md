---
title: Заметки о выпуске обновления 2 для службы приложений в Azure Stack | Документация Майкрософт
description: Узнайте о том, что находится в пакете обновления 2 службы приложений в Azure Stack, об известных проблемах и откуда скачать обновление.
services: azure-stack
documentationcenter: ''
author: apwestgarth
manager: stefsch
editor: ''
ms.assetid: ''
ms.service: azure-stack
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/18/2018
ms.author: anwestg
ms.reviewer: brenduns
ms.openlocfilehash: 8e1790b7d0b3a210a9142fc8580ff8ed4d64311c
ms.sourcegitcommit: b6319f1a87d9316122f96769aab0d92b46a6879a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/20/2018
ms.locfileid: "34360460"
---
# <a name="app-service-on-azure-stack-update-2-release-notes"></a>Служба приложений в заметках о выпуске обновления 2 Azure Stack

*Область применения: интегрированные системы Azure Stack и Пакет средств разработки Azure Stack*

В этих заметках о выпуске описываются улучшения и исправления в обновлении 2 службы приложений Azure в Azure Stack и известные проблемы. Известные проблемы можно разделить на проблемы, которые непосредственно относятся к процессу развертывания, обновления, и проблемы со сборкой (после установки).

> [!IMPORTANT]
> Прежде чем развертывать Cлужбу приложений Azure, примените обновление 1804 к интегрированной системе Azure Stack или разверните последний пакет средств разработки Azure Stack.
>
>

## <a name="build-reference"></a>Указание сборки

Номер сборки обновления 2 службы приложений в Azure Stack — **72.0.13698.10**.

### <a name="prerequisites"></a>предварительным требованиям

> [!IMPORTANT]
> Теперь для новых развертываний службы приложений Azure в Azure Stack нужен [трехсубъектный групповой сертификат](azure-stack-app-service-before-you-get-started.md#get-certificates). Это связано с улучшением обработки единого входа для Kudu в службе приложений Azure. Новый субъект — **\*.sso.appservice.\<регион\>.\<доменное_имя\>.\<расширение\>**
>
>

Перед началом развертывания ознакомьтесь со статьей [Подготовка к работе со службой приложений в Azure Stack](azure-stack-app-service-before-you-get-started.md).

### <a name="new-features-and-fixes"></a>Новые функции и исправления

Обновление 2 службы приложений Azure в Azure Stack включает в себя следующие улучшения и исправления.

- Обновления для **клиента, администратора службы приложений, портала функций и средств Kudu**. Согласованы с версией пакета SDK для портала Azure Stack.

- Обновления основной службы для повышения надежности и отображения сообщений об ошибках упрощают диагностику распространенных проблем.

- **Реализованы обновления следующих исполняющих сред и инструментов**:
  - Добавлена платформа .NET Framework 4.7.1
  - Добавлены такие версии **Node.JS**:
    - NodeJS 6.12.3
    - NodeJS 8.9.4
    - NodeJS 8.10.0
    - NodeJS 8.11.1
  - Добавлены такие версии **NPM**:
    - 5.6.0
  - Обновлены компоненты .Net Core для согласования со Службой приложений Azure в общедоступном облаке.
  - Обновлен компонент Kudu

- Включена функция автоматического переключения слотов развертывания: [Настройка автоматического переключения](https://docs.microsoft.com/azure/app-service/web-sites-staged-publishing#configure-auto-swap).

- Включено тестирование в рабочей среде: [Introduction to Azure Websites Testing in Production with Galin Iliev](https://azure.microsoft.com/resources/videos/introduction-to-azure-websites-testing-in-production-with-galin-iliev/) (Введение в тестирование веб-сайтов Azure в рабочей среде. Автор: Галин Илиев).

- Включена функция "Прокси-серверы Функций Azure": [Работа с функцией "Прокси-серверы Функций Azure"](https://docs.microsoft.com/en-us/azure/azure-functions/functions-proxies).

- Добавлена поддержка пользовательского интерфейса расширения для администрирования службы приложений для:
  - смены секретов;
  - смены сертификатов;
  - смены учетных данных системы;
  - смены строк подключения.

### <a name="known-issues-post-installation"></a>Известные проблемы (после установки)

- Рабочим ролям не удается связаться с файловым сервером, если служба приложений развернута в существующей виртуальной сети и файловый сервер доступен только в частной сети.

Если вы решили выполнить развертывание в существующей виртуальной сети с использованием внутреннего IP-адреса для подключения к файловому серверу, необходимо добавить правило безопасности для исходящего трафика, разрешающее передачу трафика SMB между подсетью рабочей роли и файловым сервером. Для этого перейдите к группе безопасности сети WorkersNsg на портале администрирования и добавьте правило безопасности для исходящего трафика со следующими свойствами.
 * Источник: "Любой".
 * Диапазон исходных портов: *.
 * Назначение: "IP-адреса".
 * Диапазон IP-адресов назначения: диапазон IP-адресов вашего файлового сервера.
 * Диапазон конечных портов: 445.
 * Протокол: TCP.
 * Действие: "Разрешить".
 * Приоритет: 700.
 * Имя: Outbound_Allow_SMB445.

### <a name="known-issues-for-cloud-admins-operating-azure-app-service-on-azure-stack"></a>Известные проблемы для облачных администраторов, работающих со службой приложений Azure в Azure Stack

Обратитесь к документации в разделе [Обновление 1804 для Azure Stack](azure-stack-update-1804.md).

## <a name="next-steps"></a>Дополнительная информация

- Обзор службы приложений Azure в Azure Stack см. в [этой статье](azure-stack-app-service-overview.md).
- Дополнительные сведения о том, как подготовиться к развертыванию службы приложений Azure в Azure Stack, см. в разделе [Подготовка к работе со службой приложений в Azure Stack](azure-stack-app-service-before-you-get-started.md).
