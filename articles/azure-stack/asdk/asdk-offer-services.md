---
title: Руководство по созданию предложения Azure Stack | Документация Майкрософт
description: Узнайте, как создать предложение Azure Stack, включая планы и квоты.
services: azure-stack
documentationcenter: ''
author: jeffgilb
manager: femila
editor: ''
ms.assetid: ''
ms.service: azure-stack
ms.workload: na
pms.tgt_pltfrm: na
ms.devlang: na
ms.topic: tutorial
ms.custom: mvc
ms.date: 03/27/2018
ms.author: jeffgilb
ms.reviewer: misainat
ms.openlocfilehash: 8bcc2f3077e79ff83ac2e90db0bb0fa53ae83adc
ms.sourcegitcommit: 20d103fb8658b29b48115782fe01f76239b240aa
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/03/2018
---
# <a name="tutorial-offer-azure-stack-iaas-services"></a>Руководство. Создание предложений служб IaaS для Azure Stack
Администратор облака Azure Stack может создавать предложения для пользователей (клиентов), на которые они смогут подписаться. Подписка позволяет пользователям работать со службами Azure Stack.

В этом руководстве объясняется, как создать предложение, чтобы пользователи могли создавать виртуальные машины на основе образа Windows Server 2016 Datacenter из Azure Stack Marketplace, загруженном при работе с [предыдущим руководством](asdk-marketplace-item.md).

Из этого руководства вы узнаете, как выполнять такие задачи:

> [!div class="checklist"]
> * Создание предложения
> * Создание плана
> * Настройка квот
> * Предоставление общего доступа к предложению

В Azure Stack службы доставляются пользователям с помощью подписок, предложений и планов. Пользователи могут подписаться на несколько предложений. В предложении может быть один или несколько планов, а в плане может быть одна или несколько служб, как показано на следующей схеме:

![Подписки, предложения и планы](media/asdk-offer-services/sop.png)

Сначала оператор Azure Stack, который предлагает службы, создает предложение, затем определяет план и квоты. Когда предложение будет создано, пользователи Azure Stack смогут подписаться на него через пользовательский портал.

## <a name="create-an-offer"></a>Создание предложения
**Предложения** — это группы, содержащие один или несколько планов, которые операторы Azure Stack предлагают пользователям купить (подписаться на них).

1. Войдите на [портал Azure Stack](https://adminportal.local.azurestack.external) с учетной записью администратора облака.

2. Выберите **Создать** > **Предложения и планы** > **Предложение**.

   ![Новое предложение](media/asdk-offer-services/new-offer.png)

2. В разделе **Новое предложение** заполните поля **Отображаемое имя** и **Имя ресурса**, а затем выберите новую или существующую **группу ресурсов**. Отображаемое имя — это общедоступное понятное имя плана, которое отображается для пользователей. Только оператор облака может видеть имя ресурса, которое администраторы используют для работы с предложением в качестве ресурса Azure Resource Manager.

   ![Отображаемое имя](media/asdk-offer-services/offer-display-name.png)


## <a name="create-a-plan"></a>Создание плана
Когда вы введете основные сведения о предложении, добавьте в него хотя бы один базовый план. 

**Планы** позволяют операторам Azure Stack группировать службы и связанные с ними квоты, чтобы предложить их пользователям.

1. Выберите **Базовые планы**, а затем в разделе **План** щелкните **Добавить**, чтобы добавить в предложение новый план.

   ![Добавление плана](media/asdk-offer-services/new-plan.png)

2. В колонке **Создать план** заполните поля **Отображаемое имя** и **Имя ресурса**. Отображаемое имя — это понятное имя плана, которое отображается для пользователей. Только оператор облака может видеть имя ресурса. Это имя операторы облака используют для работы с планом в качестве ресурса Azure Resource Manager.

   ![Отображаемое имя плана](media/asdk-offer-services/plan-display-name.png)

3. Выберите службы, которые нужно включить в план. Чтобы предложить службы IaaS, щелкните **Службы**, выберите **Microsoft.Compute**, **Microsoft.Network** и **Microsoft.Storage**, а затем нажмите кнопку **Выбрать**.

   ![Службы плана](media/asdk-offer-services/select-services.png)


## <a name="set-quotas"></a>Настройка квот
Теперь, когда предложение содержит план со службами, необходимо задать квоты для каждой из них. 

**Квоты** определяют объем ресурсов, который пользователи могут использовать, для каждой службы в предлагаемом плане.

1. Щелкните **Квоты** и выберите службу, для которой нужно создать квоту. 

   Сначала создайте квоту для службы вычислений. В списке пространств имен выберите **Microsoft.Compute** и щелкните **Создание квоты**.
   
   ![Создание квоты](media/asdk-offer-services/create-quota.png)

2. В разделе **Создание квоты** введите имя квоты, настройте параметры и нажмите кнопку **ОК**.

   ![Имя квоты](media/asdk-offer-services/quota-properties.png)

3. Выберите созданную квоту для службы **Microsoft.Compute**.

   ![Выбор квоты](media/asdk-offer-services/set-quota.png)

4. Повторите шаги 1–3, чтобы установить квоты для сетевой службы и службы хранилища, затем нажмите кнопку "ОК" в разделе "Квоты". После этого нажмите кнопку **ОК** в разделе **Создать план**, чтобы завершить настройку плана. 

   ![Все установленные квоты](media/asdk-offer-services/all-quotas-set.png)

5. Завершите создание предложения, щелкнув **Создать** в разделе "План". Если предложение успешно создано, отобразится уведомление и предложение появится в списке как доступное.

   ![Созданное предложение](media/asdk-offer-services/offer-complete.png)

## <a name="set-offer-to-public"></a>Предоставление общего доступа к предложению
Предложения должны быть общедоступными, чтобы при подписке пользователи могли получить сведения о них. 

Предложения могут быть:
- **Общедоступное**. Видно всем пользователям.
- **Частное**. Видно только администраторам облака. Полезно при разработке плана или предложения, или если администратор облака хочет создать каждую подписку для пользователей.
- **Списано**. Закрыто для новых подписчиков. Администратор облака может использовать списание, чтобы предотвратить будущие подписки без влияния на текущих подписчиков предложения.

> [!TIP]
> Изменения, вносимые в предложение, видны пользователям не сразу. Для отображения изменений может потребоваться выйти с [пользовательского портала](https://portal.local.azurestack.external) и снова войти на него, чтобы увидеть новое предложение.

Чтобы сделать новое предложение общедоступным, выполните следующие действия: 
   - 1803 и более поздние версии. 
     1. В меню панели мониторинга щелкните **Предложения** и выберите только что созданное предложение.

     2. Щелкните **Состояние доступности** и выберите вариант **Общедоступно**.

        ![Изменение состояния](media/asdk-offer-services/change-state.png)

     3. Теперь предложение будет доступно на пользовательском портале Azure Stack.


   - Версии ниже 1803.  
     1. В меню панели мониторинга щелкните **Предложения** и выберите только что созданное предложение.

     2. Щелкните **Изменить состояние** и выберите вариант **Общедоступно**.

        ![Общедоступное состояние](media/asdk-offer-services/set-public.png)

     3. Теперь предложение будет доступно на пользовательском портале Azure Stack.

## <a name="next-steps"></a>Дополнительная информация

Из этого руководства вы узнали, как выполнить следующие задачи:

> [!div class="checklist"]
> * Создание предложения
> * Создание плана
> * Настройка квот
> * Предоставление общего доступа к предложению

Перейдите к следующему руководству, чтобы узнать, как подписаться на только что созданное предложение от имени пользователя Azure Stack.

> [!div class="nextstepaction"]
> [Подписка на предложение](asdk-subscribe-services.md)