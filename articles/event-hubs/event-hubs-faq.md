---
title: Часто задаваемые вопросы о концентраторах событий Azure | Документация Майкрософт
description: Часто задаваемые вопросы о концентраторах событий Azure
services: event-hubs
documentationcenter: na
author: sethmanheim
manager: timlt
editor: ''
ms.assetid: bfa10984-eb22-4671-861a-f377a90d9372
ms.service: event-hubs
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 01/30/2018
ms.author: sethm
ms.openlocfilehash: 8a30b8cb92b98606ca3d859ada329b8301806b10
ms.sourcegitcommit: c52123364e2ba086722bc860f2972642115316ef
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/11/2018
---
# <a name="event-hubs-frequently-asked-questions"></a>Часто задаваемые вопросы о концентраторах событий

## <a name="general"></a>Общие сведения

### <a name="what-is-the-difference-between-event-hubs-basic-and-standard-tiers"></a>Какова разница между концентраторами событий базового и стандартного уровня?

Концентраторы событий ценовой категории "Стандартный" предоставляют функции, недоступные для категории "Базовый". Ценовая категория "Стандартный" включает в себя следующие функции:
* более длительное хранение событий;
* дополнительные подключения через брокер с оплатой избыточных событий в случае превышения установленного количества;
* возможность использования нескольких групп потребителей;
* [возможность использования функции записи](https://docs.microsoft.com/azure/event-hubs/event-hubs-capture-overview).

Дополнительные сведения о ценовых категориях, включая концентраторы событий уровня Dedicated, см. на странице [цен на концентраторы событий](https://azure.microsoft.com/pricing/details/event-hubs/).

### <a name="what-are-event-hubs-throughput-units"></a>Что такое единицы пропускной способности концентраторов событий?

Вам необходимо явно выбрать единицы пропускной способности концентраторов событий либо с помощью портала Azure, либо с помощью шаблонов Resource Manager концентраторов событий. Единицы действуют для всех концентраторов событий в пространстве имен концентраторов событий, и каждая единица пропускной способности дает пространству имен следующие возможности.

* До 1 МБ в секунду входящих событий (событий, отправленных в концентратор событий), но не более 1000 входящих событий, операций управления или контролирующих вызовов API в секунду.
* До 2 МБ в секунду исходящих событий (событий, полученных от концентратора событий).
* До 84 ГБ хранилища событий (достаточно для срока хранения по умолчанию в 24 часа).

Единицы пропускной способности концентраторов событий тарифицируются по часам на основе максимального числа единиц, выбранного в течение заданного часа. Вы можете автоматически [увеличивать число единиц пропускной способности](event-hubs-auto-inflate.md) по мере роста использования ресурсов.

### <a name="how-are-event-hubs-throughput-unit-limits-enforced"></a>Как применяются ограничения единиц пропускной способности концентраторов событий?
Если общая входящая пропускная способность или общий коэффициент входящих событий во всех концентраторах событий в пространстве имен превышает суммарные ограничения по единицам, отправители регулируются и получают ошибки, указывающие на превышение квоты входящих сообщений.

Если общая исходящая пропускная способность или общий коэффициент исходящих событий во всех концентраторах событий в пространстве имен превышает суммарные ограничения по единицам, получатели будут регулироваться и получать ошибки, указывающие на превышение квоты исходящих сообщений. Квоты на входящие и исходящие сообщения применяются независимо, поэтому отправитель не может стать причиной замедления получения событий, а получатель — причиной прекращения отправки событий в концентратор событий.

### <a name="is-there-a-limit-on-the-number-of-throughput-units-that-can-be-selected"></a>Существует ли ограничение на количество единиц пропускной способности, которое можно выбрать?
Существует квота по умолчанию в размере 20 единиц пропускной способности для каждого пространства имен. Можно запросить увеличенную квоту на единицы пропускной способности, создав запрос в службу поддержки. Свыше предела в 20 единиц пропускной способности существуют пакеты в размере 20 и 100 единиц пропускной способности. Обратите внимание, что использование более 20 единиц пропускной способности исключает возможность изменить количество единиц пропускной способности без обращения в службу поддержки.

С помощью функции [автоматического расширения](event-hubs-auto-inflate.md) можно автоматически увеличивать число единиц пропускной способности по мере роста использования ресурсов.

### <a name="can-i-use-a-single-amqp-connection-to-send-and-receive-from-multiple-event-hubs"></a>Можно ли использовать одно AMQP-подключение для отправки и получения из нескольких концентраторов событий?
Да, при условии, что все концентраторы событий находятся в одном пространстве имен.

### <a name="what-is-the-maximum-retention-period-for-events"></a>Каков максимальный срок хранения событий?
Концентраторы событий стандартного уровня в настоящее время поддерживают максимальный срок хранения 7 дней. Обратите внимание, что концентраторы событий не предназначены для постоянного хранения данных. Срок хранения более 24 часов предназначен для сценариев, в которых удобно воспроизводить поток событий в тех же системах. Например, для обучения или проверки новой модели машинного обучения на основе существующих данных. Если требуется хранить сообщения дольше 7 дней, включите [запись концентраторов событий](https://docs.microsoft.com/azure/event-hubs/event-hubs-capture-overview) в концентраторе событий, чтобы извлекать из него данные в учетную запись хранения или учетную запись службы Azure Data Lake по своему выбору. Включение записи повлечет за собой затраты в соответствии с приобретенной единицей пропускной способности.

### <a name="where-is-azure-event-hubs-available"></a>Где доступны концентраторы событий Azure?
Концентраторы событий Azure доступны во всех поддерживаемых регионах Azure. Список см. на странице [регионов Azure](https://azure.microsoft.com/regions/).  

## <a name="best-practices"></a>Рекомендации

### <a name="how-many-partitions-do-i-need"></a>Сколько секций мне нужно?

Обратите внимание, что количество секций в концентраторе событий невозможно изменить после завершения установки. С учетом этого перед началом работы важно принять правильное решение, сколько секций вам требуется. 

В концентраторах событий предусмотрен один модуль чтения секции на каждую группу потребителей. В большинстве вариантов использования значение по умолчанию (четыре секции) является достаточным. Если вы планируете масштабировать обработку событий, то рассмотрите добавление дополнительных секций. В секции нет определенного ограничения пропускной способности, однако суммарная пропускная способность в пространстве имен ограничивается количеством единиц пропускной способности. Увеличивая количество единиц пропускной способности в пространстве имен, вы можете увеличить количество секций, чтобы в параллельных модулях чтения также достигалась максимальная пропускная способность.

Тем не менее, если применяется модель, в которой приложение сопоставлено с конкретной секцией, то увеличение количества секций может не иметь никакого эффекта. Дополнительные сведения см. в статье [Доступность и согласованность в концентраторах событий](event-hubs-availability-and-consistency.md).

## <a name="pricing"></a>Цены

### <a name="where-can-i-find-more-pricing-information"></a>Где я могу найти дополнительные сведения о ценах?
Полные сведения о ценах на концентраторы событий см. в разделе [Сведения о ценах на концентраторы событий](https://azure.microsoft.com/pricing/details/event-hubs/).

### <a name="is-there-a-charge-for-retaining-event-hubs-events-for-more-than-24-hours"></a>Взимается ли плата за хранение событий концентраторов событий более 24 часов?
Концентраторы событий стандартного уровня разрешают хранение сообщений более 24 часов, но не более 7 дней. Если общий объем всех хранимых событий превышает лимит хранения для выбранного количества единиц пропускной способности (84 ГБ для каждой единицы), то за избыточный объем взимается плата согласно опубликованным ценам на хранилище BLOB-объектов Azure. Лимит хранения для каждой единицы пропускной способности покрывает все расходы для срока хранения в 24 часа (по умолчанию), даже если единица пропускной способности использована максимально.

### <a name="how-is-the-event-hubs-storage-size-calculated-and-charged"></a>Как рассчитывается и оплачивается размер хранилища концентраторов событий?
Общий размер всех хранимых событий, включая внутреннюю дополнительную память для заголовков событий или дисковые накопительные структуры во всех концентраторах событий, измеряется в течение дня. В конце дня вычисляется максимальный размер хранилища. Ежедневный лимит хранения рассчитывается на основе минимального количества единиц пропускной способности, которое было выбрано в течение дня (каждая единица имеет ограничение в 84 ГБ). Если общий размер превышает рассчитанный ежедневный лимит хранения, избыточный объем оплачивается согласно ценам на хранилище BLOB-объектов Azure (по цене **локально избыточного хранилища** ).

### <a name="how-are-event-hubs-ingress-events-calculated"></a>Как рассчитываются входящие события концентраторов событий?
Каждое событие, отправленное в концентратор событий, считается оплачиваемым сообщением. *Входящее событие* определяется как единица данных, размер которой меньше или равен 64 КБ. Любое событие, размер которого меньше или равен 64 КБ, считается одним оплачиваемым событием. Если размер события превышает 64 КБ, то количество оплачиваемых сообщений вычисляется исходя из размера, кратного 64 КБ. Например, событие размером 8 КБ, отправленное концентратору событий, оплачивается как одно событие, а сообщение размером 96 КБ, отправленное концентратору событий, оплачивается как два события.

События, полученные от концентратора событий, а также операции по управлению и контролирующие вызовы, такие как контрольные точки, не считаются оплачиваемыми входящими событиями, но начисляются до ограничения по единицам пропускной способности.

### <a name="do-brokered-connection-charges-apply-to-event-hubs"></a>Применяется ли плата за подключение через посредника для концентраторов событий?
Плата за подключение взимается только при использовании протокола AMQP. При отправке событий с помощью HTTP плата за подключение не взимается вне зависимости от количества отправляющих систем или устройств. Если планируется использовать AMQP (например, для достижения более эффективной потоковой передачи событий или включения двусторонней связи в сценариях управления Интернетом вещей), то ознакомьтесь со [сведениями о ценах на концентраторы событий](https://azure.microsoft.com/pricing/details/event-hubs/), чтобы узнать, сколько подключений доступно на каждом уровне служб.

### <a name="how-is-event-hubs-capture-billed"></a>Как выставляются счета за использование функции записи концентраторов событий?
Функция записи активируется, когда ее включают в любом концентраторе событий пространства имен. Счет за использование функции записи концентратора событий выставляется на почасовой основе для каждой приобретенной единицы пропускной способности. Так как количество единиц пропускной способности может увеличиваться или уменьшаться, стоимость каждого часа использования функции записи рассчитывается отдельно. Дополнительные сведения о выставлении счетов за использование функции записи концентраторов событий см. на [этой странице](https://azure.microsoft.com/pricing/details/event-hubs/).

### <a name="will-i-be-billed-for-the-storage-account-i-select-for-event-hubs-capture"></a>Будут ли выставляться счета за использование хранилища для учетной записи хранения, которая выбрана для записи концентраторов событий?
Функция записи использует учетную запись хранения, указанную при его включении в концентраторе событий. Так как эта учетная запись хранения принадлежит вам, все платежи за изменения этой конфигурации записываются в ваш счет, выставляемый за подписку Azure.

## <a name="quotas"></a>Квоты

### <a name="are-there-any-quotas-associated-with-event-hubs"></a>Существуют ли квоты, связанные с концентраторами событий?
Список всех квот для концентраторов событий см. в статье [Квоты концентраторов событий](event-hubs-quotas.md).

## <a name="troubleshooting"></a>Устранение неполадок

### <a name="what-are-some-of-the-exceptions-generated-by-event-hubs-and-their-suggested-actions"></a>Какие исключения создаются концентраторами событий? Какие действия можно предпринять?
Список возможных исключений концентраторов событий приведен в статье [Исключения обмена сообщениями концентраторов событий](event-hubs-messaging-exceptions.md).

### <a name="diagnostic-logs"></a>Журналы диагностики
Концентраторы событий поддерживают два типа [журналов диагностики](event-hubs-diagnostic-logs.md) — журналы ошибок записи и операционные журналы. Оба типа представлены в формате JSON и могут быть включены на портале Azure.

### <a name="support-and-sla"></a>Поддержка и соглашение об уровне обслуживания
Техническая поддержка для концентраторов событий доступна через [форумы сообщества](https://social.msdn.microsoft.com/forums/azure/home?forum=servbus). Поддержка по выставлению счетов и управлению подпиской предоставляется бесплатно.

Дополнительные сведения о соглашении об уровне обслуживания см. на странице [Соглашения об уровне обслуживания](https://azure.microsoft.com/support/legal/sla/).

## <a name="next-steps"></a>Дополнительная информация
Дополнительные сведения о концентраторах событий см. в следующих источниках:

* [Event Hubs overview](event-hubs-what-is-event-hubs.md)
* [Создание концентратора событий](event-hubs-create.md)
* [Автоматическое расширение концентраторов событий](event-hubs-auto-inflate.md)
