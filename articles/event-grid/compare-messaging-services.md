---
title: "Сравнение служб обмена сообщениями Azure"
description: "Сравнение службы \"Сетка событий\", концентраторов событий и служебной шины Azure. Рекомендации по выбору служб для различных сценариев."
services: event-grid
author: tfitzmac
manager: timlt
ms.service: event-grid
ms.topic: article
ms.date: 11/06/2017
ms.author: tomfitz
ms.openlocfilehash: 9a9baa457729bdc4d70a8f9f45701dbdb875d3ce
ms.sourcegitcommit: 6a6e14fdd9388333d3ededc02b1fb2fb3f8d56e5
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/07/2017
---
# <a name="choose-between-azure-services-that-deliver-messages"></a>Выбор между службами обмена сообщениями Azure

Azure предлагает три службы, с помощью которых реализуется доставка сообщений о событиях в решениях. Такими службами являются:

* [Сетка событий](/azure/event-grid/)
* [Концентраторы событий](/azure/event-hubs/)
* [Служебная шина](/azure/service-bus-messaging/)

Несмотря на то что они имеют некоторые сходства, каждая служба предназначена для определенного сценария. С помощью этой статьи вы узнаете о различиях между этими службами, а также определите, какую из них следует выбрать для своего приложения. Во многих случаях службы обмена сообщениями дополняют друг друга и могут использоваться совместно.

## <a name="event-vs-message-services"></a>Сравнение служб доставки сообщений и событий

Следует обратить внимание на важное различие между службами доставки событий и службами доставки сообщений.

### <a name="event"></a>Событие

Событие — это упрощенное уведомление о действии или изменении состояния. Данные события содержат сведения о том, что произошло, но не о причинах активации события. Например, событие уведомляет подписчиков, что был создан файл. Оно может содержать общие сведения о файле, но не сам файл. Как правило, события запускают обработчики событий для работы в режиме реального времени.

"Сетка событий" представляет собой службу обработки событий.

### <a name="message"></a>Сообщение

Сообщение представляет собой необработанные данные, создаваемые службой для использования или хранения. Оно содержит данные, которые активировали конвейер сообщений. Таким сообщением может быть что угодно: как заказ через сайт электронной коммерции, так и телеметрия пользователя. В отличие от уведомления о событии, издателю сообщения можно отвечать. Например, сообщение содержит необработанные данные, но от другой части системы ожидается создание файла на основе этих данных. 

Концентраторы событий и служебная шина представляют собой службы обмена сообщениями.

## <a name="comparison-of-services"></a>Сравнение служб

| служба | Назначение | Тип | Сценарии использования |
| ------- | ------- | ---- | ----------- |
| Служба "Сетка событий Azure" | Реактивное программирование | Событие | Ответ на изменение состояния |
| Концентраторы событий | Конвейер больших данных | Сообщение | Потоковая передача данных телеметрии и распределенных данных |
| Служебная шина | Обмен важными сообщениями в организациях | Сообщение | Обработка заказов и финансовых транзакций |

### <a name="event-grid"></a>Служба "Сетка событий Azure"

Служба "Сетка событий Azure" — это объединяющее решение для обработки событий, обеспечивающее реактивное программирование на основе событий. Она использует модель "публикация— подписка". Издатели генерируют события, не ожидая обработки конкретных событий. Подписчики решают, какие события обрабатывать.

Служба "Сетка событий" тесно интегрирована со службами Azure и может интегрироваться со сторонними службами. Она упрощает использование событий и снижает затраты, устраняя необходимость в постоянных опросах. Служба "Сетка событий" надежно и эффективно перенаправляет события из Azure и ресурсов, отличных от Azure. Она распределяет события к зарегистрированным конечным точкам подписчика. Сообщение о событии содержит сведения, необходимые для реагирования на изменения в службах и приложениях. Служба "Сетка событий" — это не конвейер данных, она не выполняет доставку фактического объекта, который был обновлен.

Она отличается следующими характеристиками:

* динамически масштабируемая;
* низкая стоимость;
* независимая от сервера.

### <a name="event-hubs"></a>Концентраторы событий

Концентраторы событий Azure представляют собой конвейер больших данных. Он облегчает запись, хранение и воспроизведение потоковых данных телеметрии и событий. Данные могут поступать из многих параллельных источников. Благодаря концентраторам событий данные телеметрии и событий доступны различным инфраструктурам потоковой обработки и службам аналитики. Они доступны как потоки данных или объединенные пакеты событий. Эта служба предоставляет единое решение, которое обеспечивает быстрое извлечение данных для обработки в режиме реального времени, а также повторное воспроизведение хранимых необработанных данных.

Она отличается следующими характеристиками:

* минимальная задержка;
* способность получать и обрабатывать миллионы событий в секунду.

### <a name="service-bus"></a>Служебная шина

Служебная шина предназначена для стандартных корпоративных приложений. Эти приложения требуют выполнения транзакций, упорядочивания, поиска повторяющихся сообщений и мгновенного обеспечения согласованности. Благодаря служебной шине облачные приложения способны обеспечить надежное управление переходами состояния для бизнес-процессов. Мы рекомендуем использовать служебную шину Azure при обработке сообщений высокой ценности, которые нельзя потерять или повторно отправить. Служебная шина также облегчает взаимодействие с высоким уровнем безопасности в гибридных облачных решениях, и с ее помощью можно подключить имеющиеся локальные системы к этим решениям.

Она отличается следующими характеристиками:

* надежная асинхронная доставка сообщений (корпоративный обмен сообщениями как услуга), требующая опросов;
* расширенные возможности обмена сообщениями, например обслуживание в порядке поступления (FIFO), пакетная обработка и сеансы, транзакции, перемещение в очередь недоставленных сообщений, временный контроль, маршрутизация и фильтрация, а также обнаружение повторяющихся сообщений.

## <a name="use-the-services-together"></a>Одновременное использование служб

В некоторых случаях для выполнения различных ролей службы могут использоваться параллельно. Например, сайт электронной коммерции может использовать служебную шину для обработки заказа, концентраторы событий для сбора данных телеметрии сайта, а службу "Сетка событий" — для реагирования на такие события, как отправка позиции.

В других случаях вы можете связать эти службы для формирования конвейера данных и событий. С помощью службы "Сетка событий" можно отвечать на события в других службах. Пример использования службы "Сетка событий" с концентраторами событий для перемещения данных в хранилище данных см. в статье [Потоковая передача больших данных в хранилище данных](event-grid-event-hubs-integration.md). На следующем рисунке показан рабочий процесс потоковой передачи данных.

![Обзор процесса потоковой передачи данных](./media/compare-messaging-services/overview.png)

## <a name="next-steps"></a>Дальнейшие действия

* Дополнительные сведения о службах обмена сообщениями Azure см. в записи блога [Events, Data Points, and Messages - Choosing the right Azure messaging service for your data](https://azure.microsoft.com/blog/events-data-points-and-messages-choosing-the-right-azure-messaging-service-for-your-data/) (События, точки данных и сообщения: выбор оптимальной службы обмена сообщениями Azure для данных).
* Общие сведения о службе "Сетка событий" см. в разделе [Общие сведения о службе "Сетка событий Azure"](overview.md).
* Сведения о том, как приступить к использованию службы "Сетка событий", см. в статье [Создание и перенаправление пользовательских событий с помощью Azure CLI и службы "Сетка событий"](custom-event-quickstart.md).
* Сведения о том, как приступить к использованию концентраторов событий, см. в статье [Создание пространства имен концентраторов событий и концентратора событий с помощью портала Azure](../event-hubs/event-hubs-create.md).
* Сведения о том, как приступить к использованию служебной шины, см. в статье [Создание пространства имен служебной шины с помощью портала Azure](../service-bus-messaging/service-bus-create-namespace-portal.md).