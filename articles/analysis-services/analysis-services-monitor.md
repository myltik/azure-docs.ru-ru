---
title: "Мониторинг метрик сервера служб Azure Analysis Services | Документация Майкрософт"
description: "Узнайте, как выполнять мониторинг метрик сервера служб Analysis Services на портале Azure."
services: analysis-services
documentationcenter: 
author: minewiskan
manager: kfile
editor: 
tags: 
ms.assetid: 
ms.service: analysis-services
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: na
ms.date: 09/14/2017
ms.author: owend
ms.openlocfilehash: 8d19f2d29673364c50cb481e375f2c1b5e027467
ms.sourcegitcommit: 9ea2edae5dbb4a104322135bef957ba6e9aeecde
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/03/2018
---
# <a name="monitor-server-metrics"></a>Мониторинг метрик службы

Службы Analysis Services предоставляют метрики для мониторинга производительности и работоспособности серверов. Например, вы можете отслеживать показатели использования памяти и ЦП, число клиентских подключений и объемы потребления ресурсов запросов. Службы Analysis Services используют ту же платформу мониторинга, что и большинство других служб Azure. См. дополнительные сведения о [метриках в Microsoft Azure](../monitoring-and-diagnostics/insights-how-to-customize-monitoring.md).

Чтобы выполнить более подробную диагностику, отслеживание производительности и определение тенденций по нескольким ресурсам служб в группе ресурсов или подписке, используйте [Azure Monitor](https://azure.microsoft.com/services/monitor/). За использование службы Azure Monitor может взиматься плата.


## <a name="to-monitor-metrics-for-an-analysis-services-server"></a>Мониторинг метрик сервера служб Analysis Services

1. На портале Azure щелкните **Метрики**.

    ![Мониторинг на портале Azure](./media/analysis-services-monitor/aas-monitor-portal.png)

2. В списке **Доступные метрики** выберите метрики для включения в диаграмму. 

    ![Диаграмма мониторинга](./media/analysis-services-monitor/aas-monitor-chart.png)

<a id="#server-metrics"></a>
## <a name="server-metrics"></a>Метрики сервера
Используйте эту таблицу для определения метрик, наиболее подходящих для вашего сценария мониторинга. На одной диаграмме могут отображаться только метрики с одинаковыми единицами измерения.

|Метрика|Отображаемое имя метрики|Единица измерения|Тип статистической обработки|ОПИСАНИЕ|
|---|---|---|---|---|
|CommandPoolJobQueueLength|Длина очереди заданий пула команд|Count|Средняя|Число заданий в очереди пула потоков команд.|
|CurrentConnections|Подключение: текущие подключения|Count|Средняя|Текущее число установленных клиентских подключений.|
|CurrentUserSessions|Текущие пользовательские сеансы|Count|Среднее|Текущее число установленных пользовательских сеансов.|
|mashup_engine_memory_metric|Память подсистемы M|Байты|Среднее|Использование памяти процессами подсистемы гибридных веб-приложений|
|mashup_engine_qpu_metric|QPU подсистемы M|Count|Средняя|Использование QPU процессами подсистемы гибридных веб-приложений|
|memory_metric|Память|Байты|Средняя|Память. Диапазоны: 0–25 ГБ для S1, 0–50 ГБ для S2 и 0–100 ГБ для S4.|
|memory_thrashing_metric|Пробуксовка памяти|Процент|Среднее|Среднее значение пробуксовки памяти.|
|CleanerCurrentPrice|Память: текущая цена очистки|Count|Среднее|Текущая цена памяти, $/байт/время, нормализованная до 1000.|
|CleanerMemoryNonshrinkable|Память: несжимаемая память очистки|Байты|Среднее|Объем памяти (в байтах), недоступной для очистки с помощью средства фоновой очистки.|
|CleanerMemoryShrinkable|Память: сжимаемая память очистки|Байты|Среднее|Объем памяти (в байтах), доступной для очистки с помощью средства фоновой очистки.|
|MemoryLimitHard|Память: твердый лимит памяти|Байты|Среднее|Твердый лимит памяти, из файла конфигурации.|
|MemoryLimitHigh|Память: верхний предел памяти|Байты|Средняя|Верхняя граница объема памяти, из файла конфигурации.|
|MemoryLimitLow|Память: нижний предел памяти|Байты|Среднее|Нижняя граница объема памяти, из файла конфигурации.|
|MemoryLimitVertiPaq|Память: ограничение памяти VertiPaq|Байты|Среднее|Ограничение памяти, из файла конфигурации.|
|MemoryUsage|Память: использование памяти|Байты|Среднее|Использование памяти процессом сервера согласно вычислениям стоимости памяти очистки. Равно сумме значений счетчика Process\PrivateBytes и объема сопоставленных в памяти данных за вычетом памяти, сопоставленной или выделенной в подсистеме, выполняющейся в памяти аналитики (VertiPaq) сверх предела памяти подсистемы.|
|Quota|Память: квота|Байты|Среднее|Текущая квота памяти, в байтах. Квота памяти также называется выделением или резервированием памяти.|
|QuotaBlocked|Память: заблокировано квот|Count|Среднее|Текущее число запросов на квоту, заблокированных до высвобождения других квот памяти.|
|VertiPaqNonpaged|Память: размер нестраничных данных VertiPaq|Байты|Среднее|Размер памяти (в байтах), заблокированной в рабочем множестве для использования в подсистеме памяти.|
|VertiPaqPaged|Память: размер страничных данных VertiPaq|Байты|Среднее|Размер памяти (в байтах), занятой страничными данными в памяти.|
|ProcessingPoolJobQueueLength|Длина очереди заданий пула обработки|Count|Средняя|Количество заданий, не связанных с вводом-выводом, в очереди пула потоков обработки.|
|RowsConvertedPerSec|Обработка: преобразовано строк в секунду|Число/с|Средняя|Интенсивность преобразованных в ходе обработки строк.|
|RowsReadPerSec|Обработка: считано строк в секунду|Число/с|Среднее|Интенсивность считывания строк из всех реляционных баз данных.|
|RowsWrittenPerSec|Обработка: записано строк в секунду|Число/с|Среднее|Интенсивность записанных в ходе обработки строк.|
|qpu_metric|QPU|Count|Среднее|QPU. Диапазоны: 0–100 для S1, 0–200 для S2 и 0–400 для S4.|
|QueryPoolBusyThreads|Занятые потоки в пуле запросов|Count|Средняя|Число занятых потоков в пуле потоков запросов.|
|SuccessfullConnectionsPerSec|Число успешных подключений в секунду|Число/с|Среднее|Частота успешных установок подключений.|
|CommandPoolBusyThreads|Потоки: занятые потоки в пуле команд|Count|Средняя|Число занятых потоков в пуле потоков команд.|
|CommandPoolIdleThreads|Потоки: бездействующие потоки в пуле команд|Count|Средняя|Число бездействующих потоков в пуле потоков команд.|
|LongParsingBusyThreads|Потоки: занятые потоки продолжительного анализа|Count|Средняя|Число занятых потоков в пуле потоков продолжительного анализа.|
|LongParsingIdleThreads|Потоки: бездействующие потоки продолжительного анализа|Count|Средняя|Число бездействующих потоков в пуле потоков продолжительного анализа.|
|LongParsingJobQueueLength|Потоки: длина очереди заданий продолжительного анализа|Count|Средняя|Число заданий в очереди пула потоков продолжительного анализа.|
|ProcessingPoolIOJobQueueLength|Потоки: длина очереди заданий ввода-вывода пула обработки|Count|Среднее|Количество заданий ввода-вывода в очереди пула потоков обработки.|
|ProcessingPoolBusyIOJobThreads|Потоки: занятые потоки ввода-вывода в пуле обработки заданий|Count|Среднее|Количество потоков, выполняющих задания ввода-вывода, в пуле потоков обработки.|
|ProcessingPoolBusyNonIOThreads|Потоки: занятые потоки в пуле обработки, не связанные с вводом-выводом|Count|Среднее|Количество потоков, выполняющих задания, не связанные с вводом-выводом в пуле потоков обработки.|
|ProcessingPoolIdleIOJobThreads|Потоки: бездействующие потоки ввода-вывода в пуле обработки заданий|Count|Среднее|Количество бездействующих потоков, выполняющих задания ввода-вывода, в пуле потоков обработки.|
|ProcessingPoolIdleNonIOThreads|Потоки: бездействующие потоки в пуле обработки, не связанные с вводом-выводом|Count|Среднее|Количество бездействующих потоков в пуле потоков обработки, выделенных для заданий, не связанных с вводом-выводом.|
|QueryPoolIdleThreads|Потоки: бездействующие потоки в пуле запросов|Count|Среднее|Количество бездействующих потоков, выполняющих задания ввода-вывода, в пуле потоков обработки.|
|QueryPoolJobQueueLength|Потоки: длина очереди заданий пула запросов|Count|Средняя|Число заданий в очереди пула потоков запросов.|
|ShortParsingBusyThreads|Потоки: занятые потоки быстрого анализа|Count|Среднее|Число занятых потоков в пуле потоков быстрого анализа.|
|ShortParsingIdleThreads|Потоки: бездействующие потоки быстрого анализа|Count|Среднее|Число бездействующих потоков в пуле потоков быстрого анализа.|
|ShortParsingJobQueueLength|Потоки: длина очереди заданий быстрого анализа|Count|Среднее|Число заданий в очереди пула потоков быстрого анализа.|
|TotalConnectionFailures|Общее число неудачных подключений|Count|Среднее|Общее число неудачных попыток подключения.|
|TotalConnectionRequests|Общее число запросов на подключение|Count|Среднее|Общее число запросов на подключение. |

## <a name="next-steps"></a>Дополнительная информация
[Мониторинг в Microsoft Azure](../monitoring-and-diagnostics/monitoring-overview.md)   
[Метрики в Microsoft Azure](../monitoring-and-diagnostics/insights-how-to-customize-monitoring.md)   
[Метрики в Azure Monitor REST API](https://msdn.microsoft.com/library/azure/dn931930.aspx)