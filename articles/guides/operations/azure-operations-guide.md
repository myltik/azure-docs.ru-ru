---
title: Руководство по началу работы для ИТ-операторов Azure | Документы Майкрософт
description: Руководство по началу работы для ИТ-операторов Azure
services: ''
documentationcenter: ''
author: neilpeterson
manager: timlt
editor: tysonn
tags: azure-resource-manager
ms.assetid: ''
ms.service: azure
ms.devlang: ''
ms.topic: ''
ms.tgt_pltfrm: ''
ms.workload: infrastructure
ms.date: 06/12/2017
ms.author: nepeters
ms.openlocfilehash: b63beffdd3b10071c6d18128e78a949374c171b2
ms.sourcegitcommit: b6319f1a87d9316122f96769aab0d92b46a6879a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/20/2018
---
# <a name="introduction-to-cloud-computing-and-microsoft-azure"></a>Обзор облачных вычислений и Microsoft Azure

В этом руководстве приводятся ключевые понятия, связанные с развертыванием и администрированием инфраструктуры Microsoft Azure. Если вы не знакомы с облачными вычислениями и платформой Azure, это руководство поможет быстро приступить к работе, так как содержит сведения об основных понятиях, развертывании и управлении. В многих разделах этого руководства описываются процессы, например развертывание виртуальной машины, а под ними приводится ссылка на дополнительные технические сведения.


## <a name="cloud-computing-overview"></a>Общие сведения об облачных вычислениях

Облачные вычисления являются современной альтернативой традиционным локальным центрам обработки данных. Поставщики общедоступных облачных технологий предоставляют всю вычислительную инфраструктуру и базовое программное обеспечение по управлению и обеспечивают управление ими. Эти поставщики предлагают множество разнообразных облачных служб. Облачной службой в этом случае может быть виртуальная машина, веб-сервер или ядро базы данных, размещенное в облаке. Клиенты поставщиков облачных служб арендуют эти облачные службы по мере необходимости. При этом капитальные затраты на обслуживание оборудования становятся эксплуатационными расходами. Облачная служба также предоставляет следующие преимущества:

-   Быстрое развертывание больших вычислительных сред

-   Быстрое освобождение систем, которые больше не требуются

-   Простое развертывание традиционно сложных систем, например подсистем балансировки нагрузки

-   Возможность масштабирования и предоставления гибких вычислительных мощностей (при необходимости)

-   Более экономически эффективные вычислительные среды

-   Доступ из любого места веб-портала или программная автоматизация

-   Облачные службы для удовлетворения большей части потребностей в области вычислений и использования приложений

В рамках локальной инфраструктуры вы обладаете полным контролем над оборудованием и развертываемым программным обеспечением. Исторически это привело к принятию решений о закупках оборудования для масштабирования. В качестве примера можно привести приобретение сервера с дополнительным количеством ядер для соответствия потребностям пиковой производительности. К сожалению, вне периода высокого спроса коэффициент эксплуатации этой инфраструктуры может быть существенно снижен. С помощью Azure можно развернуть только действительно необходимую инфраструктуру и в любое время наращивать или сокращать требуемые ресурсы. Это позволяет акцентировать внимание на масштабировании с помощью развертывания дополнительных вычислительных узлов, требуемых для решения вопросов производительности. Горизонтальное масштабирование облачных служб гораздо экономичнее вертикального масштабирования, когда применяется дорогостоящее оборудование.

Корпорация Майкрософт развернула множество центров обработки данных Azure по всему миру и планирует увеличить их количество. Кроме того, Майкрософт постоянно расширяет монопольное распространение облачных служб в таких регионах, как Китай и Германия. Развертывать центры обработки данных таким образом могут только глобальные корпорации, поэтому использование Azure упрощает развертывание служб предприятий любого размера в непосредственной близости к клиентам.

Предприятиям малого бизнеса Azure предлагает недорогие начальные решения с возможностью быстрого масштабирования по мере роста потребностей в вычислительных ресурсах. Это позволяет избежать начальных капитальных вложений в инфраструктуру и обеспечивает гибкость архитектуры для перестроения систем. Использование облачных вычислений оптимально подходит для стартапов, обеспечивая быстрое масштабирование бизнеса и устранение ошибок на ранних этапах.

Дополнительные сведения о доступных регионах Azure см. в разделе о [регионах Azure](https://azure.microsoft.com/regions/).

### <a name="cloud-computing-is-classified-into-three-categories-saas-paas-and-iaas"></a>Облачные вычисления делятся на три категории: SaaS, PaaS и IaaS.

#### <a name="saas-software-as-a-service"></a>SaaS: программное обеспечение как услуга

SaaS — это централизованно размещенное и управляемое программное обеспечение. Обычно оно основано на мультитенантной архитектуре, когда одна версия приложения используется для всех клиентов. Его можно масштабировать на несколько экземпляров для обеспечения оптимальной производительности во всех расположениях. Как правило, программное обеспечение SaaS лицензируется по ежемесячной или ежегодной подписке.

Хорошим примером предложения SaaS является Microsoft Office 365. Подписчики оплачивают ежемесячную или ежегодную подписки и получают Microsoft Exchange, Microsoft OneDrive и остальную часть набора Microsoft Office в виде услуги. Подписчикам всегда доступны самые последние версии продуктов; кроме того, с них снимается обязанность управления Exchange Server. По сравнению с ежегодными процедурами по установке и обновлению Office, этот вариант является менее дорогостоящим и требует меньше усилий.

#### <a name="paas-platform-as-a-service"></a>PaaS: платформа как услуга 

PaaS позволяет развертывать приложения в среде, предоставляемой поставщиком облачных служб. Поставщик выполняет все задачи по управлению инфраструктурой, а вы можете сосредоточиться на разработке приложений.

В Azure доступно несколько предложений PaaS, включая компонент веб-приложений службы приложений Azure и облачных служб Azure (рабочие и веб-роли). В любом случае разработчики могут прибегнуть к разным способам развертывания приложений, не углубляясь в тонкости процесса. Разработчикам не нужно создавать виртуальные машины, использовать протокол удаленного рабочего стола (RDP) для входа в каждую из них или устанавливать приложения. Они просто нажимают кнопку (или делают нечто подобное), и средства, предоставляемые корпорацией Майкрософт, подготавливают виртуальные машины, развертывают их и устанавливают на них приложения.

#### <a name="iaas-infrastructure-as-a-service"></a>IaaS: инфраструктура как услуга

Поставщик облачных служб IaaS запускает все физические вычислительные ресурсы и необходимое программное обеспечение и управляет ими для обеспечения виртуализации компьютеров. Клиент этой услуги развертывает виртуальные машины в этих размещенных центрах обработки данных. Несмотря на то, что виртуальные машины находятся в центре обработки данных в другом расположении, потребитель IaaS может контролировать процессы их настройки и управления.

Azure предлагает несколько решений IaaS, включая виртуальные машины, масштабируемые наборы виртуальных машин и связанную сетевую инфраструктуру. Виртуальные машины являются популярным вариантом для первоначального переноса служб в Azure, так как они поддерживают модель миграции "lift and shift" (при которой в облако переносятся точные копии ПО). Виртуальную машину можно настроить в соответствии с инфраструктурой, в которой в настоящий момент выполняются службы в центре обработки данных, а затем перенести имеющееся программное обеспечение в новую ВМ. Может потребоваться внести изменения конфигурации, такие как URL-адреса к другим службам или хранилищам, но таким образом можно перенести много приложений.

Масштабируемые наборы виртуальных машин формируются на основе виртуальных машин Azure и предоставляют простой способ развертывания кластеров одинаковых виртуальных машин. Масштабируемые наборы виртуальных машин также поддерживают автоматическое масштабирование, поэтому в случае необходимости новые виртуальные машины можно развертывать автоматически. Это делает масштабируемые наборы виртуальных машин идеальной платформой для размещения вычислительных кластеров микрослужб более высокого уровня, например Azure Service Fabric и службы контейнеров Azure.

## <a name="azure-services"></a>Службы Azure

Azure предлагает множество служб на своей платформе облачных вычислений. В число этих служб входят следующие.

### <a name="compute-services"></a>Службы вычислений

Службы для размещения и выполнения рабочей нагрузки приложения:

-   Виртуальные машины Azure — для Linux и Windows

-   Службы приложений (веб-приложения, мобильные приложения, приложения логики, приложения API и приложения-функции)

-   Пакетная служба Azure (для крупномасштабных параллельных и пакетных вычислительных заданий)

-   Azure Service Fabric

-   Служба контейнеров Azure

### <a name="data-services"></a>Службы данных

Службы для хранения данных и управления ими:

-   Хранилище Azure (состоит из службы BLOB-объектов, службы очередей, службы таблиц и службы файлов Azure)

-   Базы данных SQL Azure

-   Azure Cosmos DB

-   Microsoft Azure StorSimple

-   кэш Azure Redis

### <a name="application-services"></a>Службы приложений

Службы для создания и эксплуатации приложений:

-   Azure Active Directory (Azure AD)

-   Служебная шина Azure для подключения распределенных систем

-   Azure HDInsight для обработки больших объемов данных

-   Планировщик Azure

-   Службы мультимедиа Azure

### <a name="network-services"></a>Сетевые службы

Службы для сетевой работы в Azure, а также между Azure и локальными центрами обработки данных:

-   Виртуальная сеть Azure

-   Azure ExpressRoute

-   Предоставленная системой Azure служба DNS

-   Azure Traffic Manager

-   Сеть доставки содержимого Azure

Подробную документацию по службам Azure см. в [документации по службам Azure](https://docs.microsoft.com/azure).

## <a name="azure-key-concepts"></a>Основные понятия Azure

### <a name="datacenters-and-regions"></a>Центры обработки данных и регионы


Azure является глобальной облачной платформой, которая общедоступна во многих регионах по всему миру. При подготовке службы, приложения или виртуальной машины в Azure вам будет предложено выбрать регион. Выбранный регион представляет конкретный центр обработки данных, где выполняется приложение. Дополнительные сведения см. на странице [Регионы Azure](https://azure.microsoft.com/regions/).

Одним из преимуществ использования Azure является то, что можно развертывать приложения в разных центрах обработки данных по всему миру. Выбранный регион может повлиять на производительность приложения. Лучше выбрать регион, расположенный ближе к большинству клиентов, чтобы уменьшить задержки при передаче сетевых запросов. Можно также выбрать регион в соответствии с требованиями законодательства относительно распространения приложения, установленными в некоторых странах.

### <a name="azure-portal"></a>Портал Azure


Портал Azure — это веб-приложение, которое можно использовать для создания и удаления ресурсов и служб Azure, а также для управления ими. Портал Azure расположен по адресу https://portal.azure.com. Он содержит настраиваемую панель мониторинга и средства для управления ресурсами Azure. На нем также доступны сведения о выставлении счетов и подписках. Дополнительные сведения см. в статьях [Обзор портала Microsoft Azure](https://azure.microsoft.com/documentation/articles/azure-portal-overview/) и [Управление ресурсами Azure через портал](https://docs.microsoft.com/azure/azure-portal/resource-group-portal).

### <a name="resources"></a>Ресурсы

Ресурсы Azure представляют собой отдельные вычислительные, сетевые службы, службы обработки данных или службы размещения приложений, которые были развернуты в подписке Azure. Некоторые общие ресурсы — это виртуальные машины, учетные записи хранения или базы данных SQL. Службы Azure часто состоят из нескольких связанных ресурсов Azure. Например, виртуальная машина Azure может состоять из виртуальной машины, учетной записи хранения, сетевого адаптера и общедоступного IP-адреса. Эти ресурсы можно создавать, удалять или управлять ими по отдельности или в виде группы. Ресурсы Azure рассматриваются более подробно далее в этом руководстве.

### <a name="resource-groups"></a>Группы ресурсов

Группа ресурсов Azure — это контейнер, содержащий связанные ресурсы для решения Azure. В группу ресурсов могут входить все ресурсы для решения или только те, которыми необходимо управлять как группой. Группы ресурсов Azure рассматриваются более подробно далее в этом руководстве.

### <a name="resource-manager-templates"></a>Шаблоны диспетчера ресурсов

Шаблон Azure Resource Manager — это файл в формате JSON (нотация объектов JavaScript), определяющий один или несколько ресурсов для развертывания в группе ресурсов. Он также определяет зависимости между развернутыми ресурсами. Шаблоны Resource Manager рассматриваются более подробно далее в этом руководстве.

### <a name="automation"></a>Служба автоматизации


Помимо создания, удаления ресурсов и управления ими с помощью портала Azure эти действия можно автоматизировать с помощью PowerShell или интерфейса командной строки Azure (CLI).

**Azure PowerShell**

Azure PowerShell — это набор модулей, предоставляющих командлеты для управления Azure. Командлеты можно использовать для создания, удаления служб Azure и управления ими. Командлеты позволяют получить согласованные, повторяемые и автоматические развертывания. Подробнее: [Установка и настройка Azure PowerShell](/powershell/azure/install-azurerm-ps).

**интерфейс командной строки Azure**

Интерфейс командной строки Azure — это средство, которое можно использовать для создания, удаления ресурсов Azure и управления ими из командной строки. Azure CLI доступен для операционных систем Mac OS X, Linux и Windows. Дополнительные сведения и технические подробности см. статье [Установка Azure CLI](/cli/azure/install-azure-cli.md).

**REST API** В основе платформы Azure лежит набор интерфейсов REST API, которые поддерживают пользовательский интерфейс портала Azure. Большинство этих интерфейсов REST API поддерживается для программной подготовки ресурсов и приложений Azure и управления ими с любого устройства с подключением к Интернету. Дополнительные сведения см. в статье [Справочник по пакету SDK Azure для REST](https://docs.microsoft.com/rest/api/index).


## <a name="azure-subscriptions"></a>Подписки Azure


Подписка — это логическая группа служб Azure, связанная с учетной записью Azure. Одна учетная запись Azure может содержать несколько подписок. Выставление счетов за службы Azure выполняется по подписке. Для подписок Azure предусмотрен администратор учетных записей, который полностью контролирует подписки, и администратор службы, который контролирует все службы в подписке. Наряду с администраторами отдельным учетным записям могут быть предоставлены права тщательного контроля над ресурсами Azure через RBAC.

### <a name="select-and-enable-an-azure-subscription"></a>Выбор и активация подписки Azure

Прежде чем приступить к работе со службами Azure, вам потребуется подписка. Доступны несколько типов подписок.

**Бесплатные учетные записи**. Ссылка на регистрацию для использования бесплатной учетной записи находится на [веб-сайте Azure](https://azure.microsoft.com/). В этом случае вы получаете кредит на 30 дней, чтобы испробовать любое сочетание ресурсов в Azure. При превышении суммы по кредиту действие вашей учетной записи приостанавливается. В конце периода действия пробной версии службы будут списаны и не станут работать. Вы можете в любое время выполнить обновление до подписки с оплатой по мере использования.

**Подписки MSDN**. Если у вас есть подписка MSDN, вы каждый месяц получаете определенную сумму на счет в Azure. Например, если у вас есть Microsoft Visual Studio Enterprise с подпиской MSDN, вы получите \$150 долл. США в месяц на счет в Azure.

При превышении суммы кредита службы будут отключены до начала следующего месяца. Можно отключить предельную сумму расходов и добавить кредитную карту, которая будет использоваться в случае дополнительных расходов. Учетным записям MSDN предоставляется ряд скидок. Например, вы платите цену Linux за виртуальные машины под управлением Windows Server без дополнительной оплаты серверов корпорации Майкрософт, таких как Microsoft SQL Server. В этом случае учетные записи MSDN идеально подходят для сценариев разработки и тестирования.

**Учетные записи BizSpark**. Программа Microsoft BizSpark предоставляет множество преимуществ для стартапов. Одно из них — доступ ко всему программному обеспечению Майкрософт для сред разработки и тестирования для максимум пяти учетных записей MSDN. Вы получаете 150 долл. США на счет в Azure для каждой из этих пяти учетных записей MSDN и по сниженным тарифам оплачиваете некоторые службы Azure, например виртуальные машины.

**Оплата по мере использования**. Эта подписка позволяет оплачивать только используемые ресурсы. К учетной записи требуется подключить кредитную или дебетовую карту. Выставление счетов также может быть одобрено для организации.

**Соглашения Enterprise**. Имея соглашение Enterprise, вы берете на себя обязательство использовать определенное количество служб в Azure в течение следующего года и платите за этот период заранее. Обязательство действует на протяжении года. При превышении суммы обязательства можно оплатить возникшие задолженности. В зависимости от суммы обязательства предоставляется скидка на службы в Azure.



### <a name="grant-administrative-access-to-an-azure-subscription"></a>Предоставление административного доступа к подписке Azure


Доступны несколько ролей администратора учетной записи, которые можно изменить в любое время. Существуют две ключевые роли:

-   **Администратор службы**. Эта роль имеет права для управления службами Azure. По умолчанию это та же учетная запись, что и администратор учетной записи.

-   **Соадминистратор**. Эта роль имеет такие же права доступа, что и администратор службы. Однако эта роль не может изменить связь подписки с каталогами Azure.

Дополнительные сведения см. в статье [Добавление или изменение ролей администратора Azure](../../billing/billing-add-change-azure-subscription-administrator.md).

### <a name="view-billing-information-in-the-azure-portal"></a>Просмотр сведений о выставлении счетов на портале Azure


Важным компонентом использования Azure является возможность просматривать сведения об оплате. На портале Azure отображаются подробные сведения о выставлении счетов Azure.

Дополнительные сведения см. в статье [Скачивание счета на оплату и данных о ежедневном использовании в Azure](../../billing/billing-download-azure-invoice-daily-usage-date.md).

### <a name="get-billing-information-from-billing-apis"></a>Получение сведений о выставлении счетов из API-интерфейсов выставления счетов


Помимо просмотра сведений о выставлении счетов на портале, информацию об оплате можно получить с помощью сценария или программы из API-интерфейсов выставления счетов.

-   С помощью API-интерфейса использования Azure можно получать данные об использовании. Можно точно настроить информацию о выставлении счетов, применив теги к связанным ресурсам Azure. Например, можно отметить каждый ресурс в группе ресурсов названием отдела или проекта и затем отслеживать затраты именно по этому одному тегу.

-   Чтобы вывести список всех доступных ресурсов, а также метаданные и сведения о ценах на каждый ресурс, можно использовать API тарифной карты Azure.

Дополнительные сведения см. в статье [Получение ценных сведений о потреблении ресурсов Microsoft Azure](../../billing/billing-usage-rate-card-overview.md).

### <a name="forecast-cost-with-the-pricing-calculator"></a>Прогноз затрат с помощью калькулятора цен

Для каждой службы в Azure действуют разные цены. Многие службы Azure имеют категории "Базовый", "Стандартный" и "Премиум". Как правило, каждый уровень имеет несколько уровней цен и производительности. С помощью [калькулятора цен в Интернете](http://azure.microsoft.com/pricing/calculator) можно выполнить расчет цен. Калькулятор позволяет гибко оценивать стоимость одного ресурса или группы ресурсов.

### <a name="set-up-billing-alerts"></a>Настройка платежных оповещений

После развертывания приложения или решения в Azure можно создать оповещения, отправляющие вам электронное сообщение, когда вы приближаетесь к предельной сумме расходов, определенной в оповещении. Дополнительные сведения см. в статье [Настройка оповещений о выставлении счетов за подписки Microsoft Azure](../../billing/billing-set-up-alerts.md).

## <a name="azure-resource-manager"></a>Azure Resource Manager

Azure Resource Manager — это механизм развертывания, организации ресурсов Azure и управления ими. Resource Manager позволяет размещать множество отдельных ресурсов в группе ресурсов.

Resource Manager также предлагает возможности развертывания для выполнения настраиваемых развертываний и настройки связанных ресурсов. Например, с помощью Resource Manager можно развернуть приложение, состоящее из нескольких виртуальных машин, балансировщика нагрузки и базы данных SQL Azure как единого целого. Для разработки этих развертываний используется шаблон Resource Manager.

Диспетчер ресурсов предоставляет несколько преимуществ.

-   Вы можете развертывать и отслеживать все ресурсы вашего решения как единую группу, а не работать с ними по отдельности.

-   Вы можете повторно развертывать решение на протяжении всего цикла разработки и гарантировать, что ресурсы развертываются в согласованном состоянии.

-   Инфраструктурой можно управлять с помощью декларативных шаблонов, а не сценариев.

-   Вы можете определять зависимости между ресурсами, так чтобы они разворачивались в правильном порядке.

-   Вы можете применить контроль доступа ко всем службам, так как RBAC изначально интегрирован в платформу управления.

-   Для логического упорядочивания всех ресурсов в вашей подписке к ним можно применять теги.

-   Чтобы узнать о выставлении счетов для вашей организации, просмотрите затраты на группу ресурсов с одним тегом.

### <a name="tips-for-creating-resource-groups"></a>Советы по созданию групп ресурсов


При принятии решений о группах ресурсов рекомендуется обратить внимание на следующие советы.

-   Все ресурсы в группе ресурсов должны иметь одинаковый жизненный цикл.

-   Назначать ресурсы можно только по одному и только в одну группу.

-   Ресурс можно добавить в группу ресурсов или удалить из нее в любое время. Каждый ресурс должны принадлежать группе ресурсов. Поэтому при удалении ресурса из одной группы его необходимо добавить в другую.

-   Большинство типов ресурсов можно в любое время переместить в другую группу ресурсов.

-   Группа ресурсов может содержать ресурсы, которые находятся в разных регионах.

-   Группы ресурсов можно использовать для контроля доступа к находящимся в них ресурсам.

### <a name="building-resource-manager-templates"></a>Создание шаблонов Resource Manager

Шаблоны Resource Manager декларативно определяют ресурсы и конфигурации ресурсов, которые будут развернуты в одной группе ресурсов. Шаблоны Resource Manager можно использовать для управления сложными развертываниями без необходимости написания дополнительных сценариев или конфигурации вручную. Разработанный шаблон можно развертывать несколько раз, каждый раз с идентичными выходными данными.

Шаблон Resource Manager состоит из четырех разделов.

-   **Параметры**. Это входные данные для развертывания. Значения параметров может указывать человек или автоматизированный процесс. Примером параметра может быть имя пользователя администратора и пароль для виртуальной машины Windows. Значения параметров указываются и используются в ходе развертывания.

-   **Переменные**. Они используются для хранения значений, применяемых в развертывании. В отличие от параметров значение переменной не указывается во время развертывания. Оно строго кодируется или создается динамически.

-   **Ресурсы**. Этот раздел шаблона определяет развертываемые ресурсы, такие как виртуальные машины, учетные записи хранения и виртуальные сети.

-   **Выходные данные**. После завершения развертывания Resource Manager может возвращать данные, такие как динамически создаваемые строки подключений.

Для автоматизации развертывания доступны следующие механизмы.

-   **Функции**. В шаблонах Resource Manager можно использовать несколько функций. К ним относятся операции, такие как преобразование строки в нижний регистр, развертывание нескольких экземпляров определенного ресурса и динамический возврат целевой группы ресурсов. Функции Resource Manager помогают создавать динамические развертывания.

-   **Зависимости ресурсов**. При развертывании нескольких ресурсов некоторые из них будет зависеть от других. Для упрощения развертывания можно использовать объявление зависимостей, чтобы зависимые ресурсы развертывались раньше других.

-   **Связывание шаблонов**. Один шаблон Resource Manager можно связать с другим. Это позволяет разбивать развертывание на созданные для конкретной цели шаблоны.

Создавать шаблоны Resource Manager можно в любом текстовом редакторе. Однако пакет Azure SDK для Visual Studio содержит средства, упрощающие этот процесс. В Visual Studio можно добавить ресурсы в шаблон с помощью мастера, а затем развернуть и отладить шаблон непосредственно в среде Visual Studio. Дополнительные сведения см. в статье [Создание шаблонов Azure Resource Manager](../../resource-group-authoring-templates.md).

И, наконец, можно преобразовать существующие группы ресурсов в многократно используемый шаблон на портале Azure. Это может быть полезно, если требуется создать развертываемый шаблон существующей группы ресурсов или нужно просто проанализировать базовый JSON. Чтобы экспортировать группу ресурсов, нажмите кнопку **Сценарий автоматизации** в окне параметров группы ресурсов.

## <a name="security-of-azure-resources-rbac"></a>Безопасность ресурсов Azure (RBAC)

Вы можете предоставить учетным записям пользователей доступ на выполнение операций в указанной области. Это может быть подписка, группа ресурсов или отдельный ресурс. Это означает, что можно развернуть набор ресурсов в группу ресурсов, такую как виртуальная машина и все связанные ресурсы, и предоставить разрешения конкретному пользователю или группе. Этот подход позволяет предоставлять доступ только к ресурсам, принадлежащим целевой группе ресурсов. Можно также предоставить доступ к отдельному ресурсу, например виртуальной машине или виртуальной сети.

Чтобы предоставить доступ, следует назначить роль пользователю или группе пользователей. Существует множество предопределенных ролей. Также можно определить собственные настраиваемые роли.

Ниже приведены примеры нескольких ролей, встроенных в Azure.

-   **Владелец**. Пользователь с этой ролью может управлять всем, включая доступ.

-   **Читатель**. Пользователь с этой ролью может считывать ресурсы всех типов (кроме секретов), но не может вносить изменения.

-   **Участник виртуальных машин**. Пользователь с этой ролью может управлять виртуальными машинами, но не может управлять виртуальной сетью, к которой он подключен, или учетной записью хранения, где находится файл виртуального жесткого диска.

-   **Участник SQL DB**. Пользователь с этой ролью может управлять базами данных SQL, но не их политиками безопасности.

-   **Диспетчер безопасности SQL**. Пользователь с этой ролью может управлять политиками безопасности для серверов и баз данных SQL.

-   **Участник учетных записей хранения**. Пользователь с этой ролью может управлять учетными записями хранения, но не может управлять доступом к ним.

Дополнительные сведения см. в статье [Использование назначений ролей для управления доступом к ресурсам в подписке Azure](../../role-based-access-control/role-assignments-portal.md).

## <a name="azure-virtual-machines"></a>Виртуальные машины Azure

Служба виртуальных машин Azure является одной из основных служб IaaS в Azure. Служба "Виртуальные машины Azure" поддерживает развертывание виртуальных машин Windows или Linux в центре обработки данных Microsoft Azure. Эта служба предоставляет вам полный контроль над конфигурацией виртуальных машин и налагает на вас обязательство по установке, настройке и обслуживанию всего программного обеспечения.

При развертывании виртуальной машины Azure можно выбрать образ из Azure Marketplace или использовать собственный обобщенный образ. Этот образ используется для применения операционной системы и выполнения начальной конфигурации. Во время развертывания Resource Manager будет обрабатывать некоторые параметры конфигурации, например присвоение имени компьютера, учетные данные администратора и конфигурацию сети. Расширения виртуальных машин Azure можно использовать для дальнейшей автоматизации конфигураций, например для установки программного обеспечения, настройки антивирусных программ и решений по мониторингу.

Можно создать виртуальные машины самых разных размеров. Размер виртуальной машины определяет выделение ресурсов, например обработку, память и объем хранилища. В некоторых случаях конкретные компоненты, такие как сетевые адаптеры с поддержкой RDMA и SSD-диски, доступны только для виртуальных машин определенных размеров. Полный список размеров и возможностей виртуальных машин см. в разделе "Размеры виртуальных машин в Azure" для [Windows](../../virtual-machines/windows/sizes.md) и [Linux](../../virtual-machines/linux/sizes.md).

### <a name="use-cases"></a>Варианты использования

Так как виртуальные машины Azure предоставляют полный контроль над конфигурацией, они идеально подходят для разнообразных серверных рабочих нагрузок, которые не соответствуют модели PaaS. На платформе Microsoft Azure появляется возможность запуска таких серверных рабочих нагрузок, как серверы баз данных (SQL Server, Oracle или MongoDB), Windows Server Active Directory, Microsoft SharePoint и многих других. При желании эти рабочие нагрузки можно перемещать из локального центра обработки данных в один или несколько регионах Azure без существенной перенастройки.

### <a name="deployment-of-virtual-machines"></a>Развертывание виртуальных машин

Для развертывания виртуальных машин Azure можно использовать портал Azure, функцию автоматизации в модуле Azure PowerShell или функцию автоматизации в кроссплатформенном CLI.

**Портал**

Для развертывания виртуальной машины на портале Azure требуется только активная подписка Azure и доступ к веб-браузеру. Можно выбрать множество образов операционных систем с различными конфигурациями. Все требования к хранилищу и сети настраиваются во время развертывания. Дополнительные сведения см. в разделе "Создание виртуальной машины на портале Azure" для [Windows](../../virtual-machines/windows/quick-create-portal.md) и [Linux](../../virtual-machines/linux/quick-create-portal.md).

Помимо развертывания виртуальной машины на портале Azure можно развернуть шаблон Azure Resource Manager на портале. Это поможет развернуть и настроить все ресурсы, как определено в шаблоне. Дополнительные сведения см. в статье [Развертывание ресурсов с использованием шаблонов Resource Manager и портала Azure](../../azure-resource-manager/resource-group-template-deploy-portal.md).


**PowerShell**

Развертывание виртуальной машины Azure с помощью PowerShell позволяет полностью автоматизировать развертывание всех связанных ресурсов виртуальной машины, включая хранилища и сети. Дополнительные сведения см. в статье [Создание виртуальной машины Windows с помощью Resource Manager и PowerShell](../../virtual-machines/windows/quick-create-powershell.md).

Помимо развертывания вычислительных ресурсов Azure по отдельности, можно использовать модуль Azure PowerShell для развертывания шаблона Azure Resource Manager. Дополнительные сведения см. в статье [Развертывание ресурсов с использованием шаблонов Resource Manager и Azure PowerShell](../../azure-resource-manager/resource-group-template-deploy.md).

**интерфейса командной строки (CLI)**

Как и в случае с модулем PowerShell, интерфейс командной строки Azure позволяет автоматизировать развертывание и может использоваться в системах Windows, Linux и OS X. При использовании команды **vm quick-create** Azure CLI происходит развертывание всех связанных ресурсов виртуальной машины (включая хранилища и сети) и самой виртуальной машины. Дополнительные сведения см. в статье [Создание виртуальной машины Linux с помощью Azure CLI](../../virtual-machines/linux/quick-create-cli.md).

Аналогично, Azure CLI можно использовать для развертывания шаблона Azure Resource Manager. Дополнительные сведения см. в статье [Развертывание ресурсов с использованием шаблонов Resource Manager и Azure CLI](../../azure-resource-manager/resource-group-template-deploy-cli.md).

### <a name="access-and-security-for-virtual-machines"></a>Доступ и безопасность для виртуальных машин

Для доступа к виртуальной машине из Интернета требуется соответствующий сетевой интерфейс (или балансировщик нагрузки, если это применимо), настроенный с общедоступным IP-адресом. Общедоступный IP-адрес включает имя DNS, которое будет разрешено в виртуальную машину или балансировщик нагрузки. Дополнительные сведения см. в статье [IP-адреса в Azure](../../virtual-network/virtual-network-ip-addresses-overview-arm.md).

Управление доступом к виртуальной машине через общедоступный IP-адрес осуществляется с помощью ресурса группы безопасности сети (NSG). NSG работает как брандмауэр и разрешает или запрещает передачу трафика через сетевой интерфейс или подсеть для набора определенных портов. Например, чтобы создать сеанс удаленного рабочего стола с виртуальной машиной Azure, необходимо настроить NSG для разрешения входящего трафика на порту 3389. Дополнительные сведения см. в статье [Открытие портов для виртуальной машины в Azure с помощью портала Azure](../../virtual-machines/windows/nsg-quickstart-portal.md).

Наконец, как и при управлении любой вычислительной системой, необходимо обеспечить безопасность для виртуальной машины Azure в операционной системе с помощью учетных данных безопасности и встроенных брандмауэров.

## <a name="azure-storage"></a>Хранилище Azure

Хранилище Azure — это управляемая корпорацией Майкрософт служба, предоставляющая возможности стабильного, масштабируемого и избыточного хранения. Учетную запись хранения Azure можно добавить как ресурс в любую группу ресурсов с помощью любого метода развертывания ресурсов. В Azure существует четыре типа хранилища: хранилище BLOB-объектов, хранилище файлов, хранилище таблиц и хранилище очередей. При развертывании учетной записи хранения доступны два типа учетных записей: общего назначения и для хранения BLOB-объектов. Учетная запись хранения общего назначения предоставляет доступ ко всем типам хранилищ. Учетные записи хранения BLOB-объектов схожи с учетными записями общего назначения, но содержат специализированные BLOB-объекты, включающие уровни горячего и холодного доступа. Дополнительные сведения о хранилище BLOB-объектов см. в статье [Хранилище BLOB-объектов Azure](../../storage/blobs/storage-blob-storage-tiers.md).

Учетные записи хранения Azure можно настроить с разными уровнями избыточности.

-   **Локально избыточное хранилище** обеспечивает высокий уровень доступности за счет синхронного создания трех копий всех данных перед успешным выполнением записи. Эти копии хранятся в одном помещении в одном регионе. Реплики находятся в отдельных доменах сбоя и доменах обновления. Это означает, что данные остаются доступными даже в том случае, если узел хранилища, содержащий данные, выходит из строя или переводится в автономный режим для обновления.

-   **Геоизбыточное хранилище** создает три синхронных копии данных в основном регионе для обеспечения высокой доступности, а затем асинхронно создает три реплики в парном регионе на случай аварийного восстановления.

-   **Геоизбыточное хранилище с доступом для чтения** представляет собой геоизбыточное хранилище с возможностью чтения данных в дополнительном регионе. Эта возможность вполне подходит для частичного аварийного восстановления. При наличии проблемы с основным регионом можно изменить приложение так, чтобы оно имело доступ только для чтения к парному региону.

### <a name="use-cases"></a>Варианты использования 

Для каждого типа хранилища существует собственный вариант использования.

**Хранилище BLOB-объектов** 

Слово *BLOB* является аббревиатурой *binary large object* (большой логический объект). BLOB-объекты представляют собой неструктурированные файлы, аналогичные тем, которые хранятся на компьютере. В хранилище BLOB-объектов могут храниться текстовые или двоичные данные любого типа, например документы, файлы мультимедиа или установщики приложений. Хранилище BLOB-объектов иногда также называют хранилищем объектов. Хранилище BLOB-объектов Azure также содержит диски с данными виртуальных машин Azure.

Хранилище Azure поддерживает три типа BLOB-объектов.

-   **Блочные BLOB-объекты** используются для хранения обычных файлов до 195 ГБ (4 МБ × 50 000 блоков). Основным вариантом использования блочных BLOB-объектов является хранение файлов, которые считываются от начала до конца (например, файлы мультимедиа, файлы изображений для веб-сайтов). Это именованные блочные BLOB-объекты, так как файлы, размер которых превышает 64 МБ, должны отправляться в виде небольших блоков. Затем эти блоки объединяются (или фиксируются) в конечный BLOB-объект.

-   **Страничные BLOB-объекты** используются для хранения файлов произвольного доступа размером до 1 ТБ. Страничные BLOB-объекты применяются главным образом в качестве резервного хранилища для виртуальных жестких дисков, которые являются устойчивыми дисками для виртуальных машин Azure, службы вычислений IaaS в Azure. Это именованные страничные BLOB-объекты, так как они предоставляют произвольный доступ на чтение и запись 512-байтовых страниц.

-   **Добавочные BLOB-объекты** состоят из блоков, как и блочные BLOB-объекты, однако они оптимизированы для операций добавления. Они часто используются для регистрации информации из одного или нескольких источников в один BLOB-объект. Например, можно записать все журналы трассировки в один добавочный BLOB-объект приложения, которое выполняется на нескольких виртуальных машинах. Один добавочный BLOB-объект может иметь размер до 195 ГБ.

Дополнительные сведения см. в статье [Приступая к работе с хранилищем BLOB-объектов Azure с помощью .NET](../../storage/blobs/storage-dotnet-how-to-use-blobs.md).

**Хранилище файлов**

Хранилище файлов Azure — это служба, которая предлагает доступ к общим папкам в облаке с использованием стандартного протокола SMB. Служба поддерживает SMB 2.1 и SMB 3.0. Хранилище файлов Azure позволяет быстро и без дорогостоящей перезаписи выполнить перенос приложений в Azure, связанных с общими папками. Приложения, работающие на виртуальных машинах Azure, в облачных службах или на локальных клиентах, могут подключать общую папку в облаке. Это выполняется так же, как настольное приложение подключает обычную общую папку SMB. Любое количество компонентов приложений может одновременно подключаться и получать доступ к ресурсам хранилища файлов.

Так как ресурсы хранилища файлов представляют собой стандартные файловые ресурсы SMB, приложения, работающие в Azure, могут получать к ним доступ через API ввода-вывода. Таким образом, разработчики могут использовать имеющиеся у них коды и навыки для миграции существующих приложений. ИТ-специалисты получают возможность использовать командлеты PowerShell для создания и подключения ресурсов хранилища файлов, а также управления им в качестве части администрирования приложений Azure.

Дополнительные сведения см. в статьях [Приступая к работе с хранилищем файлов Azure в Windows](../../storage/files/storage-how-to-use-files-windows.md) или [Использование хранилища файлов Azure в Linux](../../storage/files/storage-how-to-use-files-linux.md).

**Хранилище таблиц**

Хранилище таблиц Azure — это служба в облаке, в которой хранятся структурированные данные NoSQL. Хранилище таблиц — это хранилище ключей и атрибутов, реализованное в виде бессхемной конструкции. Такая конструкция хранилища таблиц позволяет легко адаптировать данные по мере расширения приложения. Быстрый и экономичный доступ к данным предоставляется приложениям всех видов. Табличное хранилище обычно значительно дешевле, чем традиционная база данных SQL для тех же объемов данных.

Табличное хранилище можно использовать для хранения гибких наборов данных, например пользовательских данных для веб-приложений, адресных книг, сведений об устройстве, а также метаданных любого другого типа, которые требуются вашей службе. В таблице можно хранить любое число сущностей. Учетная запись хранения может содержать любое количество таблиц в пределах емкости учетной записи хранения.

Дополнительные сведения см. в статье [Приступая к работе с хранилищем таблиц Azure](../../cosmos-db/table-storage-how-to-use-dotnet.md).

**Хранилище очередей**

Хранилище очередей Azure — это служба, обеспечивающая обмен сообщениями в облаке между компонентами приложения. При разработке приложений для масштабирования компоненты приложения часто не связаны между собой, так что они могут масштабироваться независимо друг от друга. Хранилище очередей обеспечивает асинхронный обмен сообщениями для взаимодействия между компонентами приложения независимо от того, где они выполняются: в облаке, на рабочем столе, локальном сервере или мобильном устройстве. Хранилище очередей также поддерживает управление асинхронными задачами и построение рабочих процессов.

Дополнительные сведения см. в статье [Приступая к работе с хранилищем очередей Azure](../../storage/queues/storage-dotnet-how-to-use-queues.md).

### <a name="deploying-a-storage-account"></a>Развертывание учетной записи хранения

Существует несколько вариантов развертывания учетной записи хранения.

**Портал**

Для развертывания учетной записи хранения на портале Azure требуется только активная подписка Azure и доступ к веб-браузеру. Новую учетную запись хранения можно развернуть в новой или существующей группе ресурсов. Создав учетную запись хранения, на портале можно создать контейнер BLOB-объектов или общую папку. Существует программный способ создания сущностей хранилищ таблиц и очередей. Дополнительные сведения см. в разделе [Создание учетной записи хранения](../../storage/common/storage-create-storage-account.md#create-a-storage-account).

Помимо развертывания учетной записи хранения на портале Azure можно развернуть шаблон Azure Resource Manager на портале. Это поможет развернуть и настроить все ресурсы, как определено в шаблоне, включая любые учетные записи хранения. Дополнительные сведения см. в статье [Развертывание ресурсов с использованием шаблонов Resource Manager и портала Azure](../../azure-resource-manager/resource-group-template-deploy-portal.md).

**PowerShell**

Развертывание учетной записи хранения Azure с помощью PowerShell позволяет полностью автоматизировать развертывание учетной записи хранения. Дополнительные сведения см. в статье [Использование Azure PowerShell со службой хранилища Azure](../../storage/common/storage-powershell-guide-full.md).

Помимо развертывания ресурсов Azure по отдельности, можно использовать модуль Azure PowerShell для развертывания шаблона Azure Resource Manager. Дополнительные сведения см. в статье [Развертывание ресурсов с использованием шаблонов Resource Manager и Azure PowerShell](../../azure-resource-manager/resource-group-template-deploy.md).

**интерфейса командной строки (CLI)**

Как и в случае с модулем PowerShell, интерфейс командной строки Azure позволяет автоматизировать развертывание и может использоваться в системах Windows, Linux и OS X. С помощью команды Azure CLI **storage account create** можно создать учетную запись хранения. Дополнительные сведения см. в статье [Использование Azure CLI со службой хранилища Azure](../../storage/common/storage-azure-cli.md).

Аналогично, Azure CLI можно использовать для развертывания шаблона Azure Resource Manager. Дополнительные сведения см. в статье [Развертывание ресурсов с использованием шаблонов Resource Manager и Azure CLI](../../resource-group-template-deploy-cli.md).

### <a name="access-and-security-for-azure-storage"></a>Доступ и безопасность для службы хранилища Azure

Доступ к хранилищу Azure осуществляется различными способами — с портала Azure, во время создания и эксплуатации виртуальной машины, а также из клиентских библиотек хранилища. 

**Диски виртуальной машины**

При развертывании виртуальной машины также необходимо создать учетную запись хранения для хранения диска операционной системы виртуальной машины и любых дополнительных дисков с данными. Можно выбрать существующую учетную запись хранения или создать новую. Так как максимальный размер BLOB-объекта составляет 1024 ГБ, размер одного диска виртуальной машины не должен превышать 1023 ГБ. Чтобы настроить более объемный диск данных, можно взять несколько дисков данных на виртуальной машине и объединить их в виде одного логического диска. Дополнительные сведения см. в разделе "Управление дисками Azure" для [Windows](../../virtual-machines/windows/tutorial-manage-data-disk.md) и [Linux](../../virtual-machines/linux/tutorial-manage-disks.md).

**Средства хранилища**

Доступ к учетным записям хранения Azure можно получать с помощью множества различных обозревателей хранилищ, таких как Visual Studio Cloud Explorer. Эти инструменты позволяют перемещаться по учетным записям хранения и данным. Дополнительные сведения и список доступных обозревателей хранилищ см. в разделе [Клиентские инструменты службы хранилища Azure](../../storage/common/storage-explorers.md).

**API-интерфейс хранилища**

Для доступа к ресурсам хранилища можно воспользоваться любым языком, позволяющим отправлять запросы HTTP или HTTPS. Кроме того, хранилище Azure предлагает библиотеки программирования для нескольких распространенных языков. Эти библиотеки упрощают работу с хранилищем Azure, обрабатывая такие процессы, как синхронное и асинхронное инициирование, пакетная обработка операций, управление исключениями и автоматические повторы. Дополнительные сведения см. в [справочнике по REST API службы хранилища Azure](/rest/api/storageservices/Azure-Storage-Services-REST-API-Reference).

**Ключи доступа к хранилищу**

Каждая учетная запись хранения имеет два ключа проверки подлинности — первичный и вторичный. Каждый из них можно использовать для операций доступа к хранилищу. Эти ключи к хранилищу данных используются для защиты учетной записи хранения и необходимы для программного доступа к данным. Существует два ключа для разрешения случайной смены ключей в целях повышения безопасности. Крайне важно хранить эти ключи в надежном месте, поскольку обладание ими вместе с именем учетной записи позволяет получать неограниченный доступ ко всем данным в учетной записи хранения.

**Подписанные URL-адреса**

Если требуется разрешить пользователям управляемый доступ к ресурсам хранилища, можно создать подписанный URL-адрес. Подписанный URL-адрес — это маркер, который можно добавить к URL-адресу, который разрешает делегированный доступ к ресурсу хранилища. Любой пользователь, обладающий маркером, может получить доступ к ресурсу, на который указывает маркер, с определяемыми им разрешениями на период времени, в течение которого он действителен. Дополнительные сведения см. в статье [Использование подписанных URL-адресов](../../storage/common/storage-dotnet-shared-access-signature-part-1.md).

## <a name="azure-virtual-network"></a>Виртуальная сеть Azure


Виртуальные сети необходимы для обмена данными между виртуальными машинами. Для них можно определить подсети, пользовательский IP-адрес, параметры DNS, фильтры безопасности и балансировку нагрузки. Используя VPN-шлюз или канал ExpressRoute, можно подключить виртуальные сети Azure к локальным сетям.

### <a name="use-cases"></a>Варианты использования

Существуют разные варианты использования для сети Azure.

**Облачные виртуальные сети**

Виртуальная сеть Azure по умолчанию доступна только ресурсам, хранящимся в Azure. Ресурсы, которые подключаются к той же виртуальной сети, могут взаимодействовать друг с другом. Сетевые интерфейсы виртуальных машин и балансировщики нагрузки можно связать с общедоступным IP-адресом, чтобы виртуальные машины стали доступны через Интернет. Обеспечить защиту общедоступных ресурсов можно с помощью групп безопасности сети.

**Распределенные виртуальные сети**

Локальную сеть можно подключить к виртуальной сети Azure с помощью ExpressRoute или VPN-подключения типа "сеть-сеть". В этой конфигурации виртуальная сеть Azure по сути является облачным расширением локальной сети.

Так как виртуальная сеть Azure подключается к локальной сети, распределенная виртуальная сеть должна использовать уникальную часть адресного пространства, используемого в организации. Подобно тому, как разным помещениям организации назначаются разные IP-подсети, так и Azure становится еще одним расположением в сети.

### <a name="deploying-a-virtual-network"></a>Развертывание виртуальной сети

Существует несколько вариантов развертывания виртуальной сети.

**Портал**

Для развертывания виртуальной сети на портале Azure требуется только активная подписка Azure и доступ к веб-браузеру. Новую виртуальную сеть можно развернуть в новой или существующей группе ресурсов. При создании виртуальной машины на портале можно выбрать существующую виртуальную сеть или создать новую. Дополнительные сведения см. в статье [Создание виртуальной сети с помощью портала Azure](../../virtual-network/quick-create-portal.md).

Помимо развертывания виртуальной сети Azure на портале Azure можно развернуть шаблон Azure Resource Manager на портале. Это поможет развернуть и настроить все ресурсы, как определено в шаблоне, включая любые ресурсы виртуальной сети. Дополнительные сведения см. в статье [Развертывание ресурсов с использованием шаблонов Resource Manager и портала Azure](../../azure-resource-manager/resource-group-template-deploy-portal.md).

**PowerShell**

Развертывание виртуальной сети Azure с помощью PowerShell позволяет полностью автоматизировать развертывание учетной записи хранения. Дополнительные сведения см. в статье [Создание виртуальной сети с помощью PowerShell](../../virtual-network/quick-create-powershell.md).

Помимо развертывания ресурсов Azure по отдельности, можно использовать модуль Azure PowerShell для развертывания шаблона Azure Resource Manager. Дополнительные сведения см. в статье [Развертывание ресурсов с использованием шаблонов Resource Manager и Azure PowerShell](../../azure-resource-manager/resource-group-template-deploy.md).

**интерфейса командной строки (CLI)**

Как и в случае с модулем PowerShell, интерфейс командной строки Azure позволяет автоматизировать развертывание и может использоваться в системах Windows, Linux и OS X. С помощью команды **az network vnet create** Azure CLI можно создать виртуальную сеть. Дополнительные сведения см. в статье [Создание виртуальной сети с помощью Azure CLI](../../virtual-network/quick-create-cli.md).

Аналогично, Azure CLI можно использовать для развертывания шаблона Azure Resource Manager. Дополнительные сведения см. в статье [Развертывание ресурсов с использованием шаблонов Resource Manager и Azure CLI](../../azure-resource-manager/resource-group-template-deploy-cli.md).

### <a name="access-and-security-for-virtual-networks"></a>Доступ и безопасность для виртуальных сетей

С помощью групп безопасности сети можно обеспечить защиту виртуальных сетей Azure. Эти группы содержат перечень правил списка контроля доступа (ACL), которые разрешают или запрещают сетевой трафик на экземпляры виртуальных машин в виртуальной сети. Группы безопасности сети можно связать с подсетями или отдельными экземплярами виртуальных машин в одной из подсетей. Когда NSG связана с подсетью, правила списка контроля доступа применяются ко всем экземплярам виртуальной машины в этой подсети. Кроме того, трафик на отдельные виртуальные машины можно дополнительно ограничить, связав NSG непосредственно с нужной виртуальной машиной. Дополнительные сведения см. в статье [Фильтрация сетевого трафика с помощью групп безопасности сети](../../virtual-network/security-overview.md).

## <a name="next-steps"></a>Дополнительная информация

- [Создание виртуальной машины Windows](/virtual-machines/windows/quick-create-portal.md)
- [Создание виртуальной машины Linux](../../virtual-machines/linux/quick-create-portal.md)
