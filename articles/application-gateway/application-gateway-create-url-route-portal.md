---
title: "Создание правила на основе пути для шлюза приложений с помощью портала Azure | Документация Майкрософт"
description: "Узнайте, как создать правило на основе пути для шлюза приложений с помощью портала Azure."
services: application-gateway
documentationcenter: na
author: davidmu1
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 87bd93bc-e1a6-45db-a226-555948f1feb7
ms.service: application-gateway
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 04/03/2017
ms.author: davidmu
ms.translationtype: HT
ms.sourcegitcommit: fda37c1cb0b66a8adb989473f627405ede36ab76
ms.openlocfilehash: f90813c0150d17f301f243c534d77ffd3da297b1
ms.contentlocale: ru-ru
ms.lasthandoff: 09/14/2017

---
# <a name="create-a-path-based-rule-for-an-application-gateway-by-using-the-azure-portal"></a>Создание правила на основе пути для шлюза приложений с помощью портала Azure

> [!div class="op_single_selector"]
> * [Портал Azure](application-gateway-create-url-route-portal.md)
> * [PowerShell и диспетчер ресурсов Azure](application-gateway-create-url-route-arm-ps.md)
> * [Azure CLI 2.0](application-gateway-create-url-route-cli.md)

Маршрутизация на основе URL-пути позволяет связывать маршруты на основе URL-пути HTTP-запросов. При такой маршрутизации проверяется, настроен ли для URL-адресов в шлюзе приложений маршрут к внутреннему пулу, после чего сетевой трафик передается в определенный пул. Как правило, маршрутизация на основе URL-пути используется для распределения запросов содержимого разных типов между разными внутренними пулами серверов.

Шлюз приложений использует два типа правил: правила простой маршрутизации и правила маршрутизации на основе URL-пути. Правила простой маршрутизации предоставляют службу с циклическим перебором для внутренних пулов. Правила маршрутизации на основе пути, помимо циклического распределения, для выбора внутреннего пула также используют шаблон пути URL-адреса запроса.

## <a name="scenario"></a>Сценарий

В следующем сценарии создается правило на основе пути в существующем шлюзе приложений.
В нем предполагается, что действия по [созданию шлюза приложений на портале](application-gateway-create-gateway-portal.md) уже выполнены.

![Маршрут URL-адреса][scenario]

## <a name="createrule"></a>Создание правила на основе пути

Для правила на основе пути требуется собственный прослушиватель. Прежде чем создать правило, убедитесь в наличии доступного прослушивателя.

### <a name="step-1"></a>Шаг 1

Перейдите на [портал Azure](http://portal.azure.com) и выберите имеющийся шлюз приложений. Щелкните **Правила**.

![Обзор шлюза приложений][1]

### <a name="step-2"></a>Шаг 2

Нажмите кнопку **На основе пути**, чтобы добавить новое правило на основе пути.

### <a name="step-3"></a>Шаг 3.

Колонка **добавления правила на основе пути** состоит из двух разделов. В первом разделе следует определить прослушиватель, имя правила и параметры пути по умолчанию. Параметры пути по умолчанию используются для тех маршрутов, которые не соответствуют пользовательским маршрутам на основе пути. Во второй части колонки **добавления правила на основе пути** определяются сами правила на основе пути.

**Основные параметры**

* **Имя**: понятное имя правила, которое будет отображаться на портале.
* **Прослушиватель:** прослушиватель, который используется для этого правила.
* **Серверный пул по умолчанию**: внутренний пул, который будет использоваться для правила по умолчанию.
* **Параметры HTTP по умолчанию**: параметры HTTP, которые будут использоваться для правила по умолчанию.

**Параметры правила на основе пути**

* **Имя**: понятное имя правила на основе пути.
* **Пути**: путь, который будет использоваться правилом для перенаправления трафика.
* **Внутренний пул**: внутренний пул, который будет использоваться для этого правила.
* **Параметры HTTP:** параметры HTTP, которые будут использоваться для этого правила.

> [!IMPORTANT]
> Параметр **Пути** определяет список шаблонов пути для сопоставления. Каждый шаблон должен начинаться с косой черты (/), а звездочка допускается только в конце пути. Допустимые варианты: /abc, /abc* и /abc/*.  

![Колонка добавления правила на основе пути с заполненной информацией][2]

Добавить правило на основе пути для существующего шлюза приложений на портале Azure очень просто. После создания правила на основе пути его можно изменить, чтобы добавить дополнительные правила. 

![Добавление дополнительных правил на основе пути][3]

Так настраивается маршрут на основе пути. Важно понимать, что запросы не перезаписываются. Поступающие запросы проверяются шлюзом приложений и, в зависимости от шаблона URL-адреса, отправляются к соответствующему внутреннему пулу.

## <a name="next-steps"></a>Дальнейшие действия

Чтобы узнать, как настроить разгрузку SSL с использованием шлюза приложений Azure, прочитайте раздел [Настройка шлюза приложений для разгрузки SSL с помощью портала Azure](application-gateway-ssl-portal.md).

[1]: ./media/application-gateway-create-url-route-portal/figure1.png
[2]: ./media/application-gateway-create-url-route-portal/figure2.png
[3]: ./media/application-gateway-create-url-route-portal/figure3.png
[scenario]: ./media/application-gateway-create-url-route-portal/scenario.png

