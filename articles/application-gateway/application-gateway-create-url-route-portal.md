---
title: "Создание правила на основе пути для шлюза приложений Azure с помощью портала Azure | Документация Майкрософт"
description: "Узнайте, как создать правило на основе пути для шлюза приложений с помощью портала."
services: application-gateway
documentationcenter: na
author: georgewallace
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 87bd93bc-e1a6-45db-a226-555948f1feb7
ms.service: application-gateway
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 04/03/2017
ms.author: gwallace
ms.translationtype: HT
ms.sourcegitcommit: 8b857b4a629618d84f66da28d46f79c2b74171df
ms.openlocfilehash: c184e94a04cfbdedcae70ed154aeb7dd134d1baf
ms.contentlocale: ru-ru
ms.lasthandoff: 08/04/2017

---
# <a name="create-a-path-based-rule-for-an-application-gateway-by-using-the-portal"></a>Создание правила на основе пути для шлюза приложений с помощью портала

> [!div class="op_single_selector"]
> * [Портал Azure](application-gateway-create-url-route-portal.md)
> * [PowerShell и диспетчер ресурсов Azure](application-gateway-create-url-route-arm-ps.md)
> * [Azure CLI 2.0](application-gateway-create-url-route-cli.md)

Маршрутизация на основе URL-адресов позволяет связывать маршруты на основе URL-пути HTTP-запроса. Она проверяет, настроен ли для URL-адресов в шлюзе приложений маршрут к пулу тыловых серверов, и отправляет сетевой трафик в указанный пул. Как правило, маршрутизация на основе URL-адресов используется для распределения запросов содержимого разных типов между разными пулами тыловых серверов.

При маршрутизации на основе URL-адресов к шлюзу приложений добавляется новый тип правил. Шлюз приложений имеет два типа правил: базовые правила и правила на основе пути. Правила базового типа выполняют циклический перебор пулов тыловых серверов, а правила на основе пути учитывают при выборе соответствующего пула тыловых серверов еще и шаблон URL-адреса запроса.

## <a name="scenario"></a>Сценарий

В следующем сценарии рассматривается создание правила на основе пути в существующем шлюзе приложений.
Предполагается, что действия по [созданию шлюза приложений](application-gateway-create-gateway-portal.md)уже выполнены.

![Маршрут URL-адреса][scenario]

## <a name="createrule"></a>Создание правила на основе пути

Для правила на основе пути требуется собственный прослушиватель, поэтому, прежде чем создавать правило, нужно убедиться в наличии свободного прослушивателя.

### <a name="step-1"></a>Шаг 1

Перейдите на [портал Azure](http://portal.azure.com) и выберите существующий шлюз приложений. Щелкните **Правила**

![Обзор шлюза приложений][1]

### <a name="step-2"></a>Шаг 2

Нажмите кнопку **На основе пути** , чтобы добавить новое правило на основе пути.

### <a name="step-3"></a>Шаг 3.

Колонка **добавления правила на основе пути** состоит из двух разделов. В первом разделе вы определяете прослушиватель, имя правила и параметры пути по умолчанию. Параметры пути по умолчанию используются для тех маршрутов, которые не соответствуют пользовательским маршрутам на основе пути. Во второй части колонки **добавления правила на основе пути** определяются сами правила на основе пути.

**Основные параметры**

* **Имя** — понятное имя правила, которое отображается на портале.
* **Прослушиватель** — прослушиватель, который используется для этого правила.
* **Пул тыловых серверов по умолчанию** — этот параметр определяет, какие тыловые серверы будут использоваться для правила по умолчанию.
* **Параметр HTTP по умолчанию** — этот параметр определяет, какие параметры HTTP будут использоваться для правила по умолчанию.

**Правила на основе пути**

* **Имя** — понятное пользователю имя правила на основе пути.
* **Пути** — этот параметр определяет путь, который будет использоваться правилом для перенаправления трафика.
* **Пул тыловых серверов** — этот параметр определяет, какие тыловые серверы будут использоваться для этого правила.
* **Параметры HTTP** — этот параметр определяет, какие параметры HTTP будут использоваться для этого правила.

> [!IMPORTANT]
> Пути: список шаблонов пути для сопоставления. Каждый шаблон должен начинаться с косой черты (/). Знак "\*" может находиться только в конце. Примеры допустимых значений: /xyz, /xyz* или /xyz/*.  

![Колонка добавления правила на основе пути с заполненной информацией][2]

Добавить правило на основе пути к существующему шлюзу приложения на портале очень просто. Созданное правило на основе пути можно легко изменить, добавив дополнительные правила. 

![добавление правил на основе пути][3]

Так настраивается маршрут на основе пути. Очень важно понять, что запросы не перезаписываются, так как запросы шлюза приложений проверяются при поступлении, а базовый элемент шаблона URL-адреса отправляет запрос к соответствующему серверу.

## <a name="next-steps"></a>Дальнейшие действия

Сведения по настройке разгрузки SSL с использованием шлюза приложений Azure см. в статье [Настройка шлюза приложений для разгрузки SSL с помощью портала](application-gateway-ssl-portal.md)

[1]: ./media/application-gateway-create-url-route-portal/figure1.png
[2]: ./media/application-gateway-create-url-route-portal/figure2.png
[3]: ./media/application-gateway-create-url-route-portal/figure3.png
[scenario]: ./media/application-gateway-create-url-route-portal/scenario.png

