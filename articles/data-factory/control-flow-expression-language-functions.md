---
title: Выражения и функции в фабрике данных Azure | Документация Майкрософт
description: В этой статье содержатся сведения о выражениях и функциях, используемых для создания сущностей фабрики данных.
services: data-factory
documentationcenter: ''
author: sharonlo101
manager: craigg
ms.reviewer: douglasl
ms.service: data-factory
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: conceptual
ms.date: 01/10/2018
ms.author: shlo
ms.openlocfilehash: ea612f0c58b92e37d405f9a57611610fa187f7db
ms.sourcegitcommit: 266fe4c2216c0420e415d733cd3abbf94994533d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/01/2018
ms.locfileid: "34619326"
---
# <a name="expressions-and-functions-in-azure-data-factory"></a>Выражения и функции в фабрике данных Azure
> [!div class="op_single_selector" title1="Select the version of Data Factory service you are using:"]
> * [Версия 1 — общедоступная](v1/data-factory-functions-variables.md)
> * [Версия 2 — предварительная](control-flow-expression-language-functions.md)

В этой статье содержатся сведения о выражениях и функциях, поддерживаемых фабрикой данных Azure (версия 2). 

## <a name="introduction"></a>Введение
Значения JSON в определении могут быть литералами или выражениями, которые оцениваются в среде выполнения. Например:   
  
```json
"name": "value"
```

 или  
  
```json
"name": "@pipeline().parameters.password"
```


> [!NOTE]
> Эта статья относится к версии 2 фабрики данных, которая в настоящее время доступна в предварительной версии. Если вы используете общедоступную версию 1 службы фабрики данных, см. статью [Фабрика данных Azure — функции и системные переменные](v1/data-factory-functions-variables.md).


## <a name="expressions"></a>Выражения  
Выражения могут встречаться в любом месте строкового значения JSON и всегда возвращают другое значение JSON. Если значение JSON является выражением, текст выражения извлекается без знака \"\@\". Если требуется строковый литерал, начинающийся с \@\, его необходимо экранировать с помощью "@@". В примерах ниже показано, как вычисляются выражения.  
  
|Значение JSON|Результат|  
|----------------|------------|  
|"parameters"|Возвращаются символы в виде 'parameters'.|  
|"parameters[1]"|Возвращаются символы в виде 'parameters[1]'.|  
|"@@"|Возвращается строка из 1 символа, содержащая символ \@.|  
|\"\@\"|Возвращается строка из 2 символов, содержащая символ \@\.|  
  
 Выражения также могут содержаться внутри строк, где они заключаются в структуру `@{ ... }`, при использовании *интерполяции строк*. Например: `"name" : "First Name: @{pipeline().parameters.firstName} Last Name: @{pipeline().parameters.lastName}"`  
  
 При использовании интерполяции строки результатом всегда будет строка. Предположим, `myNumber` определено как `42`, а `myString` — как `foo`:  
  
|Значение JSON|Результат|  
|----------------|------------|  
|@pipeline().parameters.myString| Возвращает `foo` как строку.|  
|@{pipeline().parameters.myString}| Возвращает `foo` как строку.|  
|@pipeline().parameters.myNumber| Возвращает `42` как *номер*.|  
|@{pipeline().parameters.myString}| Возвращает `42` как *строку*.|  
|Answer is: @{pipeline().parameters.myNumber}| Возвращает строку `Answer is: 42`.|  
|@concatAnswer is: @{pipeline().parameters.myNumber}| Возвращает строку `Answer is: 42`.|  
|Answer is: @{pipeline().parameters.myNumber}| Возвращает строку `Answer is: @{pipeline().parameters.myNumber}`.|  
  
### <a name="examples"></a>Примеры

#### <a name="a-dataset-with-a-parameter"></a>Набор данных с параметром
В следующем примере BlobDataset принимает параметр с именем **path**. Его значение используется для задания значения свойства **folderPath** с помощью следующих выражений: `@{dataset().path}`. 

```json
{
    "name": "BlobDataset",
    "properties": {
        "type": "AzureBlob",
        "typeProperties": {
            "folderPath": "@dataset().path"
        },
        "linkedServiceName": {
            "referenceName": "AzureStorageLinkedService",
            "type": "LinkedServiceReference"
        },
        "parameters": {
            "path": {
                "type": "String"
            }
        }
    }
}
```

#### <a name="a-pipeline-with-a-parameter"></a>Конвейер с параметром
В следующем примере конвейер принимает параметры **inputPath** и **outputPath**. **Путь** к параметризованному набору данных большого двоичного объекта задается с помощью значений этих параметров. Синтаксис, используемый здесь: `pipeline().parameters.parametername`. 

```json
{
    "name": "Adfv2QuickStartPipeline",
    "properties": {
        "activities": [
            {
                "name": "CopyFromBlobToBlob",
                "type": "Copy",
                "inputs": [
                    {
                        "referenceName": "BlobDataset",
                        "parameters": {
                            "path": "@pipeline().parameters.inputPath"
                        },
                        "type": "DatasetReference"
                    }
                ],
                "outputs": [
                    {
                        "referenceName": "BlobDataset",
                        "parameters": {
                            "path": "@pipeline().parameters.outputPath"
                        },
                        "type": "DatasetReference"
                    }
                ],
                "typeProperties": {
                    "source": {
                        "type": "BlobSource"
                    },
                    "sink": {
                        "type": "BlobSink"
                    }
                }
            }
        ],
        "parameters": {
            "inputPath": {
                "type": "String"
            },
            "outputPath": {
                "type": "String"
            }
        }
    }
}
```
  
## <a name="functions"></a>Функции Azure  
 Внутри выражений можно вызывать функции. В следующих разделах предоставлены сведения о функциях, которые могут использоваться в выражении.  

## <a name="string-functions"></a>Строковые функции  
 Следующие функции применяются только к строкам. Вы также можете использовать в строках ряд функций для коллекций.  
  
|Имя функции|ОПИСАНИЕ|  
|-------------------|-----------------|  
|concat|Объединяет любое число строк. Например, если параметр 1 — `foo,`, следующее выражение возвратит `somevalue-foo-somevalue`: `concat('somevalue-',pipeline().parameters.parameter1,'-somevalue')`.<br /><br /> **Номер параметра:** 1 ... *n*.<br /><br /> **Имя:** строка *n*.<br /><br /> **Описание:** обязательно. Строки, которые следует объединить в одну строку.|  
|substring|Возвращает подмножество символов из строки. Например, при использовании следующего выражения:<br /><br /> `substring('somevalue-foo-somevalue',10,3)`<br /><br /> Результат:<br /><br /> `foo`<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** строка.<br /><br /> **Описание:** обязательно. Строка, из которой извлекается подстрока.<br /><br /> **Номер параметра:** 2.<br /><br /> **Имя:** индекс начала.<br /><br /> **Описание:** обязательно. Индекс, где начинается подстрока в параметре 1.<br /><br /> **Номер параметра:** 3.<br /><br /> **Имя:** длина.<br /><br /> **Описание:** обязательно. Длина подстроки.|  
|replace|Заменяет строку заданной строкой. Например, при использовании выражения:<br /><br /> `replace('the old string', 'old', 'new')`<br /><br /> Результат:<br /><br /> `the new string`<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** строка.<br /><br /> **Описание:** обязательно.  Строка, в которой выполняется поиск параметра 2 и которая обновляется параметром 1, если параметр 2 найден в параметре 3.<br /><br /> **Номер параметра:** 2.<br /><br /> **Имя:** старая строка.<br /><br /> **Описание:** обязательно. Строка для замены параметром 3, если найдено совпадение в параметре 1.<br /><br /> **Номер параметра:** 3.<br /><br /> **Имя:** новая строка.<br /><br /> **Описание:** обязательно. Строка для замены строки в параметре 2, если найдено совпадение в параметре 1.|  
|GUID| Создает глобально уникальную строку ( идентификатор GUID), например `c2ecc88d-88c8-4096-912c-d6f2e2b138ce`:<br /><br /> `guid()`<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** формат.<br /><br /> **Описание:** необязательно. Один описатель формата, указывающий [способ форматирования значения GUID](https://msdn.microsoft.com/library/97af8hh4%28v=vs.110%29.aspx). Параметром формата может быть N, D, B, P или X. Если формат не указан, используется D.|  
|toLower|Преобразует строку в нижний регистр. Например, возвращается следующее `two by two is four`: `toLower('Two by Two is Four')`<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** строка.<br /><br /> **Описание:** обязательно. Строка для преобразования в нижний регистр. Если символ в строке не имеет эквивалента в нижнем регистре, он добавляется в возвращаемую строку без изменений.|  
|toUpper|Преобразует строку в верхний регистр. Например, следующее выражение возвращает `TWO BY TWO IS FOUR`: `toUpper('Two by Two is Four')`.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** строка.<br /><br /> **Описание:** обязательно. Строка для преобразования в верхний регистр. Если символ в строке не имеет эквивалента в верхнем регистре, он добавляется в возвращаемую строку без изменений.|  
|indexof|Поиск индекса значения в строке без учета регистра. Например, следующее выражение возвращает `7`: `indexof('hello, world.', 'world')`.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** строка.<br /><br /> **Описание:** обязательно. Строка, которая может содержать значение.<br /><br /> **Номер параметра:** 2.<br /><br /> **Имя:** строка.<br /><br /> **Описание:** обязательно. Значение, для которого будет выполняться поиск индекса.|  
|lastindexof|Поиск последнего индекса значения в строке без учета регистра. Например, следующее выражение возвращает `3`: `lastindexof('foofoo', 'foo')`.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** строка.<br /><br /> **Описание:** обязательно. Строка, которая может содержать значение.<br /><br /> **Номер параметра:** 2.<br /><br /> **Имя:** строка.<br /><br /> **Описание:** обязательно. Значение, для которого будет выполняться поиск индекса.|  
|startswith|Проверяет, начинается ли строка с определенного значения без учета регистра. Например, следующее выражение возвращает `true`: `lastindexof('hello, world', 'hello')`.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** строка.<br /><br /> **Описание:** обязательно. Строка, которая может содержать значение.<br /><br /> **Номер параметра:** 2.<br /><br /> **Имя:** строка.<br /><br /> **Описание:** обязательно. Значение, с которого может начинаться строка.|  
|endswith|Проверяет, заканчивается ли строка определенным значением без учета регистра. Например, следующее выражение возвращает `true`: `lastindexof('hello, world', 'world')`.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** строка.<br /><br /> **Описание:** обязательно. Строка, которая может содержать значение.<br /><br /> **Номер параметра:** 2.<br /><br /> **Имя:** строка.<br /><br /> **Описание:** обязательно. Значение, которым может заканчиваться строка.|  
|split|Разбивает строку с помощью разделителя. Например, следующее выражение возвращает `["a", "b", "c"]`: `split('a;b;c',';')`.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** строка.<br /><br /> **Описание:** обязательно. Разбиваемая строка.<br /><br /> **Номер параметра:** 2.<br /><br /> **Имя:** строка.<br /><br /> **Описание:** обязательно. Разделитель.|  
  
  
## <a name="collection-functions"></a>Функции для коллекций  
 Эти функции работают с коллекциями, такими как массивы, строки и иногда словари.  
  
|Имя функции|ОПИСАНИЕ|  
|-------------------|-----------------|  
|contains|Возвращает значение true, если словарь содержит ключ, список содержит значение или строка содержит подстроку. Например, следующее выражение возвращает `true:``contains('abacaba','aca')`.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** в коллекции.<br /><br /> **Описание:** обязательно. Коллекция, в которой будет выполняться поиск.<br /><br /> **Номер параметра:** 2.<br /><br /> **Имя:** объект поиска.<br /><br /> **Описание:** обязательно. Искомый объект внутри **коллекции**.|  
|длина|Возвращает количество элементов в массиве или строке. Например, следующее выражение возвращает `3`: `length('abc')`.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** коллекция.<br /><br /> **Описание:** обязательно. Коллекция, чью длину необходимо получить.|  
|empty|Возвращает значение true, если объект, массив или строка пуста. Например, следующее выражение возвращает `true`:<br /><br /> `empty('')`<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** коллекция.<br /><br /> **Описание:** обязательно. Коллекция, которую нужно проверить на наличие содержимого.|  
|пересечению|Возвращает массив или объект, имеющий общие элементы с переданными массивами или объектами. Например, эта функция возвращает `[1, 2]`:<br /><br /> `intersection([1, 2, 3], [101, 2, 1, 10],[6, 8, 1, 2])`<br /><br /> Параметрами для этой функции может быть набор объектов или набор массивов (не сочетание обоих). Если имеется два объекта с одинаковым именем, в конечном объекте содержится последний объект с таким именем.<br /><br /> **Номер параметра:** 1 ... *n*.<br /><br /> **Имя:** коллекция *n*.<br /><br /> **Описание:** обязательно. Коллекции для оценки. Для отображения в результате объект должен присутствовать во всех переданных коллекциях.|  
|union|Возвращает массив или объект со всеми элементами, содержащимися в массиве или объекте, который был передан. Например, эта функция возвращает `[1, 2, 3, 10, 101]:`<br /><br /> : `union([1, 2, 3], [101, 2, 1, 10])`<br /><br /> Параметрами для этой функции может быть набор объектов или набор массивов (не сочетание обоих). Если в конечных выходных данных имеется два объекта с одинаковым именем, в конечном объекте отображается последний объект с таким именем.<br /><br /> **Номер параметра:** 1 ... *n*.<br /><br /> **Имя:** коллекция *n*.<br /><br /> **Описание:** обязательно. Коллекции для оценки. Объект, который содержится в какой-либо коллекции, также отображается в результатах.|  
|first|Возвращает первый элемент в переданном массиве или строке. Например, эта функция возвращает `0`:<br /><br /> `first([0,2,3])`<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** коллекция.<br /><br /> **Описание:** обязательно. Коллекция, из которой нужно извлечь первый объект.|  
|last|Возвращает последний элемент в переданном массиве или строке. Например, эта функция возвращает `3`:<br /><br /> `last('0123')`<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** коллекция.<br /><br /> **Описание:** обязательно. Коллекция, из которой нужно извлечь последний объект.|  
|take|Возвращает первые **число** элементов из переданного массива или строки, например эта функция возвращает `[1, 2]`: `take([1, 2, 3, 4], 2)`.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** коллекция.<br /><br /> **Описание:** обязательно. Коллекция, в которой нужно взять первые **число** объектов.<br /><br /> **Номер параметра:** 2.<br /><br /> **Имя:** число.<br /><br /> **Описание:** обязательно. Число объектов, которые нужно извлечь из **коллекции**. Принимаются только положительные целые числа.|  
|skip|Возвращает элементы в массиве, начиная с индекса **число**, например эта функция возвращает `[3, 4]`:<br /><br /> `skip([1, 2 ,3 ,4], 2)`<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** коллекция.<br /><br /> **Описание:** обязательно. Коллекция, в которой нужно пропустить первые **число** объектов.<br /><br /> **Номер параметра:** 2.<br /><br /> **Имя:** число.<br /><br /> **Описание:** обязательно. Количество объектов, которые нужно удалить в начале **коллекции**. Принимаются только положительные целые числа.|  
  
## <a name="logical-functions"></a>Логические функции  
 Эти функции подходят для условий и могут использоваться для определения логики любого типа.  
  
|Имя функции|ОПИСАНИЕ|  
|-------------------|-----------------|  
|equals (равно)|Возвращает значение true, если два значения равны. Например, если параметр 1 — foo, следующее выражение возвратит `true`: `equals(pipeline().parameters.parameter1), 'foo')`<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** объект 1.<br /><br /> **Описание:** обязательно. Объект для сравнения с **объектом 2**.<br /><br /> **Номер параметра:** 2.<br /><br /> **Имя:** объект 2.<br /><br /> **Описание:** обязательно. Объект для сравнения с **объектом 1**.|  
|less|Возвращает значение true, если первый аргумент меньше второго. Обратите внимание, значения могут быть только типа integer, float или string. Например, следующее выражение возвращает `true`: `less(10,100)`.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** объект 1.<br /><br /> **Описание:** обязательно. Объект для проверки, не меньше ли он **объекта 2**.<br /><br /> **Номер параметра:** 2.<br /><br /> **Имя:** объект 2.<br /><br /> **Описание:** обязательно. Объект для проверки, не больше ли он **объекта 1**.|  
|lessOrEquals|Возвращает значение true, если первый аргумент меньше второго или равен ему. Обратите внимание, значения могут быть только типа integer, float или string. Например, следующее выражение возвращает `true`: `lessOrEquals(10,10)`.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** объект 1.<br /><br /> **Описание:** обязательно. Объект для проверки, не меньше ли он **объекта 2** или равен ему.<br /><br /> **Номер параметра:** 2.<br /><br /> **Имя:** объект 2.<br /><br /> **Описание:** обязательно. Объект для проверки, не больше ли он **объекта 1** или равен ему.|  
|greater|Возвращает значение true, если первый аргумент больше второго. Обратите внимание, значения могут быть только типа integer, float или string. Например, следующее выражение возвращает `false`: `greater(10,10)`.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** объект 1.<br /><br /> **Описание:** обязательно. Объект для проверки, не больше ли он **объекта 2**.<br /><br /> **Номер параметра:** 2.<br /><br /> **Имя:** объект 2.<br /><br /> **Описание:** обязательно. Объект для проверки, не меньше ли он **объекта 1**.|  
|greaterOrEquals|Возвращает значение true, если первый аргумент больше второго или равен ему. Обратите внимание, значения могут быть только типа integer, float или string. Например, следующее выражение возвращает `false`: `greaterOrEquals(10,100)`.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** объект 1.<br /><br /> **Описание:** обязательно. Объект для проверки, не больше ли он **объекта 2** или равен ему.<br /><br /> **Номер параметра:** 2.<br /><br /> **Имя:** объект 2.<br /><br /> **Описание:** обязательно. Объект для проверки, не меньше ли он **объекта 1** или равен ему.|  
|и|Возвращает значение true, если оба параметра получают значение true. Оба аргумента должны быть логическими значениями. Возвращается следующее `false`: `and(greater(1,10),equals(0,0))`.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** логическое значение 1.<br /><br /> **Описание:** обязательно. Первый аргумент, который должен получить значение `true`.<br /><br /> **Номер параметра:** 2.<br /><br /> **Имя:** логическое значение 2.<br /><br /> **Описание:** обязательно. Второй аргумент, который должен получить значение `true`.|  
|или|Возвращает значение true, если один из параметров получает значение true. Оба аргумента должны быть логическими значениями. Возвращается следующее `true`: `or(greater(1,10),equals(0,0))`.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** логическое значение 1.<br /><br /> **Описание:** обязательно. Первый аргумент, который может получить значение `true`.<br /><br /> **Номер параметра:** 2.<br /><br /> **Имя:** логическое значение 2.<br /><br /> **Описание:** обязательно. Второй аргумент, который может получить значение `true`.|  
|not|Возвращает значение true, если параметр получает значение `false`. Оба аргумента должны быть логическими значениями. Возвращается следующее `true`: `not(contains('200 Success','Fail'))`.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** логическое значение.<br /><br /> **Описание**. Возвращает значение true, если параметр получает значение `false`. Оба аргумента должны быть логическими значениями. Возвращается следующее `true`: `not(contains('200 Success','Fail'))`.|  
|if|Возвращает определенное значение на основе выполнения условия в выражении (`true` или `false`).  Например, возвращается следующее `"yes"`: `if(equals(1, 1), 'yes', 'no')`<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** выражение.<br /><br /> **Описание:** обязательно. Логическое значение, определяющее, какое значение возвращается выражением.<br /><br /> **Номер параметра:** 2.<br /><br /> **Имя**: true.<br /><br /> **Описание:** обязательно. Значение, которое возвращается, если результатом обработки выражения является значение `true`.<br /><br /> **Номер параметра:** 3.<br /><br /> **Имя:** false.<br /><br /> **Описание:** обязательно. Значение, которое возвращается, если результатом обработки выражения является значение `false`.|  
  
## <a name="conversion-functions"></a>Функции преобразования  
 Эти функции используются для преобразования между собственными типами языка:  
  
-   строка  
  
-   целое число  
  
-   float;  
  
-   Логическое  
  
-   arrays;  
  
-   dictionaries;  
  
|Имя функции|ОПИСАНИЕ|  
|-------------------|-----------------|  
|int|Преобразование параметра в целое число. Например, следующее выражение возвращает 100 как число, а не как строку: `int('100')`.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** значение.<br /><br /> **Описание:** обязательно. Значение, которое преобразуется в целое число.|  
|строка|Преобразование параметра в строку. Например, следующее выражение возвращает `'10'`: `string(10)`. Можно преобразовать объект в строку, например, если параметр **foo** является объектом с одним свойством `bar : baz`, тогда следующее выражение возвращает `{"bar" : "baz"}` `string(pipeline().parameters.foo)`.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** значение.<br /><br /> **Описание:** обязательно. Значение, которое преобразуется в строку.|  
|json|Преобразование параметра в значение типа JSON. Это противоположность функции string(). Например, следующее выражение возвращает `[1,2,3]` в качестве массива, а не строки:<br /><br /> `json('[1,2,3]')`<br /><br /> Аналогичным образом можно преобразовать строку в объект. Например, `json('{"bar" : "baz"}')` возвращает:<br /><br /> `{ "bar" : "baz" }`<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** строка.<br /><br /> **Описание:** обязательно. Строка, которая преобразуется в значение собственного типа.<br /><br /> Функция json также поддерживает входные XML-данные. Например, значение параметра<br /><br /> `<?xml version="1.0"?> <root>   <person id='1'>     <name>Alan</name>     <occupation>Engineer</occupation>   </person> </root>`<br /><br /> преобразуется в следующий json:<br /><br /> `{ "?xml": { "@version": "1.0" },   "root": {     "person": [     {       "@id": "1",       "name": "Alan",       "occupation": "Engineer"     }   ]   } }`|  
|float;|Преобразование аргумента параметра в число с плавающей запятой. Например, следующее выражение возвращает `10.333`: `float('10.333')`.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** значение.<br /><br /> **Описание:** обязательно. Значение, которое преобразуется в число с плавающей запятой.|  
|bool|Преобразование параметра в логическое значение. Например, следующее выражение возвращает `false`: `bool(0)`.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** значение.<br /><br /> **Описание:** обязательно. Значение, которое преобразуется в логическое значение.|  
|coalesce|Возвращает первый объект, который не имеет значение null, в переданных аргументах. Примечание. Пустая строка не имеет значение null. Например, если параметры 1 и 2 не определены, возвращается `fallback`: `coalesce(pipeline().parameters.parameter1', pipeline().parameters.parameter2 ,'fallback')`<br /><br /> **Номер параметра:** 1 ... *n*.<br /><br /> **Имя:** объект *n*.<br /><br /> **Описание:** обязательно. Объекты, значения которых проверяются на соответствие значению `null`.|  
|base64|Возвращает входную строку в кодировке Base64. Например, следующее выражение возвращает `c29tZSBzdHJpbmc=`: `base64('some string')`.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** строка 1.<br /><br /> **Описание:** обязательно. Строка, которую нужно кодировать в формате Base64.|  
|base64ToBinary|Возвращает двоичное представление строки в кодировке Base64. Например, следующее выражение возвращает двоичное представление некоторой строки: `base64ToBinary('c29tZSBzdHJpbmc=')`.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** строка.<br /><br /> **Описание:** обязательно. Строка в кодировке Base64.|  
|base64ToString|Возвращает строковое представление строки в кодировке Base64. Например, следующее выражение возвращает некоторую строку: `base64ToString('c29tZSBzdHJpbmc=')`.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** строка.<br /><br /> **Описание:** обязательно. Строка в кодировке Base64.|  
|Binary|Возвращает двоичное представление значения.  Например, следующее выражение возвращает двоичное представление некоторой строки: `binary(‘some string’).`.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** значение.<br /><br /> **Описание:** обязательно. Значение, которое преобразуется в двоичный формат.|  
|dataUriToBinary|Возвращает двоичное представление URI данных. Например, следующее выражение возвращает двоичное представление некоторой строки: `dataUriToBinary('data:;base64,c29tZSBzdHJpbmc=')`.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** строка.<br /><br /> **Описание:** обязательно. URI данных для преобразования в двоичный формат.|  
|dataUriToString|Возвращает строковое представление URI данных. Например, следующее выражение возвращает некоторую строку: `dataUriToString('data:;base64,c29tZSBzdHJpbmc=')`.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** строка.<br /><br />**Описание:** обязательно. URI данных для преобразования в строку.|  
|dataUri|Возвращает URI данных значения. Например, следующее выражение возвращает данные: `text/plain;charset=utf8;base64,c29tZSBzdHJpbmc=: dataUri('some string')`.<br /><br /> **Номер параметра:** 1.<br /><br />**Имя:** значение.<br /><br />**Описание:** обязательно. Значение, которое необходимо преобразовать в URI данных.|  
|decodeBase64|Возвращает строковое представление входной строки в кодировке Base64. Например, следующее выражение возвращает `some string`: `decodeBase64('c29tZSBzdHJpbmc=')`.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** строка.<br /><br /> **Описание:** возвращает строковое представление входной строки в кодировке Base64.|  
|encodeUriComponent|Преобразование переданной строки в представление без опасных для URL-адреса символов. Например, следующее выражение возвращает `You+Are%3ACool%2FAwesome`: `encodeUriComponent('You Are:Cool/Awesome')`.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** строка.<br /><br /> **Описание:** обязательно. Строка, из которой нужно удалить символы, опасные для URL-адреса.|  
|decodeUriComponent|Преобразование переданной строки в представление с опасными для URL-адреса символами. Например, следующее выражение возвращает `You Are:Cool/Awesome`: `encodeUriComponent('You+Are%3ACool%2FAwesome')`.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** строка.<br /><br /> **Описание:** обязательно. Строка, из которой нужно декодировать опасные для URL-символы.|  
|decodeDataUri|Возвращает двоичное представление входной строки URI данных. Например, следующее выражение возвращает двоичное представление `some string`: `decodeDataUri('data:;base64,c29tZSBzdHJpbmc=')`.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** строка.<br /><br /> **Описание:** обязательно. URI данных, который нужно декодировать в двоичное представление.|  
|uriComponent|Возвращает закодированный URI. Например, следующее выражение возвращает `You+Are%3ACool%2FAwesome: uriComponent('You Are:Cool/Awesome ')`.<br /><br /> Сведения о параметрах. Номер: 1. Имя: строка. Описание: требуется. Строка, в которой нужно закодировать URI.|  
|uriComponentToBinary|Возвращает двоичное представление строки с закодированным URI. Например, следующее выражение возвращает двоичное представление `You Are:Cool/Awesome`: `uriComponentToBinary('You+Are%3ACool%2FAwesome')`.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** строка.<br /><br />**Описание:** обязательно. Строка с закодированным URI.|  
|uriComponentToString|Возвращает строковое представление строки с закодированным URI. Например, следующее выражение возвращает `You Are:Cool/Awesome`: `uriComponentToBinary('You+Are%3ACool%2FAwesome')`.<br /><br /> **Номер параметра:** 1.<br /><br />**Имя:** строка.<br /><br />**Описание:** обязательно. Строка с закодированным URI.|  
|xml|Возвращает XML-представление значения. Например, следующее выражение возвращает следующее представление содержимого XML `'\<name>Alan\</name>'`: `xml('\<name>Alan\</name>')`. Функция XML также поддерживает входные данные в виде объекта JSON. Например, параметр `{ "abc": "xyz" }` преобразуется в XML-содержимое: `\<abc>xyz\</abc>`<br /><br /> **Номер параметра:** 1.<br /><br />**Имя:** значение.<br /><br />**Описание:** обязательно. Значение, которое необходимо преобразовать в XML-формат.|  
|xpath|Возвращает массив XML-узлов, соответствующих значению, которое возвращает выражение XPath.<br /><br />  **Пример 1**<br /><br /> Предположим, значение параметра p1 — строковое представление следующего XML-кода:<br /><br /> `<?xml version="1.0"?> <lab>   <robot>     <parts>5</parts>     <name>R1</name>   </robot>   <robot>     <parts>8</parts>     <name>R2</name>   </robot> </lab>`<br /><br /> 1. Код `xpath(xml(pipeline().parameters.p1), '/lab/robot/name')`<br /><br /> возвращает<br /><br /> `[ <name>R1</name>, <name>R2</name> ]`<br /><br /> в то время как<br /><br /> 2. Код `xpath(xml(pipeline().parameters.p1, ' sum(/lab/robot/parts)')`<br /><br /> возвращает<br /><br /> `13`<br /><br /> <br /><br /> **Пример 2**<br /><br /> У нас есть следующее XML-содержимое:<br /><br /> `<?xml version="1.0"?> <File xmlns="http://foo.com">   <Location>bar</Location> </File>`<br /><br /> 1.  Код `@xpath(xml(body('Http')), '/*[name()=\"File\"]/*[name()=\"Location\"]')`<br /><br /> или<br /><br /> 2. Код `@xpath(xml(body('Http')), '/*[local-name()=\"File\" and namespace-uri()=\"http://foo.com\"]/*[local-name()=\"Location\" and namespace-uri()=\"\"]')`<br /><br /> возвращает<br /><br /> `<Location xmlns="http://foo.com">bar</Location>`<br /><br /> и<br /><br /> 3. Код `@xpath(xml(body('Http')), 'string(/*[name()=\"File\"]/*[name()=\"Location\"])')`<br /><br /> возвращает<br /><br /> ``bar``<br /><br /> **Номер параметра:** 1.<br /><br />**Имя:** XML.<br /><br />**Описание:** обязательно. XML-код, который будет использоваться для вычисления выражения XPath.<br /><br /> **Номер параметра:** 2.<br /><br />**Имя:** XPath.<br /><br />**Описание:** обязательно. Выражение XPath для вычисления.|  
|array|Преобразование параметра в массив.  Например, следующее выражение возвращает `["abc"]`: `array('abc')`.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** значение.<br /><br /> **Описание:** обязательно. Значение, которое преобразуется в массив.|
|createArray|Создает массив из параметров.  Например, следующее выражение возвращает `["a", "c"]`: `createArray('a', 'c')`.<br /><br /> **Номер параметра:** 1 ... n.<br /><br /> **Имя**. Параметр с любым номером.<br /><br /> **Описание:** обязательно. Значения для объединения в массив.|

## <a name="math-functions"></a>Математические функции  
 Эти функции могут использоваться для любого типа чисел: **целых чисел** и **чисел с плавающей запятой**.  
  
|Имя функции|ОПИСАНИЕ|  
|-------------------|-----------------|  
|добавление|Возвращает результат сложения двух чисел. Например, эта функция возвращает `20.333`: `add(10,10.333)`.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** слагаемое 1.<br /><br /> **Описание:** обязательно. Число для добавления к **слагаемому 2**.<br /><br /> **Номер параметра:** 2.<br /><br /> **Имя:** слагаемое 2.<br /><br /> **Описание:** обязательно. Число для добавления к **слагаемому 1**.|  
|sub|Возвращает результат вычитания двух чисел. Например, эта функция возвращает `-0.333`:<br /><br /> `sub(10,10.333)`<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** уменьшаемое.<br /><br /> **Описание:** обязательно. Число, из которого вычитается **вычитаемое**.<br /><br /> **Номер параметра:** 2.<br /><br /> **Имя:** вычитаемое.<br /><br /> **Описание:** обязательно. Число, которое вычитается из **уменьшаемого**.|  
|mul|Возвращает результат умножения двух чисел. Например, возвращается следующее `103.33`:<br /><br /> `mul(10,10.333)`<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** множитель 1.<br /><br /> **Описание:** обязательно. Число, на которое умножается **множитель 2**.<br /><br /> **Номер параметра:** 2.<br /><br /> **Имя:** множитель 2.<br /><br /> **Описание:** обязательно. Число, на которое умножается **множитель 1**.|  
|div|Возвращает результат деления двух чисел. Например, возвращается следующее `1.0333`:<br /><br /> `div(10.333,10)`<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** делимое.<br /><br /> **Описание:** обязательно. Число, которое нужно поделить на **делитель**.<br /><br /> **Номер параметра:** 2.<br /><br /> **Имя:** делитель.<br /><br /> **Описание:** обязательно. Число, на которое нужно поделить **делимое**.|  
|mod (модуль)|Возвращает результат деления двух чисел (остаток от деления). Например, следующее выражение возвращает `2`:<br /><br /> `mod(10,4)`<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** делимое.<br /><br /> **Описание:** обязательно. Число, которое нужно поделить на **делитель**.<br /><br /> **Номер параметра:** 2.<br /><br /> **Имя:** делитель.<br /><br /> **Описание:** обязательно. Число, на которое нужно поделить **делимое**. После деления берется остаток.|  
|Min|Существует два разных шаблона вызова этой функции: `min([0,1,2])`. Здесь min принимает массив. Это выражение возвращает: `0`. Кроме того, эта функция может принять разделенный запятыми список значений и также вернуть `min(0,1,2)`. Эта функция также возвращает 0. Учтите, что все значения должны быть числами, поэтому если параметр представляет собой массив, он должен содержать только числа.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** коллекция или значение.<br /><br /> **Описание:** обязательно. Это может быть массив значений для поиска минимального значения или первого значения набора.<br /><br /> **Номер параметра:** 2 ... *n*.<br /><br /> **Имя:** значение *n*.<br /><br /> **Описание:** необязательно. Если первый параметр является значением, можно передать дополнительные значения. В таком случае будет возвращено минимальное из всех переданных значений.|  
|max|Есть два разных метода вызова этой функции `max([0,1,2])`.<br /><br /> Здесь max принимает массив. Это выражение возвращает: `2`. Кроме того, эта функция может принять разделенный запятыми список значений `max(0,1,2)`. Эта функция возвращает 2. Учтите, что все значения должны быть числами, поэтому если параметр представляет собой массив, он должен содержать только числа.<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** коллекция или значение.<br /><br /> **Описание:** обязательно. Это может быть массив значений для поиска максимального значения или первого значения набора.<br /><br /> **Номер параметра:** 2 ... *n*.<br /><br /> **Имя:** значение *n*.<br /><br /> **Описание:** необязательно. Если первый параметр является значением, можно передать дополнительные значения. В таком случае будет возвращено максимальное из всех переданных значений.|  
|range| Создает массив целых чисел, начиная с определенного чиста. Необходимо указать длину возвращаемого массива. Например, эта функция возвращает `[3,4,5,6]`:<br /><br /> `range(3,4)`<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** индекс начала.<br /><br /> **Описание:** обязательно. Это первое целое число в массиве.<br /><br /> **Номер параметра:** 2.<br /><br /> **Имя:** число.<br /><br /> **Описание:** обязательно. Количество целых чисел, которые находятся в массиве.|  
|rand| Создает случайное целое число в указанном диапазоне (включая начальное и конечное значения диапазона). Например, это может вернуть `42`:<br /><br /> `rand(-1000,1000)`<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** минимальное значение.<br /><br /> **Описание:** обязательно. Наименьшее целое число, которое может быть возвращено.<br /><br /> **Номер параметра:** 2.<br /><br /> **Имя:** максимальное значение.<br /><br /> **Описание:** обязательно. Наибольшее целое число, которое может быть возвращено.|  
  
## <a name="date-functions"></a>Функции данных  
  
|Имя функции|ОПИСАНИЕ|  
|-------------------|-----------------|  
|utcnow|Возвращает текущую метку времени в виде строки. Например, `2015-03-15T13:27:36Z`:<br /><br /> `utcnow()`<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** формат.<br /><br /> **Описание:** необязательно. [Один допустимый символ описателя формата](https://msdn.microsoft.com/library/az4se3k1%28v=vs.110%29.aspx) или [пользовательский шаблон формата](https://msdn.microsoft.com/library/8kb3ddd4%28v=vs.110%29.aspx), который определяет способ форматирования значения этой метки времени. Если формат не указан, используется формат ISO 8601 ("o").|  
|addseconds|Добавляет число секунд (целое) к переданной метке времени (строка). Это число может быть положительным или отрицательным. По умолчанию результатом является строка в формате ISO 8601 ("o"), если описатель формата не указан. Например, `2015-03-15T13:27:00Z`:<br /><br /> `addseconds('2015-03-15T13:27:36Z', -36)`<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** метка времени.<br /><br /> **Описание:** обязательно. Строка, содержащая время.<br /><br /> **Номер параметра:** 2.<br /><br /> **Имя:** секунды.<br /><br /> **Описание:** обязательно. Количество секунд, которое нужно добавить. Это значение может быть отрицательным для вычитания секунд.<br /><br /> **Номер параметра:** 3.<br /><br /> **Имя:** формат.<br /><br /> **Описание:** необязательно. [Один допустимый символ описателя формата](https://msdn.microsoft.com/library/az4se3k1%28v=vs.110%29.aspx) или [пользовательский шаблон формата](https://msdn.microsoft.com/library/8kb3ddd4%28v=vs.110%29.aspx), который определяет способ форматирования значения этой метки времени. Если формат не указан, используется формат ISO 8601 ("o").|  
|addminutes|Добавляет число минут (целое) к переданной метке времени (строка). Это число может быть положительным или отрицательным. По умолчанию результатом является строка в формате ISO 8601 ("o"), если описатель формата не указан. Например, `2015-03-15T14:00:36Z`:<br /><br /> `addminutes('2015-03-15T13:27:36Z', 33)`<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** метка времени.<br /><br /> **Описание:** обязательно. Строка, содержащая время.<br /><br /> **Номер параметра:** 2.<br /><br /> **Имя:** минуты.<br /><br /> **Описание:** обязательно. Количество минут, которое нужно добавить. Это значение может быть отрицательным для вычитания минут.<br /><br /> **Номер параметра:** 3.<br /><br /> **Имя:** формат.<br /><br /> **Описание:** необязательно. [Один допустимый символ описателя формата](https://msdn.microsoft.com/library/az4se3k1%28v=vs.110%29.aspx) или [пользовательский шаблон формата](https://msdn.microsoft.com/library/8kb3ddd4%28v=vs.110%29.aspx), который определяет способ форматирования значения этой метки времени. Если формат не указан, используется формат ISO 8601 ("o").|  
|addhours|Добавляет число часов (целое) к переданной метке времени (строка). Это число может быть положительным или отрицательным. По умолчанию результатом является строка в формате ISO 8601 ("o"), если описатель формата не указан. Например, `2015-03-16T01:27:36Z`:<br /><br /> `addhours('2015-03-15T13:27:36Z', 12)`<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** метка времени.<br /><br /> **Описание:** обязательно. Строка, содержащая время.<br /><br /> **Номер параметра:** 2.<br /><br /> **Имя:** часы.<br /><br /> **Описание:** обязательно. Количество часов, которое нужно добавить. Это значение может быть отрицательным для вычитания часов.<br /><br /> **Номер параметра:** 3.<br /><br /> **Имя:** формат.<br /><br /> **Описание:** необязательно. [Один допустимый символ описателя формата](https://msdn.microsoft.com/library/az4se3k1%28v=vs.110%29.aspx) или [пользовательский шаблон формата](https://msdn.microsoft.com/library/8kb3ddd4%28v=vs.110%29.aspx), который определяет способ форматирования значения этой метки времени. Если формат не указан, используется формат ISO 8601 ("o").|  
|adddays|Добавляет число дней (целое) к переданной метке времени (строка). Это число может быть положительным или отрицательным. По умолчанию результатом является строка в формате ISO 8601 ("o"), если описатель формата не указан. Например, `2015-02-23T13:27:36Z`:<br /><br /> `adddays('2015-03-15T13:27:36Z', -20)`<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** метка времени.<br /><br /> **Описание:** обязательно. Строка, содержащая время.<br /><br /> **Номер параметра:** 2.<br /><br /> **Имя:** дни.<br /><br /> **Описание:** обязательно. Количество дней, которое нужно добавить. Это значение может быть отрицательным для вычитания дней.<br /><br /> **Номер параметра:** 3.<br /><br /> **Имя:** формат.<br /><br /> **Описание:** необязательно. [Один допустимый символ описателя формата](https://msdn.microsoft.com/library/az4se3k1%28v=vs.110%29.aspx) или [пользовательский шаблон формата](https://msdn.microsoft.com/library/8kb3ddd4%28v=vs.110%29.aspx), который определяет способ форматирования значения этой метки времени. Если формат не указан, используется формат ISO 8601 ("o").|  
|formatDateTime|Возвращает строку в формате даты. По умолчанию результатом является строка в формате ISO 8601 ("o"), если описатель формата не указан. Например, `2015-02-23T13:27:36Z`:<br /><br /> `formatDateTime('2015-03-15T13:27:36Z', 'o')`<br /><br /> **Номер параметра:** 1.<br /><br /> **Имя:** дата.<br /><br /> **Описание:** обязательно. Строка, содержащая дату.<br /><br /> **Номер параметра:** 2.<br /><br /> **Имя:** формат.<br /><br /> **Описание:** необязательно. [Один допустимый символ описателя формата](https://msdn.microsoft.com/library/az4se3k1%28v=vs.110%29.aspx) или [пользовательский шаблон формата](https://msdn.microsoft.com/library/8kb3ddd4%28v=vs.110%29.aspx), который определяет способ форматирования значения этой метки времени. Если формат не указан, используется формат ISO 8601 ("o").|  

## <a name="next-steps"></a>Дополнительная информация
Список системных переменных, которые можно использовать в выражениях, см. в статье [System variables supported by Azure Data Factory](control-flow-system-variables.md) (Системные переменные, поддерживаемые фабрикой данных Azure).
