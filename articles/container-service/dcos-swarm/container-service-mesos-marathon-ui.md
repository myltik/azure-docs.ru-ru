---
title: Управление кластером DC/OS Azure с помощью пользовательского интерфейса Marathon
description: Развертывание контейнеров в кластере службы контейнеров Azure с помощью веб-интерфейса Marathon.
services: container-service
author: dlepow
manager: jeconnoc
ms.service: container-service
ms.topic: article
ms.date: 04/04/2017
ms.author: danlep
ms.custom: mvc
ms.openlocfilehash: 43407d40db0aab2772cb1baeab3471be68aee2ab
ms.sourcegitcommit: e2adef58c03b0a780173df2d988907b5cb809c82
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2018
ms.locfileid: "32166989"
---
# <a name="manage-an-azure-container-service-dcos-cluster-through-the-marathon-web-ui"></a>Управление контейнером DC/OS службы контейнеров Azure с помощью веб-интерфейса Marathon

DC/OS — это среда для развертывания и масштабирования кластерных рабочих нагрузок, в которой используемое оборудование рассматривается абстрактно. На базе DC/OS работает платформа, которая управляет планированием и выполнением вычислительных рабочих нагрузок.

Хотя доступны платформы для многих популярных рабочих нагрузок, в этом документе описывается, как приступить к развертыванию контейнеров с помощью Marathon. 


## <a name="prerequisites"></a>предварительным требованиям
Для выполнения этих примеров вам потребуется кластер DC/OS, настроенный в службе контейнеров Azure. Необходимо также удаленное подключение к этому кластеру. Дополнительные сведения об этих компонентах см. в следующих статьях.

* [Развертывание кластера службы контейнеров Azure](container-service-deployment.md)
* [Подключение к кластеру службы контейнеров Azure](../container-service-connect.md)

> [!NOTE]
> В этой статье предполагается, что туннельное подключение к кластеру DC/OS устанавливается через локальный порт 80.
>

## <a name="explore-the-dcos-ui"></a>Изучение пользовательского интерфейса DC/OS
[Установив](../container-service-connect.md) туннель Secure Shell (SSH), перейдите по адресу http://localhost/. Загрузится веб-интерфейс DC/OS, а затем вы увидите сведения о кластере, в том числе об используемых ресурсах, активных агентах и запущенных службах.

![Пользовательский интерфейс DC/OS](./media/container-service-mesos-marathon-ui/dcos2.png)

## <a name="explore-the-marathon-ui"></a>Изучение пользовательского интерфейса Marathon
Чтобы просмотреть пользовательский интерфейс Marathon, перейдите по адресу http://localhost/marathon. На этом экране можно запустить новый контейнер или другие приложения в кластере DC/OS службы контейнеров Azure. Здесь вы также можете просмотреть информацию о работе контейнеров и приложений.  

![Пользовательский интерфейс Marathon](./media/container-service-mesos-marathon-ui/dcos3.png)

## <a name="deploy-a-docker-formatted-container"></a>Развертывание контейнера формата Docker
Чтобы развернуть новый контейнер с помощью Marathon, нажмите кнопку **Create Application** (Создать приложение) и заполните форму следующим образом.

| Поле | Значение |
| --- | --- |
| ИД |nginx |
| Память | 32 |
| Образ — |nginx |
| Сеть |Bridged (Мостовая) |
| Host Port (Порт узла) |80 |
| Протокол |TCP |

![Пользовательский интерфейс нового приложения: вкладка "Общие"](./media/container-service-mesos-marathon-ui/dcos4.png)

![Пользовательский интерфейс нового приложения: контейнер Docker](./media/container-service-mesos-marathon-ui/dcos5.png)

![Пользовательский интерфейс нового приложения: обнаружение служб и портов](./media/container-service-mesos-marathon-ui/dcos6.png)

Статически сопоставить порт контейнера с портом на агенте можно в режиме JSON. Для этого с помощью переключателя перейдите в мастере создания приложений в **режим JSON** . Затем введите следующее в разделе `portMappings` определения приложения. В этом примере порт 80 контейнера привязывается к порту 80 агента DC/OS. Когда изменение будет внесено, мастер можно перевести в другой режим.

```none
"hostPort": 80,
```

![Пользовательский интерфейс нового приложения: пример порта 80](./media/container-service-mesos-marathon-ui/dcos13.png)

Если вы хотите включить проверку работоспособности, задайте путь на вкладке **Health Checks** (Проверки работоспособности).

![Пользовательский интерфейс "Новое приложение", вкладка "Проверки работоспособности"](./media/container-service-mesos-marathon-ui/dcos_healthcheck.png)

Кластер DC/OS развертывается с использованием набора частных и общедоступных агентов. Чтобы кластер мог получать доступ к приложениям из Интернета, развертывание необходимо выполнять на общедоступном агенте. Для этого в мастере создания приложений перейдите на вкладку **Optional** (Дополнительно) и присвойте параметру **Accepted Resource Roles** (Принятые роли ресурсов) значение **slave_public**.

Затем щелкните **Create Application** (Создать приложение).

![Пользовательский интерфейс нового приложения: параметры общедоступного агента](./media/container-service-mesos-marathon-ui/dcos14.png)

Вернитесь на главную страницу Marathon, чтобы просмотреть состояние развертывания контейнера. Сначала отобразится состояние **Deploying** (Развертывание). После успешного развертывания состояние изменится на **Running** (Работает).

![Пользовательский интерфейс главной страницы Marathon: состояние развертывания контейнера](./media/container-service-mesos-marathon-ui/dcos7.png)

При переключении обратно к пользовательскому веб-интерфейсу DC/OS (http://localhost/) вы увидите, что задача (в нашем случае это контейнер в формате Docker) выполняется в кластере DC/OS.

![Пользовательский веб-интерфейс DC/OS: выполнение задачи в кластере](./media/container-service-mesos-marathon-ui/dcos8.png)

Чтобы увидеть узел кластера, на котором выполняется задача, щелкните вкладку **Nodes** (Узлы).

![Пользовательский веб-интерфейс DC/OS: узел кластера, на котором выполняется задача](./media/container-service-mesos-marathon-ui/dcos9.png)

## <a name="reach-the-container"></a>Обращение к контейнеру

В этом примере приложение выполняется на узле общедоступного агента. Доступ к приложению вы осуществляете из Интернета, перейдя по полному доменному имени агента кластера `http://[DNSPREFIX]agents.[REGION].cloudapp.azure.com`, где:

* **DNSPREFIX** — префикс DNS, указанный при развертывании кластера.
* **REGION** — регион, в котором расположена ваша группа ресурсов.

    ![Доступ к Nginx из Интернета](./media/container-service-mesos-marathon-ui/nginx.png)


## <a name="next-steps"></a>Дополнительная информация
* [Работа с API для Marathon и API для DC/OS](container-service-mesos-marathon-rest.md)

* Подробное изучение службы контейнеров Azure с Mesos

    > [!VIDEO https://channel9.msdn.com/Events/Microsoft-Azure/AzureCon-2015/ACON203/player]
    > 
