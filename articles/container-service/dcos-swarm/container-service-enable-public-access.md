---
title: Включение доступа к приложению-контейнеру DC/OS Azure
description: Как предоставить общий доступ к контейнерам DC/OS в Службе контейнеров Azure.
services: container-service
author: sauryadas
manager: madhana
ms.service: container-service
ms.topic: article
ms.date: 08/26/2016
ms.author: saudas
ms.custom: mvc
ms.openlocfilehash: aedc97335a0b9ad00cf653477b62bf530b556900
ms.sourcegitcommit: 5d3e99478a5f26e92d1e7f3cec6b0ff5fbd7cedf
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/06/2017
ms.locfileid: "26332285"
---
# <a name="enable-public-access-to-an-azure-container-service-application"></a>Предоставление общего доступа к приложению Службы контейнеров Azure

К любому контейнеру контроллера домена или ОС в [пуле общедоступных агентов](container-service-mesos-marathon-ui.md#deploy-a-docker-formatted-container) ACS можно автоматически получить доступ из Интернета. По умолчанию порты **80**, **443**, **8080** открыты, поэтому можно получить доступ к любым контейнерам (частным), выполняющим прослушивание на этих портах. В этой статье показано, как открыть дополнительные порты для приложений в Службе контейнеров Azure.

## <a name="open-a-port-portal"></a>Открытие порта (портал)
Сначала необходимо открыть нужный порт.

1. Войдите на портал.
2. Найдите группу ресурсов, в которой развернута Служба контейнеров Azure.
3. Выберите балансировщик нагрузки агента (называется согласно формату **XXXX-agent-lb-XXXX**).
   
    ![балансировщик нагрузки Службы контейнеров Azure](./media/container-service-enable-public-access/agent-load-balancer.png)
4. Щелкните **Зонды**, а затем — **Добавить**.
   
    ![зонды балансировщика нагрузки Службы контейнеров Azure](./media/container-service-enable-public-access/add-probe.png)
5. Заполните форму зонда и нажмите кнопку **ОК**.
   
   | Поле | ОПИСАНИЕ |
   | --- | --- |
   | ИМЯ |Описательное имя зонда. |
   | Порт |Порт контейнера для тестирования. |
   | Путь |Относительный путь веб-сайта для проверки (при работе в режиме HTTP). HTTPS не поддерживается. |
   | Интервал |Промежуток времени между повторными попытками запуска зонда в секундах. |
   | Пороговое значение сбоя |Количество последовательных повторных попыток запуска зонда до определения контейнера как неработоспособного. |
6. В свойствах балансировки нагрузки агента щелкните **Правила балансировки нагрузки** и выберите **Добавить**.
   
    ![правила балансировщика нагрузки Службы контейнеров Azure](./media/container-service-enable-public-access/add-balancer-rule.png)
7. Заполните форму балансировщика нагрузки и нажмите кнопку **ОК**.
   
   | Поле | ОПИСАНИЕ |
   | --- | --- |
   | ИМЯ |Описательное имя балансировщика нагрузки. |
   | Порт |Общий порт для входящих подключений. |
   | Серверный порт |Внутренний общий порт контейнера для направления трафика. |
   | Серверный пул |Контейнеры в этом пуле будут целевыми объектами для этого балансировщика нагрузки. |
   | Проба |Зонд, с помощью которого можно определить работоспособность целевого объекта в **серверном пуле** . |
   | Сохранение сеанса |Определяет способ обработки трафика от клиента в течение всего сеанса.<br><br>**Нет** — последующие запросы от одного клиента могут обрабатывать любые контейнеры.<br>**IP-адрес** — последующие запросы с одного IP-адреса обрабатываются одним контейнером.<br>**IP-адрес и протокол клиента**— последующие запросы с одного IP-адреса и по одному протоколу клиента обрабатываются одним контейнером. |
   | Время ожидания перед переходом в режим простоя |Время в минутах, в течение которого TCP- или HTTP-клиент будет открытым без использования сообщений *проверки на активность* (только для TCP). |

## <a name="add-a-security-rule-portal"></a>Добавление правила безопасности (портал)
Далее необходимо добавить правило безопасности, направляющее трафик из открытого порта через брандмауэр.

1. Войдите на портал.
2. Найдите группу ресурсов, в которой развернута Служба контейнеров Azure.
3. Выберите группу безопасности сети **общедоступного** агента (называется согласно формату **XXXX-agent-public-nsg-XXXX**).
   
    ![группа безопасности сети Службы контейнеров Azure](./media/container-service-enable-public-access/agent-nsg.png)
4. Выберите **Правила безопасности для входящего трафика**, а затем щелкните **Добавить**.
   
    ![правила группы безопасности сети Службы контейнеров Azure](./media/container-service-enable-public-access/add-firewall-rule.png)
5. Заполните форму правила брандмауэра, чтобы разрешить доступ к открытому порту, и нажмите кнопку **ОК**.
   
   | Поле | ОПИСАНИЕ |
   | --- | --- |
   | ИМЯ |Описательное имя правила брандмауэра. |
   | Приоритет |Приоритет правила. Чем меньше число, тем выше приоритет. |
   | Источник |Ограничьте диапазон входящих IP-адресов, которые будет разрешать или запрещать это правило. Используйте параметр **Любой** , чтобы не указывать ограничение. |
   | служба |Выберите набор стандартных служб, для которых предназначено это правило безопасности. В противном случае используйте параметр **Настраиваемые** , чтобы создавать собственные службы. |
   | Протокол |Ограничьте трафик по **TCP** или **UDP**. Используйте параметр **Любой** , чтобы не указывать ограничение. |
   | Диапазон портов |Если для поля **Служба** указано значение **Определяется пользователем**, этот параметр указывает диапазон портов, на которые распространяется это правило. Можно использовать один порт, например **80**, или диапазон портов, например **1024–1500**. |
   | Действие |Разрешите или запретите трафик, соответствующий критериям. |

## <a name="next-steps"></a>Дополнительная информация
Дополнительные сведения о различиях между [общедоступными и частными агентами контроллера домена или ОС](container-service-dcos-agents.md).

Узнайте больше об [управлении контейнерами DC/OS](container-service-mesos-marathon-ui.md).

