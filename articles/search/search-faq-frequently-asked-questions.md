---
title: Часто задаваемые вопросы о службе "Поиск Azure" | Документация Майкрософт
description: Получите ответы на распространенные вопросы о службе "Поиск Microsoft Azure".
author: HeidiSteen
manager: cgronlun
services: search
ms.service: search
ms.topic: conceptual
ms.date: 08/03/2017
ms.author: heidist
ms.openlocfilehash: d731faffe1b2448670a5fafa0278ff8c7fb21722
ms.sourcegitcommit: fa493b66552af11260db48d89e3ddfcdcb5e3152
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2018
ms.locfileid: "31792738"
---
# <a name="azure-search---frequently-asked-questions-faq"></a>Часто задаваемые вопросы о службе "Поиск Azure"

 Найдите ответы на часто задаваемые вопросы о понятиях, коде и сценариях, связанных со службой "Поиск Azure".

## <a name="platform"></a>платформа

### <a name="how-is-azure-search-different-from-full-text-search-in-my-dbms"></a>Чем служба "Поиск Azure" отличается от полнотекстового поиска в СУБД?

Служба "Поиск Azure" поддерживает несколько источников данных, [лингвистический анализ для многих языков](https://docs.microsoft.com/rest/api/searchservice/language-support), [настраиваемый анализ интересующих и необычных входных данных](https://docs.microsoft.com/rest/api/searchservice/custom-analyzers-in-azure-search), управление ранжированием поиска с помощью [профилей оценки](https://docs.microsoft.com/rest/api/searchservice/add-scoring-profiles-to-a-search-index), а также функции, улучшающие взаимодействие с пользователем, такие как опережающий ввод, выделение совпадений и фасетная навигация. Она также включает в себя другие функции, такие как поиск синонимов и синтаксис расширенных запросов, но они обычно не являются отличительными.

### <a name="what-is-the-difference-between-azure-search-and-elasticsearch"></a>В чем разница между службой "Поиск Azure" и Elasticsearch?

При сравнении поисковых технологий пользователи часто спрашивают о том, чем именно отличаются служба "Поиск Azure" и Elasticsearch. Пользователи, выбирающие для своих проектов поисковых приложений службу "Поиск Azure", а не Elasticsearch, как правило, руководствуются тем, что мы упростили основную задачу, либо им требуются встроенные возможности интеграции с другими технологиями Майкрософт.

+ Служба "Поиск Azure" — это полностью управляются облачная служба, регулируемая соглашениями об уровне обслуживания 99,9 % при наличии достаточной избыточности (2 реплики для чтения, 3 реплики для чтения и записи).
+ [Процессоры естественного языка](https://docs.microsoft.com/rest/api/searchservice/language-support) корпорации Майкрософт обеспечивают передовой лингвистический анализ.  
+ [Индексаторы поиска Azure](search-indexer-overview.md) могут сканировать различные источники данных Azure для начального и добавочного индексирования.
+ Если вам требуется быстро реагировать на колебания нагрузки запросов или индексирования, можно использовать [ползунки](search-manage.md#scale-up-or-down) на портале Azure или выполнить [сценарий PowerShell](search-manage-powershell.md), чтобы обойти управление сегментами.  
+ [Возможности оценки и точной настройки](https://docs.microsoft.com/rest/api/searchservice/add-scoring-profiles-to-a-search-index) позволяют влиять на оценки в ранжировании при поиске, выходя за пределы возможностей самой поисковой системы.

### <a name="can-i-pause-azure-search-service-and-stop-billing"></a>Можно ли приостановить службу "Поиск Azure" и не платить за нее?

Эту службу невозможно приостановить. При создании службы вам выделяются вычислительные ресурсы и ресурсы хранилища для монопольного использования. Их невозможно освобождать и восстанавливать по требованию.

## <a name="indexing-operations"></a>Операции индексирования

### <a name="backup-and-restore-or-download-and-move-indexes-or-index-snapshots"></a>Возможно ли архивировать и восстанавливать (или скачивать и перемещать) индексы или моментальные снимки индексов?

Несмотря на то, что вы можете [получить определение индекса](https://docs.microsoft.com/rest/api/searchservice/get-index) в любое время, какая-либо функция извлечения индекса, создания его моментального снимка или архивации и восстановления для скачивания *заполненного* индекса, выполняемого в облаке, в локальную систему либо для его перемещения в другую службу "Поиск Azure", отсутствует.

Индексы создаются и заполняются посредством вашего кода, и они выполняются только в службе "Поиск Azure" в облаке. Как правило, пользователи, которым нужно переместить индекс в другую службу, изменяют свой код, указав новую конечную точку, а затем повторяют индексирование. Если вам требуется возможность создавать моментальный снимок или резервную копию индекса, проголосуйте за эту функцию на сайте [User Voice](https://feedback.azure.com/forums/263029-azure-search/suggestions/8021610-backup-snapshot-of-index).

### <a name="can-i-index-from-sql-database-replicas-applies-to-azure-sql-database-indexershttpsdocsmicrosoftcomazuresearchsearch-howto-connecting-azure-sql-database-to-azure-search-using-indexers"></a>Можно ли индексировать реплики баз данных SQL (относится к [индексаторам Базы данных SQL Azure](https://docs.microsoft.com/azure/search/search-howto-connecting-azure-sql-database-to-azure-search-using-indexers))?

Нет каких-либо ограничений на использование первичной или вторичной реплик в качестве источника данных при создании индекса "с нуля". Однако для обновления индекса с помощью добавочных обновлений (с учетом измененных записей) требуется первичная реплика. Это требование обусловлено особенностями Базы данных SQL, гарантирующими отслеживание изменений только в первичных репликах. Если вы попытаетесь использовать вторичные реплики для рабочей нагрузки обновления индекса, то нет никаких гарантий, что будут получены все данные.

## <a name="search-operations"></a>Операции поиска

### <a name="can-i-search-across-multiple-indexes"></a>Можно ли выполнять поиск по нескольким индексам?

Нет, эта операция не поддерживается. Поиск всегда ограничивается одним индексом.

### <a name="can-i-restrict-search-corpus-access-by-user-identity"></a>Можно ли ограничить доступ к данным поиска по удостоверению пользователя?

Вы можете реализовать [фильтры безопасности](https://docs.microsoft.com/azure/search/search-security-trimming-for-azure-search) с помощью фильтра `search.in()`. Этот фильтр отлично сочетается со [службами управления удостоверениями, такими как Azure Active Directory (AAD)](https://docs.microsoft.com/azure/search/search-security-trimming-for-azure-search-with-aad), позволяя фильтровать результаты поиска на основе определенного членства в группе.

### <a name="why-are-there-zero-matches-on-terms-i-know-to-be-valid"></a>Почему отображается ноль совпадений для терминов, которые точно являются действительными?

Чаще всего пользователи не знают, что каждый тип запроса поддерживает различные варианты поведения и уровни лингвистического анализа. Полнотекстовый поиск, который является преобладающей рабочей нагрузкой, включает в себя этап языкового анализа, на котором термины разбиваются на начальные формы. Этот аспект анализа запросов позволяет охватить заметно больше возможных совпадений, так как разбитый на лексемы термин совпадает с гораздо большим количеством вариантов.

Но запросы по подстановочному знаку или регулярному выражению и запросы на поиск нечетких соответствий не анализируются как обычные запросы на поиск термина или фразы. Это может привести к низкому коэффициенту эффективности поиска, если запрос не соответствует проанализированной форме слова в индексе поиска. Дополнительные сведения о синтаксическом и лексическом анализе запросов см. в статье об [архитектуре запросов](https://docs.microsoft.com/azure/search/search-lucene-query-architecture).

### <a name="my-wildcard-searches-are-slow"></a>Поиск с подстановочными знаками выполняется медленно.

Большинство запросов на поиск по подстановочному знаку, например по префиксу или регулярному выражению, а также запросов на поиск нечетких соответствий перезаписываются в системе с использованием соответствующих терминов в индексе поиска. Такой дополнительный процесс проверки индекса поиска увеличивает задержку. К тому же большие поисковые запросы, например `a*`, в которых с высокой вероятностью перезаписывается большое число терминов, могут выполняться очень медленно. Для высокопроизводительного поиска по подстановочным знакам рекомендуется определить [пользовательский анализатор](https://docs.microsoft.com/rest/api/searchservice/custom-analyzers-in-azure-search).

### <a name="why-is-the-search-rank-a-constant-or-equal-score-of-10-for-every-hit"></a>Почему для каждого совпадения отображается постоянная или одинаковая поисковая оценка, равная 1,0?

По умолчанию результаты поиска вычисляются на основе [статистических свойств совпадающих терминов](search-lucene-query-architecture.md#stage-4-scoring) и упорядочиваются по убыванию в результирующем наборе. Тем не менее некоторые типы запросов (с подстановочными знаками, префиксом и регулярными выражениями) всегда присваивают постоянную оценку общей оценке документа. В этом весь замысел. Служба "Поиск Azure" присваивает постоянную оценку, чтобы включить найденные с помощью расширения запроса совпадения в результаты, не влияя на ранжирование.

Например предположим, что поисковый запрос "тур*" с подстановочными знаками выдает совпадения "туры", "туристы" и "турмалин". Учитывая характер этих результатов, нет смысла сортировать термины по большему соответствию. Именно поэтому при оценке результатов в запросах с подстановочными знаками, префиксами и регулярными выражениями стоит игнорировать частоту обнаружения термина. Результатам поиска на основании частичного ввода присваивается постоянная оценка, чтобы избежать смещения к потенциально непредвиденным совпадениям.

## <a name="design-patterns"></a>Шаблоны проектирования

### <a name="what-is-the-best-approach-for-implementing-localized-search"></a>Каков рекомендуемый подход к реализации локализованного поиска?

Для поддержки разных языковых стандартов в одном индексе большинство пользователей выбирает выделенные поля в коллекции. Поля языкового стандарта позволяют назначить соответствующий анализатор. Например, можно назначить анализатору французского языка корпорации Майкрософт поля, содержащие строки на французском языке. Это также упрощает фильтрацию. Если известно, что запрос инициирован на странице с французским языковым стандартом (fr-fr), можно ограничить результаты поиска этим полем. Можно также создать [профиль оценки](https://docs.microsoft.com/rest/api/searchservice/add-scoring-profiles-to-a-search-index), чтобы присвоить этому полю больший относительный вес. В службе "Поиск Azure" на выбор предлагается более [50 поддерживаемых языковых анализаторов](https://docs.microsoft.com/azure/search/search-language-support).

## <a name="next-steps"></a>Дополнительная информация

У вас есть вопрос об отсутствующей функции или компоненте? Отправьте запрос на [веб-сайте User Voice](https://feedback.azure.com/forums/263029-azure-search).

## <a name="see-also"></a>См. также

 [StackOverflow: служба "Поиск Azure"](https://stackoverflow.com/questions/tagged/azure-search)   
 [Как работает полнотекстовый поиск в службе поиска Azure](search-lucene-query-architecture.md)  
 [Что такое поиск Azure?](search-what-is-azure-search.md)
