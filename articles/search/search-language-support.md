---
title: Индексация на нескольких языках в службе поиска Azure | Документация Майкрософт
description: Служба поиска Azure поддерживает 56 языков — для этого используются языковые анализаторы Lucene и технология Майкрософт для обработки естественных языков.
author: yahnoosh
manager: jlembicz
services: search
ms.service: search
ms.topic: conceptual
ms.date: 04/20/2018
ms.author: jlembicz
ms.openlocfilehash: 278539a2451eb15c7148b75497798e81f5370a57
ms.sourcegitcommit: e2adef58c03b0a780173df2d988907b5cb809c82
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2018
ms.locfileid: "32182770"
---
# <a name="create-an-index-for-documents-in-multiple-languages-in-azure-search"></a>Создание индекса для многоязычных документов в поиске Azure
> [!div class="op_single_selector"]
>
> * [Портал](search-language-support.md)
> * [REST](https://msdn.microsoft.com/library/azure/dn879793.aspx)
> * [.NET](https://msdn.microsoft.com/library/azure/microsoft.azure.search.models.analyzername.aspx)
>
>

Чтобы взять на вооружение возможности языковых анализаторов, нужно настроить всего одно свойство в доступном для поиска поле в определении индекса. Теперь это действие можно выполнить на портале.

Ниже показаны снимки экрана с колонками Поиска Azure на портале Azure, с помощью которых пользователи могут настраивать определение схемы индекса. В этой колонке пользователи могут создавать любые поля и настраивать свойства анализатора для каждого из них.

> [!IMPORTANT]
> Выбрать языковой анализатор можно только в процессе работы с определением поля, например при создании нового индекса с нуля или при добавлении нового поля в существующий индекс. При создании поля задайте все необходимые атрибуты. После сохранения изменений изменить атрибуты или тип анализатора нельзя.
>
>

## <a name="define-a-new-field-definition"></a>Добавление определения нового поля
1. Войдите на [портал Azure](https://portal.azure.com) и откройте колонку службы поиска.
2. Щелкните **Добавить индекс** на панели команд вверху панели мониторинга службы, чтобы создать новый индекс, или откройте существующий индекс, чтобы задать анализатор в добавляемых в него полях.
3. Откроется колонка «Поля», позволяющая определить схему индекса, со вкладкой «Анализатор», где можно выбрать языковой анализатор.
4. В колонке «Поля» запустите определение поля, указав имя, выбрав тип данных и настроив атрибуты таким образом, чтобы поле было доступно для полнотекстового поиска, отображалось в результатах поиска, могло использоваться в структурах фасетной навигации, поддерживало сортировку и т. д.
5. Прежде чем перейти к следующему полю, откройте вкладку **Анализатор** .

![][1]
*Чтобы выбрать анализатор, щелкните вкладку "Анализатор" в колонке "Поля".*

## <a name="choose-an-analyzer"></a>Выбор анализатора
1. Прокрутите список и найдите поле, для которого вы создаете определение.
2. Если вы не пометили поле как доступное для поиска, сделайте его таковым, установив флажок **Доступный для поиска**.
3. Щелкните область анализатора, чтобы вывести на экран список доступных анализаторов.
4. Выберите желаемый анализатор.

![][2]
*Выберите один из поддерживаемых анализаторов для каждого поля.*

По умолчанию для всех полей, доступных для поиска, используется [стандартный анализатор Lucene](http://lucene.apache.org/core/4_10_0/analyzers-common/org/apache/lucene/analysis/standard/StandardAnalyzer.html), не зависящий от конкретного языка. Полный список поддерживаемых анализаторов см. в статье [Language support (Azure Search Service REST API)](https://msdn.microsoft.com/library/azure/dn879793.aspx) (Языковая поддержка в REST API службы поиска Azure).

Выбранный для поля анализатор языка будет использоваться при каждом запросе индексирования и поиска для этого поля. Если запрос охватывает несколько полей с различными анализаторами, он обрабатывается анализаторами каждого поля отдельно.

Многие мобильные и веб-приложения обслуживают пользователей по всему миру на разных языках. Чтобы создать определение индекса для такого сценария, нужно создать отдельное поле для каждого поддерживаемого языка.

![][3]
*Определение индекса с полем описания для каждого поддерживаемого языка*

Если известен язык агента, отправившего запрос, запрос поиска можно ограничить определенным полем с помощью параметра **searchFields** . Следующий запрос будет применен только к описанию на польском языке:

`https://[service name].search.windows.net/indexes/[index name]/docs?search=darmowy&searchFields=description_pl&api-version=2017-11-11`

Можно запросить индекс с портала, воспользовавшись **проводником поиска**, чтобы вставить запрос, аналогичный приведенному выше. Проводником поиска можно воспользоваться посредством панели команд в колонке службы. Дополнительные сведения см. в статье [Отправка запросов в индекс службы поиска Azure с помощью портала Azure](search-explorer.md).

Если язык агента, отправившего запрос, неизвестен, запрос можно применить ко всем полям одновременно. При необходимости можно сделать какой-то язык предпочтительным, воспользовавшись [профилями оценки](https://msdn.microsoft.com/library/azure/dn798928.aspx). В следующем примере совпадения, найденные в описании на английском языке, получат более высокую оценку, чем совпадения на польском или французском языках:

    "scoringProfiles": [
      {
        "name": "englishFirst",
        "text": {
          "weights": { "description_en": 2 }
        }
      }
    ]

`https://[service name].search.windows.net/indexes/[index name]/docs?search=Microsoft&scoringProfile=englishFirst&api-version=2017-11-11`

Если вы разработчик .NET, обратите внимание на то, что языковые анализаторы можно настраивать с помощью [SDK .NET службы поиска Azure](http://www.nuget.org/packages/Microsoft.Azure.Search). Последний выпуск включает поддержку языковых анализаторов корпорации Майкрософт.

<!-- Image References -->
[1]: ./media/search-language-support/AnalyzerTab.png
[2]: ./media/search-language-support/SelectAnalyzer.png
[3]: ./media/search-language-support/IndexDefinition.png
