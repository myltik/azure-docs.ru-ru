---
title: Создание задания импорта для импорта и экспорта Azure | Документация Майкрософт
description: Узнайте, как создать задание импорта для службы импорта и экспорта Microsoft Azure.
author: muralikk
manager: syadav
editor: syadav
services: storage
documentationcenter: ''
ms.assetid: 8b886e83-6148-4149-9d0f-5d48ec822475
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/23/2017
ms.author: muralikk
ms.openlocfilehash: a80d2169f346238f997c727f0e9d82666897b608
ms.sourcegitcommit: b6319f1a87d9316122f96769aab0d92b46a6879a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/20/2018
---
# <a name="creating-an-import-job-for-the-azure-importexport-service"></a>Создание задания импорта для службы импорта и экспорта Azure

Создание задания импорта для службы импорта и экспорта Microsoft Azure с помощью интерфейса REST API включает следующие шаги:

-   подготовка дисков с помощью инструмента импорта и экспорта Azure;

-   получение адреса для отправки диска;

-   создание задания импорта;

-   отправка дисков в Майкрософт через поддерживаемого перевозчика;

-   внесение сведений о доставке в задание импорта.

 Общие сведения о службе импорта и экспорта, а также руководство по использованию [портала Azure](https://portal.azure.com/) для создания заданий импорта и экспорта и управления ими см. в статье [Использование службы импорта и экспорта Azure для передачи данных в хранилище BLOB-объектов](storage-import-export-service.md).

## <a name="preparing-drives-with-the-azure-importexport-tool"></a>Подготовка дисков с помощью средства импорта и экспорта Azure

Действия по подготовке дисков для задания импорта одинаковы независимо от способа создания задания: с помощью портала или REST API.

Ниже вкратце описана процедура подготовки диска. Подробные инструкции см. в [справочном руководстве по средству импорта и экспорта Azure](storage-import-export-tool-how-to-v1.md). Инструмент импорта и экспорта Azure можно скачать [отсюда](http://go.microsoft.com/fwlink/?LinkID=301900).

Подготовка дисков включает следующие действия:

-   определение данных, подлежащих импорту;

-   определение целевых больших двоичных объектов в службе хранилища Azure;

-   копирование данных на один или несколько жестких дисков с помощью инструмента импорта и экспорта Azure.

 Кроме того, инструмент импорта и экспорта Azure при подготовке дисков создает файл манифеста для каждого диска. Этот файл манифеста содержит:

-   перечисление всех файлов, предназначенных для передачи, и сопоставление этих файлов с большими двоичными объектами;

-   контрольные суммы сегментов каждого файла;

-   сведения о метаданных и свойствах для каждого большого двоичного объекта;

-   список действий, которые нужно выполнить при совпадении имен передаваемого большого двоичного объекта и уже существующего в целевом контейнере. Возможные варианты действий: a) перезаписать большой двоичный объект новым файлом; б) сохранить существующий большой двоичный объект и пропустить передачу файла; в) добавить к имени файла суффикс, позволяющий избежать конфликта с другими файлами.

## <a name="obtaining-your-shipping-location"></a>Получение расположения для отправки

Перед созданием задания импорта необходимо получить название и адрес места для отправки, выполнив операцию [вывода списка расположений](/rest/api/storageimportexport/listlocations). Операция `List Locations` вернет список расположений и почтовых адресов. В полученном списке выберите расположение и отправьте жесткие диски по соответствующему адресу. Также можно использовать операцию `Get Location`, чтобы сразу получить адрес доставки для определенного расположения.

 Выполните следующие действия, чтобы получить адрес доставки.

-   Определите имя расположения своей учетной записи хранения. Оно находится в поле **Расположение** на **панели мониторинга** учетной записи хранения на портале Azure. Это значение также можно получить, отправив запрос с помощью операции API управления службами [Get Storage Account Properties](/rest/api/storagerp/storageaccounts#StorageAccounts_GetProperties) (Получить свойства учетной записи хранения).

-   Вызовите операцию `Get Location`, чтобы узнать расположение для обработки информации по этой учетной записи.

-   Расположение можно использовать, если его свойство `AlternateLocations` указывает на это же расположение. В противном случае снова вызовите операцию `Get Location` для одного из альтернативных расположений. Исходное расположение может быть временно закрыто для обслуживания.

## <a name="creating-the-import-job"></a>Создание задания импорта
Чтобы создать задание импорта, вызовите операцию [создания задания](/rest/api/storageimportexport/jobs#Jobs_CreateOrUpdate). Необходимо будет указать следующие сведения:

-   имя задания;

-   имя учетной записи хранения.

-   название расположения для отправки, полученное на предыдущем шаге;

-   тип задания (импорт);

-   обратный адрес, на который следует вернуть диски после завершения задания импорта;

-   список дисков в задании. Для каждого диска укажите следующие сведения, полученные во время подготовки диска:

    -   идентификатор диска;

    -   ключ BitLocker;

    -   относительный путь к файлу манифеста на жестком диске;

    -   хэш MD5 для файла манифеста в кодировке Base16.

## <a name="shipping-your-drives"></a>Отправка дисков
Отправьте диски по адресу, полученному на предыдущем этапе, а также передайте в службу импорта и экспорта номер отслеживания посылки.

> [!NOTE]
>  Диски необходимо отправить через поддерживаемого перевозчика, который предоставит номер для отслеживания посылки.

## <a name="updating-the-import-job-with-your-shipping-information"></a>Внесение сведений о доставке в задание импорта
Когда вы получите номер для отслеживания посылки, вызовите операцию [обновления свойств задания](/api/storageimportexport/jobs#Jobs_Update) и предоставьте название компании перевозчика, номер для отслеживания по этому заданию и номер счета перевозчика для возврата дисков. Можно также указать количество дисков и дату отправки.

[!INCLUDE [storage-import-export-delete-personal-info.md](../../../includes/storage-import-export-delete-personal-info.md)]

## <a name="next-steps"></a>Дополнительная информация

* [Использование REST API службы импорта и экспорта Azure](storage-import-export-using-the-rest-api.md)
