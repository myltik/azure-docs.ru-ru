---
title: Заметки о выпуске агента службы "Синхронизация файлов Azure" (предварительная версия) | Документация Майкрософт
description: Заметки о выпуске агента службы "Синхронизация файлов Azure" (предварительная версия).
services: storage
author: wmgries
manager: aungoo
ms.service: storage
ms.topic: article
ms.date: 05/31/2018
ms.author: wgries
ms.openlocfilehash: 946311c42088d3a5840eb35387c8a552d3d5d70f
ms.sourcegitcommit: 6116082991b98c8ee7a3ab0927cf588c3972eeaa
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/05/2018
ms.locfileid: "34735650"
---
# <a name="release-notes-for-the-azure-file-sync-agent-preview"></a>Заметки о выпуске агента службы "Синхронизация файлов Azure" (предварительная версия)
Служба "Синхронизация файлов Azure" позволяет централизованно хранить файловые ресурсы организации в службе файлов Azure, обеспечивая гибкость, производительность и совместимость локального файлового сервера. Установки серверов Windows Server преобразовываются в быстрый кэш общего файлового ресурса Azure. Для локального доступа к данным вы можете использовать любой протокол, доступный в Windows Server (в том числе SMB, NFS и FTPS). Кроме того, вы можете создать любое количество кэшей.

В этой статье рассматриваются заметки о выпуске для поддерживаемых версий агента службы "Синхронизация файлов Azure".

## <a name="supported-versions"></a>Поддерживаемые версии
Служба "Синхронизация файлов Azure" поддерживает следующие версии агента:

| Веха | Номер версии агента | Дата выпуска | Status |
|----|----------------------|--------------|------------------|
| Обновление 2 | 3.0.12.0 | 22 мая 2018 г. | Поддерживается (рекомендуемая версия) |
| Накопительный пакет обновления за апрель | 2.3.0.0 | 8 мая 2018 г. | Поддерживаются |
| Накопительный пакет обновления за март | 2.2.0.0 | 12 марта 2018 г. | Поддерживаются |
| Накопительный пакет обновления за февраль | 2.1.0.0 | 28 февраля 2018 г. | Поддерживаются |
| Обновление 1 | 2.0.11.0 | 8 февраля 2018 г. | Поддерживаются |
| Накопительный пакет обновления за январь | 1.4.0.0 | 8 января 2018 г. | Поддерживаются |
| Накопительный пакет обновления за ноябрь | 1.3.0.0 | 30 ноября 2017 г. | Поддерживаются |
| Накопительный пакет обновления за октябрь | 1.2.0.0 | 31 октября 2017 г. | Поддерживаются |
| Первоначальный выпуск предварительной версии | 1.1.0.0 | 26 сентября 2017 г. | Поддерживаются |

### <a name="azure-file-sync-agent-update-policy"></a>Политика обновления агента службы синхронизации файлов Azure
[!INCLUDE [storage-sync-files-agent-update-policy](../../../includes/storage-sync-files-agent-update-policy.md)]

## <a name="agent-version-30120"></a>Версия агента 3.0.12.0
Следующие заметки о выпуске предназначены для версии агента службы "Синхронизация файлов Azure" 3.0.12.0 (выпущено 22 мая 2018 г).

### <a name="agent-installation-and-server-configuration"></a>Установка агента и конфигурация сервера
Дополнительные сведения о том, как установить и настроить агент службы "Синхронизация файлов Azure" с помощью Windows Server, см. в статьях [Планирование развертывания службы синхронизации файлов Azure (предварительная версия)](storage-sync-files-planning.md) и [Развертывание службы синхронизации файлов Azure (предварительная версия)](storage-sync-files-deployment-guide.md).

- Пакет установки агента нужно устанавливать с разрешениями более высокого уровня (администратора).
- Агент не поддерживается в развертываниях Windows Server Core или Nano Server.
- Агент поддерживается только в Windows Server 2016 и Windows Server 2012 R2.
- Агент требует по крайней мере 2 ГБ физической памяти.
- Служба агента синхронизации хранилища (FileSyncSvc) не поддерживает конечные точки сервера, которые размещены в томе со сжатым каталогом данных о системном томе (SVI). Использование этой конфигурации может привести к непредвиденным результатам.

### <a name="interoperability"></a>Возможность взаимодействия
- Антивирусные программы, приложения архивации, а также другие приложения, которые получают доступ к многоуровневым файлам, вызывают нежелательные отзывы, если они не учитывают автономный атрибут и пропускают чтение содержимого этих файлов. Дополнительные сведения см. в статье [Устранение неполадок службы синхронизации файлов Azure (предварительная версия)](storage-sync-files-troubleshoot.md).
- Не используйте фильтр блокировки файлов диспетчера ресурсов файлового сервера (или другой). В противном случае могут возникать постоянные сбои синхронизации.
- Запуск sysprep на сервере, где установлен агент службы "Синхронизация файлов Azure", не поддерживается и может привести к непредвиденным результатам. Устанавливать агент и регистрировать сервер нужно после развертывания образа сервера и завершения мини-установки sysprep.
- Дедупликация данных и размещение данных по уровням облака не поддерживаются на одном томе.

### <a name="sync-limitations"></a>Ограничения синхронизации
Следующие элементы не синхронизируются, но остальная часть системы продолжает работать в обычном режиме:
- Пути длиной более 2048 символов.
- Часть списка управления доступом на уровне пользователей (DACL) в дескрипторе безопасности размером более 2 КБ. (Эта проблема возникает только при наличии более 40 записей контроля доступа (ACE) на одном элементе.)
- Часть системного списка управления доступом (SACL) в дескрипторе безопасности, который используется для аудита.
- Дополнительные атрибуты.
- Альтернативные потоки данных.
- Точки повторного анализа.
- Жесткие связи.
- Сжатие (для серверного файла) не сохраняется при синхронизации изменений в этом файле из других конечных точек.
- Файлы, зашифрованные с помощью файловой системы EFS (или другого пользовательского режима шифрования). Служба не может считывать такие данные. 
    
    > [!Note]  
    > Служба "Синхронизация файлов Azure" всегда шифрует передаваемые данные. Неактивные данные можно зашифровать в Azure.
 
### <a name="server-endpoints"></a>Конечные точки сервера
- Конечную точку сервера можно создавать только на томе NTFS. Сейчас служба "Синхронизация файлов Azure" не поддерживает ReFS и FAT, FAT32 и другие файловые системы.
- Но для системного тома не поддерживается распределение по уровням облака. Чтобы создать конечную точку сервера на системном томе, отключите распределение по уровням облака при ее создании.
- Отказоустойчивую кластеризацию поддерживают только кластеризованные диски. Общие тома кластера (CSV) ее не поддерживают.
- Конечная точка сервера не может быть вложенной. Она может сосуществовать параллельно с другой конечной точкой на одном томе.
- Не храните файл ОС или файл подкачки приложения в конечной точке сервера.
- Многоуровневые файлы станут недоступными для использования, если их не отозвать перед удалением сервера конечной точки.
 
### <a name="cloud-tiering"></a>Распределение по уровням облака
- Если многоуровневый файл копируется в другое расположение с помощью Robocopy, полученный файл не будет распределен по уровням. Вы можете задать автономный атрибут, так как Robocopy неправильно включает его в операциях копирования.
- При просмотре свойств файла из клиента SMB автономный атрибут может быть настроен неправильно из-за кэширования метаданных файла по протоколу SMB.

## <a name="agent-version-2300"></a>Версия агента 2.3.0.0
Следующие заметки о выпуске предназначены для версии агента службы "Синхронизация файлов Azure" 2.3.0.0 (выпущено 8 мая 2018 г). Они являются дополнением к заметкам о выпуске для версии 2.0.11.0.

Этот выпуск включает следующие исправления:
- Обновление агентов может зависнуть, если не выгрузить драйвер фильтра для распределения по уровням в облаке.
- При синхронизации большого числа файлов может снизиться производительность.

## <a name="agent-version-2200"></a>Версия агента 2.2.0.0
Следующие заметки о выпуске предназначены для версии агента службы "Синхронизация файлов Azure" 2.2.0.0 (выпущенной 12 марта 2018 г.).  Они являются дополнением к заметкам о выпуске для версий 2.1.0.0 и 2.0.11.0.

У некоторых клиентов установка версии 2.1.0.0 завершится сбоем, так как выполнение FileSyncSvc не прекращается. Текущее обновление устраняет эту проблему.

## <a name="agent-version-2100"></a>Версия агента 2.1.0.0
Следующие заметки о выпуске предназначены для версии агента службы "Синхронизация файлов Azure" 2.1.0.0, выпущенной 28 февраля 2018 г. Они являются дополнением к заметкам о выпуске для версии 2.0.11.0.

Этот выпуск включает следующие изменения:
- Повышена отказоустойчивость кластера.
- Повышена надежность обработки многоуровневых файлов.
- Добавлена поддержка установки агента на компьютерах контроллера домена, добавленных в среду домена Windows Server 2008 R2.
- В этом выпуске исправлено чрезмерное формирование данных диагностики на серверах с большим количеством файлов.
- Улучшена обработка ошибок, возникающих при сбоях сеансов.
- Улучшена обработка ошибок, возникающих при передаче файлов.
- В этом выпуске интервал по умолчанию для распределения по уровням облака при включении этой функции на конечной точке сервера составляет один час. 
- Временно блокирующая проблема: перемещение ресурсов службы "Синхронизация файлов Azure" (служба синхронизации хранилища) в новую подписку Azure.

## <a name="agent-version-20110"></a>Версия агента 2.0.11.0
Следующие заметки о выпуске предназначены для версии агента службы "Синхронизация файлов Azure" 2.0.11.0 (выпущенной 9 февраля 2018 г). 

### <a name="agent-installation-and-server-configuration"></a>Установка агента и конфигурация сервера
Дополнительные сведения о том, как установить и настроить агент службы "Синхронизация файлов Azure" с помощью Windows Server, см. в статьях [Планирование развертывания службы синхронизации файлов Azure (предварительная версия)](storage-sync-files-planning.md) и [Развертывание службы синхронизации файлов Azure (предварительная версия)](storage-sync-files-deployment-guide.md).

- Пакет установки агента (MSI) нужно устанавливать с повышенным уровнем разрешений (администратора).
- Агент не поддерживается в развертываниях Windows Server Core или Nano Server.
- Агент поддерживается только в Windows Server 2016 и Windows Server 2012 R2.
- Агент требует по крайней мере 2 ГБ физической памяти.

### <a name="interoperability"></a>Возможность взаимодействия
- Антивирусные программы, приложения архивации, а также другие приложения, которые получают доступ к многоуровневым файлам, вызывают нежелательные отзывы, если они не учитывают автономный атрибут и пропускают чтение содержимого этих файлов. Дополнительные сведения см. в статье [Устранение неполадок службы синхронизации файлов Azure (предварительная версия)](storage-sync-files-troubleshoot.md).
- В этом выпуске добавлена поддержка DFS-R. Дополнительные сведения см. в разделе [Распределенная файловая система (DFS)](storage-sync-files-planning.md#distributed-file-system-dfs).
- Не используйте фильтр блокировки файлов диспетчера ресурсов файлового сервера (или другой). В противном случае могут возникать постоянные сбои синхронизации.
- Дублирование зарегистрированных серверов (в том числе клонирование виртуальной машины) может привести к непредвиденным результатам. В частности, к постоянной рассинхронизации.
- Дедупликация данных и размещение данных по уровням облака не поддерживаются на одном томе.
 
### <a name="sync-limitations"></a>Ограничения синхронизации
Следующие элементы не синхронизируются, но остальная часть системы продолжает работать в обычном режиме:
- Пути длиной более 2048 символов.
- Часть списка управления доступом на уровне пользователей (DACL) в дескрипторе безопасности размером более 2 КБ. (Эта проблема возникает только при наличии более 40 записей контроля доступа (ACE) на одном элементе.)
- Часть системного списка управления доступом (SACL) в дескрипторе безопасности, который используется для аудита.
- Дополнительные атрибуты.
- Альтернативные потоки данных.
- Точки повторного анализа.
- Жесткие связи.
- Сжатие (для серверного файла) не сохраняется при синхронизации изменений в этом файле из других конечных точек.
- Файлы, зашифрованные с помощью файловой системы EFS (или другого пользовательского режима шифрования). Служба не может считывать такие данные. 
    
    > [!Note]  
    > Служба "Синхронизация файлов Azure" всегда шифрует передаваемые данные. Неактивные данные можно зашифровать в Azure.
 
### <a name="server-endpoints"></a>Конечные точки сервера
- Конечную точку сервера можно создавать только на томе NTFS. Сейчас служба "Синхронизация файлов Azure" не поддерживает ReFS и FAT, FAT32 и другие файловые системы.
- Конечная точка сервера не может находиться на системном томе. Например, C:\MyFolder — недопустимый путь, если он не является точкой подключения.
- Отказоустойчивую кластеризацию поддерживают только кластеризованные диски. Общие тома кластера (CSV) ее не поддерживают.
- Конечная точка сервера не может быть вложенной. Она может сосуществовать параллельно с другой конечной точкой на одном томе.
- В этом выпуске добавлена поддержка размещения корня синхронизации в корне тома.
- Не храните файл ОС или файл подкачки приложения в конечной точке сервера.
- Изменения в этом выпуске: добавлены новые события для отслеживания общего времени выполнения распределения по уровням облака (код события 9016), хода отправки синхронизации (код события 9302) и файлов, которые не были синхронизированы (код события 9900).
- Изменения в этом выпуске: 
- значительное повышение производительности синхронизации пространства имен аварийного восстановления.
- В версии 2* не нужно удалять пакетами большое количество каталогов (более 10 000).
 
### <a name="cloud-tiering"></a>Распределение по уровням облака
- В отличие от предыдущей версии, в этой новые файлы распределяются по уровням в течение 1 часа с учетом параметров политики распределения по уровням (раньше этот процесс занимал 32 часа). Мы предоставляем командлет PowerShell для распределения по уровням по требованию. Благодаря ему вы сможете эффективно оценить этот процесс, не дожидаясь его выполнения в фоновом режиме.
- Если многоуровневый файл копируется в другое расположение с помощью Robocopy, полученный файл не будет распределен по уровням. Вы можете задать автономный атрибут, так как Robocopy неправильно включает его в операциях копирования.
- При просмотре свойств файла из клиента SMB автономный атрибут может быть настроен неправильно из-за кэширования метаданных файла по протоколу SMB.
- В отличие от предыдущей версии, теперь файлы (новые или многоуровневые) загружаются на другие серверы в качестве многоуровневых.

## <a name="agent-version-1100"></a>Версия агента 1.1.0.0
Следующие заметки о выпуске предназначены для версии агента службы "Синхронизация файлов Azure" 1.1.0.0 (выпущенной 9 сентября 2017 г.; начальная предварительная версия). 

### <a name="agent-installation-and-server-configuration"></a>Установка агента и конфигурация сервера
Дополнительные сведения о том, как установить и настроить агент службы "Синхронизация файлов Azure" с помощью Windows Server, см. в статьях [Планирование развертывания службы синхронизации файлов Azure (предварительная версия)](storage-sync-files-planning.md) и [Развертывание службы синхронизации файлов Azure (предварительная версия)](storage-sync-files-deployment-guide.md).

- Пакет установки агента (MSI) нужно устанавливать с повышенным уровнем разрешений (администратора).
- Агент не поддерживается в развертываниях Windows Server Core или Nano Server.
- Агент поддерживается только в Windows Server 2016 и 2012 R2.
- Агент требует по крайней мере 2 ГБ физической памяти.

### <a name="interoperability"></a>Возможность взаимодействия
- Антивирусные программы, приложения архивации, а также другие приложения, которые получают доступ к многоуровневым файлам, вызывают нежелательные отзывы, если они не учитывают автономный атрибут и пропускают чтение содержимого этих файлов. Дополнительные сведения см. в статье [Устранение неполадок службы синхронизации файлов Azure (предварительная версия)](storage-sync-files-troubleshoot.md).
- Не используйте фильтр блокировки файлов диспетчера ресурсов файлового сервера (или другой). В противном случае могут возникать постоянные сбои синхронизации.
- Дублирование зарегистрированных серверов (в том числе клонирование виртуальной машины) может привести к непредвиденным результатам. В частности, к постоянной рассинхронизации.
- Дедупликация данных и размещение данных по уровням облака не поддерживаются на одном томе.
 
### <a name="sync-limitations"></a>Ограничения синхронизации
Следующие элементы не синхронизируются, но остальная часть системы продолжает работать в обычном режиме:
- Пути длиной более 2048 символов.
- Часть списка DACL в дескрипторе безопасности размером более 2 КБ. (Эта проблема возникает только при наличии более 40 записей ACE на одном элементе.)
- Часть списка SACL в дескрипторе безопасности, который используется для аудита.
- Дополнительные атрибуты.
- Альтернативные потоки данных.
- Точки повторного анализа.
- Жесткие связи.
- Сжатие (для серверного файла) не сохраняется при синхронизации изменений в этом файле из других конечных точек.
- Файлы, зашифрованные с помощью файловой системы EFS (или другого пользовательского режима шифрования). Служба не может считывать такие данные. 
    
    > [!Note]  
    > Служба "Синхронизация файлов Azure" всегда шифрует передаваемые данные. Неактивные данные можно зашифровать в Azure.
 
### <a name="server-endpoints"></a>Конечные точки сервера
- Конечную точку сервера можно создавать только на томе NTFS. Сейчас служба "Синхронизация файлов Azure" не поддерживает ReFS и FAT, FAT32 и другие файловые системы.
- Конечная точка сервера не может находиться на системном томе. Например, C:\MyFolder — недопустимый путь, если он не является точкой подключения.
- Отказоустойчивую кластеризацию поддерживают только кластеризованные диски. Общие тома кластера ее не поддерживают.
- Конечная точка сервера не может быть вложенной. Она может сосуществовать параллельно с другой конечной точкой на одном томе.
- Удаление большого количества каталогов с сервера за один раз (больше 10 000) может привести к сбою синхронизации. Удаляйте каталоги пакетами в количестве до 10 000. Перед удалением следующего пакета убедитесь, что синхронизация операций удаления прошла успешно.
- Сейчас конечная точка сервера не поддерживается в корне тома.
- Не храните файл ОС или файл подкачки приложения в конечной точке сервера.
 
### <a name="cloud-tiering"></a>Распределение по уровням облака
- Чтобы обеспечить корректный отзыв файлов, система в течение 32 часов может не распределять новые или измененные файлы по уровням автоматически. Этот процесс включает первое распределение по уровням после настройки новой конечной точки сервера. Мы предоставляем командлет PowerShell для распределения по уровням по требованию. Благодаря ему вы сможете эффективно оценить этот процесс, не дожидаясь его выполнения в фоновом режиме.
- Если многоуровневый файл копируется в другое расположение с помощью Robocopy, полученный файл не будет распределен по уровням. Вы можете задать автономный атрибут, так как Robocopy неправильно включает его в операциях копирования.
- При просмотре свойств файла из клиента SMB автономный атрибут может быть настроен неправильно из-за кэширования метаданных файла по протоколу SMB.
