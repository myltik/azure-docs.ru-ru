---
title: "Часто задаваемые вопросы о хранилище файлов Azure | Документы Майкрософт"
description: "Получите ответы на некоторые часто задаваемые вопросы о хранилище файлов Azure."
services: storage
documentationcenter: 
author: RenaShahMSFT
manager: aungoo
editor: tysonn
ms.assetid: 
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.date: 07/19/2017
ms.author: renash
ms.translationtype: HT
ms.sourcegitcommit: 83f19cfdff37ce4bb03eae4d8d69ba3cbcdc42f3
ms.openlocfilehash: 17868591e1056ff2bddde0e082695af529f58f02
ms.contentlocale: ru-ru
ms.lasthandoff: 08/21/2017

---
# <a name="frequently-asked-questions-about-azure-file-storage"></a>Часто задаваемые вопросы о хранилище файлов Azure

## <a name="general"></a>Общие сведения
* **В. Что такое хранилище файлов Azure?**  
   
    Хранилище файлов Azure — распределенная файловая система в Azure. Оно предоставляет интерфейс протокола SMB, с помощью которого пользователи могут подключить хранилище как собственный общий ресурс на поддерживаемой виртуальной машине Azure или на локальном компьютере.

* **В. В чем заключается удобство хранилища файлов Azure?**  
   
    Хранилище файлов Azure предоставляет доступ к общим данным между несколькими виртуальными машинами и платформами. См. раздел [В чем заключается удобство хранилища файлов Azure?](storage-files-introduction.md#why-azure-file-storage-is-useful)

* **В. Когда следует использовать файлы Azure, BLOB-объекты Azure и диски Azure?**  
   
    Microsoft Azure предоставляет несколько способов хранения данных в облаке и доступа к этим данным.  
   
    Хранилище файлов Azure — предоставляет интерфейс SMB, клиентские библиотеки и интерфейс REST, который позволяет с легкостью обращаться к сохраненным файлам из любого места.  
   
    BLOB-объекты Azure — предоставляют клиентские библиотеки и интерфейс REST, который позволяет хранить неструктурированные данные в блочных BLOB-объектах и массово обращаться к ним.  
   
    Диски данных Azure — предоставляют клиентские библиотеки и интерфейс REST, который позволяет хранить данные на виртуальном жестком диске в постоянном режиме и обращаться к этим данным.  
   
    Дополнительные сведения см. в статье [Выбор между BLOB-объектами Azure, файлами Azure и дисками данных Azure](../common/storage-decide-blobs-files-disks.md?toc=%2fazure%2fstorage%2ffiles%2ftoc.json).

* **В. Как начать работу с хранилищем файлов Azure?**  
   
    Для начала создайте общую папку Azure. Вы можете создавать общие папки Azure с помощью портала Azure, командлетов PowerShell службы хранилища Azure, клиентских библиотек службы хранилища Azure и интерфейса REST API службы хранилища Azure. Из этого руководства вы узнаете:

    * [Как создать общую папку Azure с помощью портала](storage-how-to-create-file-share.md#create-file-share-through-the-portal)
    * [Как создать общую папку Azure с помощью PowerShell](storage-how-to-create-file-share.md#create-file-share-through-powershell)
    * [Как создать общую папку Azure с помощью интерфейса командной строки](storage-how-to-create-file-share.md#create-file-share-through-command-line-interface-cli)

* **В. Какие репликации поддерживаются хранилищем файлов Azure?**  
   
    Сейчас хранилище файлов Azure поддерживает только локально избыточное хранилище и геоизбыточное хранилище. Мы планируем добавить поддержку RA-GRS, но пока не можем назвать точные сроки.

## <a name="security-authentication-and-access-control"></a>Безопасность, проверка подлинности и управление доступом

* **В. Каковы различные способы доступа к файлам в хранилище файлов Azure?**
    
    Вы можете подключить общую папку на локальном компьютере с помощью протокола SMB 3.0 или использовать такие средства, как [обозреватель хранилищ](http://storageexplorer.com/) для доступа к файлам в общей папке. Для доступа к файлам общей папки Azure из приложения можно использовать клиентские библиотеки хранилища, API REST или Powershell.

* **В. Как предоставить доступ к определенному файлу через браузер?**
    
    SAS позволяет создавать маркеры с определенными разрешениями, действующими в течение указанного периода. Например, вы можете создать маркер с доступом только для чтения к конкретному файлу на протяжении определенного промежутка времени. Любой пользователь, у которого есть этот URL-адрес, сможет обращаться к файлу прямо из браузера, пока URL-адрес действителен. Ключи SAS можно легко создать с помощью пользовательского интерфейса, например обозревателя хранилищ.

* **В. Можно ли задать разрешения только для чтения или только для записи в отдельных папках внутри общей папки?**
    
    Такой уровень контроля над разрешениями недоступен при подключении общей папки по протоколу SMB. Но вы можете создать такую схему с использованием подписанных URL-адресов (SAS) через интерфейс REST API или клиентские библиотеки.  

* **В. Как включить шифрование на стороне сервера для хранилища файлов Azure?**

    [Шифрование на стороне сервера](../common/storage-service-encryption.md?toc=%2fazure%2fstorage%2ffiles%2ftoc.json) для хранилища файлов Azure общедоступно во всех регионах и общедоступных и национальных облаках. Вы можете включить шифрование на стороне сервера для хранилища файлов Azure с помощью [портала Azure](https://portal.azure.com/), [API поставщика ресурсов службы хранилища Microsoft Azure](/rest/api/storagerp/storageaccounts), [Azure PowerShell](https://msdn.microsoft.com/library/azure/mt607151.aspx) или [интерфейса командной строки Azure](../common/storage-azure-cli.md?toc=%2fazure%2fstorage%2ffiles%2ftoc.json).
    
    После включения шифрования на стороне сервера в хранилище файлов Azure любые новые данные, которые записываются в хранилище файлов в этой учетной записи хранения, будут автоматически зашифрованы. Эта функция доступна для всех новых данных, записанных в существующие или новые общие папки в существующих или новых учетных записях хранения. Включение этой функции не требует дополнительной оплаты. Дополнительные сведения о шифровании данных см. в статье [Включение шифрования на стороне сервера в хранилище файлов Azure](../common/storage-service-encryption.md?toc=%2fazure%2fstorage%2ffiles%2ftoc.json).

* **В. Поддерживает ли хранилище файлов Azure проверку подлинности на основе Active Directory?**
   
    Сейчас мы не поддерживаем проверку подлинности на основе AD и списки управления доступом, но запросы на добавление этих функций включены в наш список. Сейчас проверка подлинности запросов к общей папке выполняется по ключам учетной записи службы хранилища Azure. Мы можем предложить временное решение: использовать подписанные URL-адреса (SAS) через интерфейс REST API или клиентские библиотеки. SAS позволяет создавать маркеры с определенными разрешениями, действующими в течение указанного периода. Например, вы можете создать маркер с доступом только для чтения для одного конкретного файла, который истечет через 10 минут. Любой пользователь, обладающий этим маркером, пока он действует, получит доступ только для чтения к этому файлу на 10 минут.
   
    Использование SAS возможно только через интерфейс REST API или клиентские библиотеки. При подключении общей папки по протоколу SMB вы не можете использовать подписанный URL-адрес для делегирования доступа к содержимому папки. 
    
* **В. Какие политики соответствия данных поддерживаются для хранилища файлов Azure?**

   В основе хранилища файлов Azure лежит та же архитектура хранилища, что и для других служб хранилища в составе службы хранилища Azure. К хранилищу файлов Azure применяются те же политики соответствия данных. Дополнительные сведения о соответствии данных в хранилище Azure см. в [документе "Защита данных в Microsoft Azure"](http://go.microsoft.com/fwlink/?LinkID=398382&clcid=0x409).

## <a name="on-premises-access"></a>Локальный доступ

* **В. Нужно ли использовать Azure ExpressRoute для подключения к хранилищу файлов Azure с локальной виртуальной машины?**
   
    Нет. Доступ к общей папке из локальной сети можно получить и без ExpressRoute, только если открыт исходящий TCP-трафик в Интернет через порт 445. Но при желании вы можете работать с хранилищем файлов Azure через ExpressRoute.

* **В. Как подключить общую папку Azure на локальном компьютере?** 
    
    Если разрешен исходящий TCP-трафик через порт 445 и клиент (например, Windows 10 или Windows Server 2012) поддерживает протокол SMB 3.0, то подключение к общей папке осуществляется по протоколу SMB. Свяжитесь с поставщиком услуг Интернета, чтобы разблокировать порт. А пока можете просматривать файлы с помощью [обозревателя хранилищ](../../vs-azure-tools-storage-explorer-files.md#view-a-file-shares-contents).


## <a name="billing-and-pricing"></a>Выставление счетов и цены
* **В. Включается ли сетевой трафик между виртуальной машиной Azure и общими папками в тарифицируемый трафик подписки?**
   
    Если общая папка и виртуальная машина находятся в одном и том же регионе Azure, трафик между ними является бесплатным. Если они находятся в разных регионах, трафик между ними будет тарифицироваться как внешний трафик.

## <a name="backup"></a>Резервное копирование

* **В. Как создать резервную копию общей папки, расположенной в хранилище файлов Azure?**
    
    Вы можете воспользоваться AzCopy, RoboCopy или сторонним средством архивации, с помощью которого можно создать резервную копию подключенной общей папки. Мы добавим функцию создания моментальных снимков файловых ресурсов в ближайшем будущем. Вы сможете использовать эту функцию для резервного копирования общей папки Azure.

## <a name="performance"></a>Производительность

* **В. Каковы ограничения на масштабирование хранилища файлов в Azure?**
    Дополнительные сведения о целевых показателях масштабируемости и производительности хранилища файлов Azure см. в статье [Целевые показатели масштабируемости и производительности службы хранилища Azure](../common/storage-scalability-targets.md?toc=%2fazure%2fstorage%2ffiles%2ftoc.json#scalability-targets-for-blobs-queues-tables-and-files).

* **В. При попытке распаковать файлы в хранилище файлов Azure производительность упала. Что делать?**
    
    Для передачи большого числа файлов в хранилище файлов Azure мы рекомендуем использовать AzCopy (для Windows; предварительная версия для Linux и Unix) или Azure Powershell, так как эти средства хорошо оптимизированы для передачи файлов по сети.

* **В. Какие исправления были выпущены для решения проблемы с низкой производительностью хранилища файлов Azure?**
    
    Группа разработчиков Windows недавно выпустила исправление, устраняющее проблему с низкой производительностью, которая возникает, когда клиент обращается к хранилищу файлов Azure с компьютера под управлением Windows 8.1 или Windows Server 2012 R2. Дополнительные сведения см. в соответствующей статье базы знаний [Снижение производительности при доступе к хранилищу файлов Azure из Windows 8.1 или Server 2012 R2](https://support.microsoft.com/kb/3114025).

## <a name="features-and-interoperability-with-other-services"></a>Функции и взаимодействие с другими службами
* **В. Можно ли использовать хранилище файлов Azure совместно с "файловым ресурсом-свидетелем" для создания отказоустойчивого кластера?**
   
    Сейчас такая возможность не поддерживается.

* **В. Существует ли операция переименования в API REST?**
   
    На данный момент нет.

* **В. Можно ли использовать вложенные общие папки, то есть создавать общую папку в другой общей папке?**
    
    Нет. Общая папка является виртуальным драйвером для подключения, поэтому вложенные общие папки не поддерживаются.

* **В. Использование хранилища файлов Azure с IBM MQ**
    
    Компания IBM выпустила руководство по настройке хранилища файлов Azure в службе, которую используют пользователи IBM MQ. Дополнительные сведения см. в статье [How to setup IBM MQ Multi instance queue manager with Microsoft Azure File Service](https://github.com/ibm-messaging/mq-azure/wiki/How-to-setup-IBM-MQ-Multi-instance-queue-manager-with-Microsoft-Azure-File-Service) (Настройка службы файлов Microsoft Azure в многоэкземплярном диспетчере очередей IBM MQ).


## <a name="troubleshooting"></a>Устранение неполадок
* **В. Как устранить ошибки в хранилище файлов Azure?**
    
    Подробное руководство по устранению неполадок см. в статье [Устранение неполадок в хранилище файлов Azure](storage-troubleshoot-windows-file-connection-problems.md). 


## <a name="see-also"></a>См. также
Дополнительную информацию о хранилище файлов Azure см. по этим ссылкам.

### <a name="conceptual-articles-and-videos"></a>Тематические статьи и видео
* [Azure Files Storage: a frictionless cloud SMB file system for Windows and Linux](https://azure.microsoft.com/documentation/videos/azurecon-2015-azure-files-storage-a-frictionless-cloud-smb-file-system-for-windows-and-linux/) (Хранилище файлов Azure: удобная облачная файловая система SMB для Windows и Linux)
* [Использование хранилища файлов Azure в Linux](storage-how-to-use-files-linux.md)

### <a name="tooling-support-for-file-storage"></a>Средства для работы с хранилищем файлов
* [Использование AzCopy со службой хранилища Microsoft Azure](../common/storage-use-azcopy.md?toc=%2fazure%2fstorage%2ffiles%2ftoc.json)
* [Использование интерфейса командной строки (CLI) Azure со службой хранилища Azure](../common/storage-azure-cli.md?toc=%2fazure%2fstorage%2ffiles%2ftoc.json)
* [Устранение неполадок хранилища файлов Azure](storage-troubleshoot-linux-file-connection-problems.md)

### <a name="blog-posts"></a>Записи блога
* [Хранилище файлов Azure стало общедоступным](https://azure.microsoft.com/blog/azure-file-storage-now-generally-available/)
* [Inside Azure File Storage](https://azure.microsoft.com/blog/inside-azure-file-storage/) (Хранилище файлов Azure: взгляд изнутри)
* [Введение в службы файлов Microsoft Azure](http://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/introducing-microsoft-azure-file-service.aspx)
* [Перенос данных в хранилище файлов Azure](https://azure.microsoft.com/blog/migrating-data-to-microsoft-azure-files/)

### <a name="reference"></a>Справочные материалы
* [Справочник по клиентской библиотеке хранилища для .NET](https://msdn.microsoft.com/library/azure/dn261237.aspx)
* [Справочник по REST API службы файлов](http://msdn.microsoft.com/library/azure/dn167006.aspx)

