---
title: Выбор целевых версий среды выполнения Функций Azure
description: Решение "Функции Azure" поддерживает разные версии среды выполнения. Узнайте, как указать версию среды выполнения приложения-функции, размещенного в Azure.
services: functions
documentationcenter: ''
author: ggailey777
manager: cfowler
editor: ''
ms.service: functions
ms.workload: na
ms.devlang: na
ms.topic: article
ms.date: 01/24/2018
ms.author: glenga
ms.openlocfilehash: 6fc84642050f4b7acfa2e3c5b4518135d6a97171
ms.sourcegitcommit: 8c3267c34fc46c681ea476fee87f5fb0bf858f9e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/09/2018
ms.locfileid: "29843397"
---
# <a name="how-to-target-azure-functions-runtime-versions"></a>Выбор целевых версий среды выполнения Функций Azure

Приложение-функция работает в определенной версии среды выполнения для решения "Функции Azure". Есть два основных номера версии: [1.x и 2.x](functions-versions.md). Из этой статьи вы узнаете, как настроить приложение-функцию Azure для выполнения в выбранной версии. Сведения о настройке локальной среды разработки для определенной версии см. в разделе [Как программировать и тестировать функции Azure в локальной среде](functions-run-local.md).

>[!IMPORTANT]   
> Среда выполнения Функций Azure версии 2.0 доступна в предварительной версии, и в настоящее время поддерживаются не все возможности Функций Azure. Дополнительные сведения см. в [обзоре версий среды выполнения Функций Azure](functions-versions.md).

## <a name="automatic-and-manual-version-updates"></a>Обновление версий автоматически и вручную

В решении "Функции Azure" вы можете выбрать определенную версию среды выполнения с помощью параметра приложения `FUNCTIONS_EXTENSION_VERSION` в приложении-функции. Приложение-функция будет работать в указанной основной версии, пока вы явно не переместите его в новую.

Если указать только основной номер версии ("~1" для 1.x или "beta" для 2.x), приложение-функция автоматически обновляется до новых вспомогательных версий среды выполнения по мере их выпуска. Во вспомогательные версии не вносятся критически важные изменения. При указании дополнительного номера версии (например, "1.0.11360") приложение-функция работает в этой версии, пока вы явно не укажете другую. 

Если новая версия общедоступна, выполнить обновление до нее можно при помощи запроса на портале. Перейдя на новую версию, вы всегда сможете вернуться к предыдущей с помощью параметра приложения `FUNCTIONS_EXTENSION_VERSION`.

Изменение версии среды выполнения сопровождается перезапуском приложения-функции.

Вы можете включить автоматическое обновление, задав для параметра приложения `FUNCTIONS_EXTENSION_VERSION` соответствующее значение (сейчас доступны значения "~1" для среды выполнения версии 1.x и "beta" для версии 2.x).

## <a name="view-the-current-runtime-version"></a>Просмотр текущей версии среды выполнения

Выполните приведенные ниже инструкции, чтобы узнать, какая версия среды выполнения сейчас используется в приложении-функции. 

1. На [портале Azure](https://portal.azure.com) перейдите к приложению-функции и в разделе **Настроенные функции** выберите **Параметры приложения-функции**. 

    ![Выбор параметров приложения-функции](./media/functions-versions/add-update-app-setting.png)

2. На вкладке **Параметры приложения-функции** найдите **версию среды выполнения**. Укажите определенную версию среды выполнения и требуемую основную версию. В приведенном ниже примере параметр приложения FUNCTIONS\_EXTENSION\_VERSION имеет значение `~1`.
 
   ![Выбор параметров приложения-функции](./media/functions-versions/function-app-view-version.png)

## <a name="target-a-version-using-the-portal"></a>Выбор версии с помощью портала

Если вам нужно выбрать версию, отличную от текущей основной версии или версии 2.0, задайте параметр приложения `FUNCTIONS_EXTENSION_VERSION`.

1. На [портале Azure](https://portal.azure.com) перейдите в приложение-функцию и в разделе **Настроенные функции** выберите **Параметры приложения**.

    ![Выбор параметров приложения-функции](./media/functions-versions/add-update-app-setting1a.png)

2. На вкладке **Параметры приложения** найдите параметр `FUNCTIONS_EXTENSION_VERSION` и укажите значение допустимой версии среды выполнения (для версии 1.x) или значение `beta` (для версии 2.0). Тильда с основным номером версии означает использование последней версии этого основного номера версии (например, "~1"). 

    ![Установка параметра функции-приложения](./media/functions-versions/add-update-app-setting2.png)

3. Нажмите кнопку **Сохранить**, чтобы сохранить обновленную настройку приложения. 

## <a name="target-a-version-using-azure-cli"></a>Выбор версии с помощью Azure CLI

 Параметр `FUNCTIONS_EXTENSION_VERSION` также можно задать с помощью Azure CLI. Используя Azure CLI, обновите параметр приложения в приложении-функции с помощью команды [az functionapp config appsettings set](/cli/azure/functionapp/config/appsettings#set).

```azurecli-interactive
az functionapp config appsettings set --name <function_app> \
--resource-group <my_resource_group> \
--settings FUNCTIONS_EXTENSION_VERSION=<version>
```
В этом коде следует заменить `<function_app>` именем приложения-функции. Также замените `<my_resource_group>` именем группы ресурсов для приложения-функции. Замените `<version>` значением допустимой версии среды выполнения (для версии 1.x) или значением `beta` (для версии 2.0). 

Эту команду можно выполнить в [Azure Cloud Shell](../cloud-shell/overview.md), выбрав **Попробовать** в предыдущем примере кода. Также можно использовать [Azure CLI локально](/cli/azure/install-azure-cli) для выполнения этой команды после выполнения команды [az login](/cli/azure/reference-index#az_login) для входа.

## <a name="next-steps"></a>Дополнительная информация

> [!div class="nextstepaction"]
> [Выбор среды выполнения 2.0 в локальной среде разработки](functions-run-local.md)

> [!div class="nextstepaction"]
> [См. заметки о выпуске для версий среды выполнения](https://github.com/Azure/azure-webjobs-sdk-script/releases)