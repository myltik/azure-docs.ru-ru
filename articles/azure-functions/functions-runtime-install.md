---
title: Установка среды выполнения Функций Azure | Документация Майкрософт
description: Как установить предварительную версию 2 среды выполнения службы "Функции Azure"
services: functions
documentationcenter: ''
author: apwestgarth
manager: stefsch
editor: ''
ms.assetid: ''
ms.service: functions
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: multiple
ms.topic: article
ms.date: 11/28/2017
ms.author: anwestg
ms.openlocfilehash: f8ce27bf28f73818932f2ac9056d4fdd573679e8
ms.sourcegitcommit: a48e503fce6d51c7915dd23b4de14a91dd0337d8
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/05/2017
ms.locfileid: "26290663"
---
# <a name="install-the-azure-functions-runtime-preview-2"></a>Узнайте, как установить предварительную версию 2 среды выполнения службы "Функции Azure"

Если вы хотите установить предварительную версию 2 среды выполнения службы "Функции Azure", выполните следующие действия:

1. Убедитесь, что компьютер соответствует минимальным требованиям.
1. Скачайте [установщик предварительной версии среды выполнения Функций Azure](https://aka.ms/azafrv2).
1. Удалите предварительную версию 1 среды выполнения службы "Функции Azure".
1. Установите предварительную версию 2 среды выполнения службы "Функции Azure".
1. Завершите настройку предварительной версии 2 среды выполнения службы "Функции Azure".
1. Создайте первую функцию в предварительной версии среды выполнения службы "Функции Azure".

## <a name="prerequisites"></a>предварительным требованиям

Перед установкой предварительной версии среды выполнения службы "Функции Azure" вам понадобятся следующие ресурсы:

1. Компьютер под управлением Microsoft Windows Server 2016 или обновление Microsoft Windows 10 для дизайнеров (Professional или Enterprise Edition).
1. Экземпляр SQL Server в вашей сети.  Минимальное требование по выпуску — SQL Server Express.

## <a name="uninstall-previous-version"></a>Удаление предыдущей версии

Если ранее вы установили предварительную версию среды выполнения службы "Функции Azure", перед установкой последней версии ее необходимо удалить.  Удалите предварительную версию среды выполнения службы "Функции Azure" путем удаления программы в разделе установки и удаления программ в Windows.

## <a name="install-the-azure-functions-runtime-preview"></a>Установка предварительной версии среды выполнения Функций Azure

Установщик предварительной версии среды выполнения службы "Функции Azure" поможет выполнить установку ролей управления и рабочих ролей этой версии.  Их можно установить на одном компьютере.  Тем не менее при добавлении дополнительных приложений-функций необходимо развернуть дополнительные рабочие роли на дополнительных компьютерах, чтобы масштабировать функции на несколько рабочих ролей.

## <a name="install-the-management-and-worker-role-on-the-same-machine"></a>Установка ролей управления и рабочих ролей на одном компьютере

1. Запустите установщик предварительной версии среды выполнения Функций Azure.

    ![Установщик предварительной версии среды выполнения службы "Функции Azure"][1]

1. Нажмите кнопку **Далее**.
1. Ознакомившись с условиями **лицензионного соглашения**, **установите флажок**, чтобы принять их, и нажмите кнопку **Далее** для перехода.
1. Выберите роли, которые необходимо установить на этом компьютере (**роль управления функций** или **рабочую роль функций**), и нажмите кнопку **Далее**.

    ![Установщик предварительной версии среды выполнения службы "Функции Azure". Выбор роли][3]

    > [!NOTE]
    > Вы можете установить **рабочую роль Функций** на многих других компьютерах. Для этого выполните следующие инструкции и выберите в установщике **рабочую роль Функций**.

1. Нажмите кнопку **Далее**, чтобы **мастер установки среды выполнения службы "Функции Azure"** начал процесс установки на вашем компьютере.
1. После завершения мастер установки запустит инструмент настройки **среды выполнения службы "Функции Azure"**.

    ![Установщик предварительной версии среды выполнения службы "Функции Azure" — завершение][6]

    > [!NOTE]
    > Если при установке на компьютере с **Windows 10** функция **Контейнер** не была включена ранее, **мастер установки среды выполнения службы "Функции Azure"** предложит перезагрузить компьютер для завершения установки.

## <a name="configure-the-azure-functions-runtime"></a>Настройка среды выполнения Функций Azure

Для завершения установки среды выполнения службы "Функции Azure" необходимо выполнить настройку.

1. На странице **инструмента настройки среды выполнения службы "Функции Azure"** показано, какие роли установлены на компьютере.

    ![Инструмент настройки предварительной версии среды выполнения службы "Функции Azure"][7]

1. Щелкните вкладку **База данных**, введите сведения о подключении для экземпляра SQL Server, укажите [главный ключ базы данных](https://docs.microsoft.com/sql/relational-databases/security/encryption/sql-server-and-database-encryption-keys-database-engine) и выберите **Применить**.  Подключение к экземпляру SQL Server необходимо, чтобы создать базу данных для поддержки среды выполнения службы "Функции Azure".

    ![Настройка базы данных предварительной версии среды выполнения службы "Функции Azure"][8]

1. Щелкните вкладку **Учетные данные**.  Здесь необходимо создать две пары учетных данных для использования с общим файловым ресурсом для размещения всех приложений-функций.  Укажите **имя пользователя** и **пароль** для **владельца общей папки** и **пользователя общей папки**, а затем выберите **Применить**.

    ![Учетные данные предварительной версии среды выполнения службы "Функции Azure"][9]

1. Щелкните вкладку **Общая папка**.  Здесь необходимо указать сведения о расположении общего файлового ресурса.  Его можно создать автоматически или вы можете использовать имеющийся общий файловый ресурс, щелкнув **Применить**.  Если вы выберете новое расположение общей папки, укажите каталог для использования в среде выполнения Функций Azure.

    ![Предварительная версия среды выполнения службы "Функции Azure" — общая папка][10]

1. Щелкните вкладку **IIS**.  На ней отображаются сведения о веб-сайтах в службах IIS, которые создаются с помощью инструмента настройки среды выполнения службы "Функции Azure".  Здесь вы можете указать пользовательское DNS-имя для портала предварительной версии среды выполнения службы "Функции Azure".  Нажмите кнопку **Применить** для завершения.

    ![Предварительная версия среды выполнения службы "Функции Azure" — IIS][11]

1. Щелкните вкладку **Службы**.  На этой вкладке отображается состояние служб в инструменте настройки среды выполнения службы "Функции Azure".  Если **служба активации узла службы "Функции Azure"** не запущена после первоначальной настройки, щелкните **Запустить службу**.

    ![Завершение настройки предварительной версии среды выполнения службы "Функции Azure"][12]

1. Перейдите на **портал среды выполнения службы "Функции Azure"** как `https://<machinename>.<domain>/`.

    ![Портал предварительной версии среды выполнения службы "Функции Azure"][13]

## <a name="create-your-first-function-in-azure-functions-runtime-preview"></a>Создание первой функции в предварительной версии среды выполнения службы "Функции Azure"

Чтобы создать первую функцию в предварительной версии среды выполнения службы "Функции Azure", сделайте следующее:

1. Перейдите на **портал среды выполнения службы "Функции Azure"** как https://<machinename>.<domain>, например https://mycomputer.mydomain.com.
1. Вам будет предложено **войти**. При развертывании в домене используйте свое имя пользователя и пароль домена. В противном случае используйте имя пользователя и пароль локальной учетной записи для входа на портал.

![Вход на портал предварительной версии среды выполнения службы "Функции Azure"][14]

1. Для создания приложений-функций необходимо создать подписку.  В левом верхнем углу портала щелкните **+** рядом с пунктом "Подписки".

![Пункт "Подписки" на портале предварительной версии среды выполнения службы "Функции Azure"][15]

1. Выберите **DefaultPlan**, затем введите имя своей подписки и нажмите кнопку **Создать**.

![План и имя подписки на портале предварительной версии среды выполнения службы "Функции Azure"][16]

1. Все приложения-функции перечислены в левой части портала.  Чтобы создать приложение-функцию, выделите заголовок **Приложения-функции** и щелкните **+**.

1. Введите имя приложения-функции, выберите нужную подписку и версию среды выполнения службы "Функции Azure", которую необходимо запрограммировать, а затем нажмите кнопку **Создать**

![Новое приложение-функция на портале предварительной версии среды выполнения службы "Функции Azure"][17]

1. Новое приложение-функция указано в левой части портала.  Выберите "Функции", а затем щелкните **New Function** (Создать функцию) в верхней части центральной области на портале.

![Шаблоны предварительной версии среды выполнения службы "Функции Azure"][18]

1. Выберите функцию Timer Trigger (Триггер таймера). В правом всплывающем окне введите имя своей функции, измените расписание на `*/5 * * * * *` (это выражение cron укажет функции таймера выполняться каждые пять секунд) и нажмите кнопку **Создать**

![Конфигурация новой функции таймера предварительной версии среды выполнения службы "Функции Azure"][19]

1. Теперь функция создана.  Журнал выполнения приложения-функции можно просмотреть, развернув область **журнала** в нижней части портала.

![Выполнение функции предварительной версии среды выполнения службы "Функции Azure"][20]

<!--Image references-->
[1]: ./media/functions-runtime-install/AzureFunctionsRuntime_Installer1.png
[2]: ./media/functions-runtime-install/AzureFunctionsRuntime_Installer2-EULA.png
[3]: ./media/functions-runtime-install/AzureFunctionsRuntime_Installer3-ChooseRoles.png
[4]: ./media/functions-runtime-install/AzureFunctionsRuntime_Installer4-Install.png
[5]: ./media/functions-runtime-install/AzureFunctionsRuntime_Installer5-Progress.png
[6]: ./media/functions-runtime-install/AzureFunctionsRuntime_Installer6-InstallComplete.png
[7]: ./media/functions-runtime-install/AzureFunctionsRuntime_Configuration1.png
[8]: ./media/functions-runtime-install/AzureFunctionsRuntime_Configuration2_SQL.png
[9]: ./media/functions-runtime-install/AzureFunctionsRuntime_Configuration3_Credentials.png
[10]: ./media/functions-runtime-install/AzureFunctionsRuntime_Configuration4_Fileshare.png
[11]: ./media/functions-runtime-install/AzureFunctionsRuntime_Configuration5_IIS.png
[12]: ./media/functions-runtime-install/AzureFunctionsRuntime_Configuration6_Services.png
[13]: ./media/functions-runtime-install/AzureFunctionsRuntime_Portal.png
[14]: ./media/functions-runtime-install/AzureFunctionsRuntime_Portal_Login.png
[15]: ./media/functions-runtime-install/AzureFunctionsRuntime_Portal_Subscriptions.png
[16]: ./media/functions-runtime-install/AzureFunctionsRuntime_Portal_Subscriptions1.png
[17]: ./media/functions-runtime-install/AzureFunctionsRuntime_Portal_NewFunctionApp.png
[18]: ./media/functions-runtime-install/AzureFunctionsRuntime_v1FunctionsTemplates.png
[19]: ./media/functions-runtime-install/AzureFunctionsRuntime_Portal_NewTimerFunction.png
[20]: ./media/functions-runtime-install/AzureFunctionsRuntime_Portal_RunningV2Function.png
