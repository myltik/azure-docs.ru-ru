---
title: Анализ тональности данных Twitter в режиме реального времени с помощью Azure Stream Analytics | Документация Майкрософт
description: Информация об использовании Stream Analytics для анализа тональности данных Twitter в режиме реального времени. Пошаговое руководство с шагами от создания событий до отображения данных на динамической панели мониторинга.
keywords: анализ тенденций twitter в режиме реального времени, анализ тональности, анализ социальных сетей, пример анализа тенденций
services: stream-analytics
documentationcenter: ''
author: jseb225
manager: ryanw
ms.assetid: 42068691-074b-4c3b-a527-acafa484fda2
ms.service: stream-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 06/29/2017
ms.author: jeanb
ms.openlocfilehash: 87a9ecc5984075d700ddc64a1377342d5fe7e494
ms.sourcegitcommit: 34e0b4a7427f9d2a74164a18c3063c8be967b194
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/30/2018
---
# <a name="real-time-twitter-sentiment-analysis-in-azure-stream-analytics"></a>Анализ тональности в Twitter в режиме реального времени в Azure Stream Analytics

Узнайте, как обеспечить анализ тональности для аналитики социальных сетей путем переноса событий Twitter в концентратор событий Azure в режиме реального времени. Вы узнаете, как составлять запросы Azure Stream Analytics для анализа данных, а затем сохранять результаты или использовать панель мониторинга для получения ценной аналитической информации в режиме реального времени, используя [Power BI](https://powerbi.com/).

Средства аналитики для социальных сетей помогают организациям определить популярные темы, то есть темы и отношения с большим количеством записей в социальных сетях. Анализ тональности, также называемый *интеллектуальным анализом мнений*, использует инструменты аналитики для социальных сетей, чтобы определить отношение к продукции, идеям и т. д. 

Хороший пример средства прогнозной аналитики — анализ тенденций Twitter в режиме реального времени. Модель подписки с использованием хэштегов позволяет ожидать передачи определенных ключевых слов и выполнять анализ тональности веб-канала.

## <a name="scenario-social-media-sentiment-analysis-in-real-time"></a>Сценарий: анализ тональности в социальной сети в режиме реального времени

У организации есть новостной веб-сайт. Она хочет получить конкурентное преимущество, мгновенно предлагая читателям содержимое, которое будет им интересно. Организация выполняет анализ социальных сетей по темам, которые интересуют их читателей, анализируя тональность данных Twitter в режиме реального времени.

Чтобы определять наиболее популярные темы в Twitter в режиме реального времени, организации необходимо анализировать количество твитов и тональность по ключевым темам. Другими словами, ей необходим модуль анализа тональности для канала в социальных сетях.

## <a name="prerequisites"></a>предварительным требованиям
В этом руководстве используется клиентское приложение, которое подключается к Twitter и ищет твиты с определенными хэштегами (которые можно задать). Для запуска приложения и анализа твитов с помощью Azure Stream Analytics необходимо иметь следующее:

* Подписка Azure
* учетная запись Twitter; 
* Приложение Twitter и [маркер доступа OAuth](https://dev.twitter.com/oauth/overview/application-owner-access-tokens) для этого приложения. Позже мы предоставим основные инструкции по созданию приложения Twitter.
* Приложение TwitterWPFClient, которое считывает веб-канал Twitter. Чтобы получить это приложение, скачайте файл [TwitterWPFClient.zip](https://github.com/Azure/azure-stream-analytics/blob/master/Samples/TwitterClient/TwitterWPFClient.zip) на GitHub, а затем распакуйте пакет в папку на компьютере. Если требуется просмотреть исходный код или запустить приложение в отладчике, можно получить исходный код на [GitHub](https://aka.ms/azure-stream-analytics-telcogenerator). 

## <a name="create-an-event-hub-for-streaming-analytics-input"></a>Создание концентратора событий для входных данных Streaming Analytics

Пример приложения создает события и передает их в концентратор событий Azure. Для получения данных событий в Stream Analytics рекомендуется использовать концентраторы событий Azure. Дополнительные сведения см. в статье [Что такое концентраторы событий?](../event-hubs/event-hubs-what-is-event-hubs.md).


### <a name="create-an-event-hub-namespace-and-event-hub"></a>Создание пространства имен концентраторов событий и концентратора событий
В этой процедуре сначала создается пространство имен концентратора событий, а затем в это пространство имен добавляется концентратор событий. Пространства имен концентратора событий используются для логической группировки связанных экземпляров шины событий. 

1. Войдите на портал Azure и выберите **Создать ресурс** > **"Интернет вещей"** > **Концентратор событий**. 

2. В колонке **Создать пространство имен** укажите имя пространства имен, например `<yourname>-socialtwitter-eh-ns`. Для пространства имен можно использовать любое уникальное в Azure имя с допустимым URL-адресом. 
    
3. Выберите подписку, создайте или выберите группу ресурсов, а затем щелкните **Создать**. 

    ![Создание пространства имен концентратора событий](./media/stream-analytics-twitter-sentiment-analysis-trends/stream-analytics-create-eventhub-namespace.png)
 
4. После завершения развертывания пространства имен найдите пространство имен концентратора событий в списке ресурсов Azure. 

5. Щелкните новое пространство имен, а затем в открывшейся колонке щелкните **+&nbsp;Концентратор событий**. 

    ![Кнопка "Добавить концентратор событий" для создания нового концентратора событий ](./media/stream-analytics-twitter-sentiment-analysis-trends/stream-analytics-create-eventhub-button.png)    
 
6. Назовите новый концентратор событий `socialtwitter-eh`. Вы можете использовать другое имя. В таком случае запишите его, так как это имя понадобится вам позже. Другие параметры концентратора событий указывать не нужно.

    ![Колонка создания нового концентратора событий](./media/stream-analytics-twitter-sentiment-analysis-trends/stream-analytics-create-eventhub.png)
 
7. Нажмите кнопку **Создать**.


### <a name="grant-access-to-the-event-hub"></a>Предоставление доступа к концентратору событий

Для того чтобы процесс смог отправлять данные в концентратор событий, концентратор должен иметь политику, разрешающую соответствующий доступ. Политика доступа создает строку подключения, которая включает сведения об авторизации.

1.  В колонке пространства имен событий щелкните **Концентраторы событий**, а затем щелкните имя нового концентратора событий.

2.  В колонке концентратора событий щелкните **Политики общего доступа**, а затем выберите **+&nbsp;Добавить**.

    >[!NOTE]
    >Вы должны работать с концентратором событий, а не пространством имен концентратора.

3.  Добавьте политику с именем `socialtwitter-access`, а для параметра **Утверждение** выберите **Управление**.

    ![Колонка создания политики доступа для нового концентратора событий](./media/stream-analytics-twitter-sentiment-analysis-trends/stream-analytics-create-shared-access-policy-manage.png)
 
4.  Нажмите кнопку **Создать**.

5.  После развертывания политики щелкните ее в списке политик общего доступа.

6.  Найдите текстовое поле с пометкой **Строка подключения — первичный ключ** и нажмите кнопку копирования рядом со строкой подключения. 
    
    ![Копирование первичного ключа строки подключения из политики доступа](./media/stream-analytics-twitter-sentiment-analysis-trends/stream-analytics-shared-access-policy-copy-connection-string.png)
 
7.  Вставьте строку подключения в текстовый редактор. Эта строка подключения понадобится в следующем разделе после внесения в нее небольших изменений.

    Строка подключения выглядит следующим образом:

        Endpoint=sb://YOURNAME-socialtwitter-eh-ns.servicebus.windows.net/;SharedAccessKeyName=socialtwitter-access;SharedAccessKey=Gw2NFZw6r...FxKbXaC2op6a0ZsPkI=;EntityPath=socialtwitter-eh

    Обратите внимание, что строка подключения содержит несколько пар "ключ — значение", которые разделены точкой с запятой: `Endpoint`, `SharedAccessKeyName`, `SharedAccessKey` и `EntityPath`.  

    > [!NOTE]
    > В целях безопасности в примере были удалены части строки подключения.

8.  В текстовом редакторе удалите пару `EntityPath` из строки подключения (не забудьте удалить точку с запятой после нее). После этого строка подключения будет выглядеть следующим образом:

        Endpoint=sb://YOURNAME-socialtwitter-eh-ns.servicebus.windows.net/;SharedAccessKeyName=socialtwitter-access;SharedAccessKey=Gw2NFZw6r...FxKbXaC2op6a0ZsPkI=


## <a name="configure-and-start-the-twitter-client-application"></a>Настройка и запуск клиентского приложения Twitter
Клиентское приложение получает события твитов непосредственно из Twitter. Для этого ему нужно разрешение на вызов интерфейсов API потоковой передачи Twitter. Чтобы настроить это разрешение, создайте приложение в Twitter, которое формирует уникальные учетные данные (например, маркер OAuth). Затем можно настроить в клиентском приложении использование этих учетных данных при вызовах API. 

### <a name="create-a-twitter-application"></a>Создание приложения Twitter
Если вы еще не создали приложение Twitter для этого руководства, сделайте это. У вас уже должна быть учетная запись Twitter.

> [!NOTE]
> Конкретный процесс в Twitter для создания приложения и получения ключей, секретов и маркеров может измениться. Если эти инструкции не совпадают с тем, что отображается на сайте Twitter, обратитесь к документации разработчика Twitter.

1. Перейдите на [страницу управления приложениями Twitter](https://apps.twitter.com/). 

2. Создайте новое приложение. 

    * В качестве URL-адреса веб-сайта укажите допустимый URL-адрес. Это не обязательно должен быть действующий сайт. (Нельзя просто указать `localhost`).
    * Оставьте пустым поле обратного вызова. Для клиентского приложения в этом руководстве не требуются обратные вызовы.

    ![Создание приложения в Twitter](./media/stream-analytics-twitter-sentiment-analysis-trends/create-twitter-application.png)

3. При необходимости измените разрешения приложения на "только для чтения".

4. Когда приложение будет создано, перейдите на страницу **Keys and Access Tokens** (Ключи и маркеры доступа).

5. Нажмите кнопку, чтобы создать маркер доступа и секрет маркера доступа.

Эти сведения следует иметь под рукой, так как они понадобятся в следующей процедуре.

>[!NOTE]
>Ключи и секреты для приложения Twitter предоставляют доступ к вашей учетной записи Twitter. Относитесь к этим сведениям как к конфиденциальным, так же как к паролю Twitter. Например, не внедряйте эти сведения в приложения, которые предоставляете другим пользователям. 


### <a name="configure-the-client-application"></a>Настройка клиентского приложения
Мы создали клиентское приложение, которое будет подключаться к Twitter с помощью [API потоковой передачи Twitter](https://dev.twitter.com/streaming/overview) и собирать события Twitter в темах из определенного набора. Для присвоения значения тональности каждому твиту используется средство [Sentiment140](http://help.sentiment140.com/) с открытым исходным кодом.

* 0 = негативная тональность
* 2 = нейтральная тональность
* 4 = позитивная тональность

После назначения значения тональности событиям твитов они отправляются в концентратор событий, который был создан ранее.

Перед запуском предоставьте приложению сведения, такие как ключи Twitter и строка подключения к концентратору событий. Сведения о конфигурации можно указать следующим образом:

* Запустите приложение, а затем с помощью пользовательского интерфейса приложения введите ключи, секреты и строку подключения. После этого сведения о конфигурации будут использоваться во время текущего сеанса, но не будут сохраняться.
* Измените файл конфигурации приложения и задайте в нем значения. Этот подход сохраняет сведения о конфигурации. Это также означает, что эта потенциально конфиденциальная информация хранится в виде обычного текста на компьютере.

Ниже описываются оба подхода. 

1. Убедитесь, что вы загрузили и распаковали приложение [TwitterWPFClient.zip](https://github.com/Azure/azure-stream-analytics/blob/master/Samples/TwitterClient/TwitterWPFClient.zip), как указано в списке необходимых компонентов.

2. Чтобы задать значения во время выполнения (только для текущего сеанса), выполните приложение `TwitterWPFClient.exe`. Когда отобразится запрос, введите следующие значения:

    * Ключ пользователя Twitter (ключ API).
    * Секрет пользователя Twitter (секрет API).
    * Маркер доступа Twitter.
    * Секрет маркера доступа Twitter.
    * Данные строки подключения, сохраненные ранее. Убедитесь, что используете строку подключения, из которой вы удалили пару "ключ — значение" `EntityPath`.
    * Ключевые слова Twitter, по которым следует определять тональность.

   ![Запущенное приложение TwitterWpfClient со скрытыми параметрами](./media/stream-analytics-twitter-sentiment-analysis-trends/wpfclientlines.png)

3. Чтобы задать постоянные значения, откройте файл TwitterWpfClient.exe.config в текстовом редакторе. Затем в элементе `<appSettings>` сделайте следующее:

    * Задайте для `oauth_consumer_key` значение ключа пользователя Twitter (ключ API). 
    * Задайте для `oauth_consumer_secret` значение секрета пользователя Twitter (секрет API).
    * Задайте для `oauth_token` значение маркера доступа Twitter.
    * Задайте для `oauth_token_secret` значение секрета маркера доступа Twitter.

    Далее в элементе `<appSettings>` внесите следующие изменения:

    * Задайте для `EventHubName` значение имени концентратора событий (то есть значение пути к сущности).
    * Задайте для `EventHubNameConnectionString` значение строки подключения. Убедитесь, что используете строку подключения, из которой вы удалили пару "ключ — значение" `EntityPath`.

    Раздел `<appSettings>` будет выглядеть как в следующем примере. (Для ясности и безопасности мы перенесли часть строк и удалили некоторые символы.)

    ![Файл конфигурации приложения TwitterWpfClient в текстовом редакторе с ключами и секретами Twitter, а также данными строки подключения к концентратору событий](./media/stream-analytics-twitter-sentiment-analysis-trends/stream-analytics-tiwtter-app-config.png)
 
4. Если вы еще не запустили приложение, запустите TwitterWpfClient.exe. 

5. Нажмите зеленую кнопку запуска для сбора общественных мнений. Вы увидите события-твиты, для которых значения **CreatedAt**, **Topic** и **SentimentScore** будут отправляться в концентратор событий.

    ![Запущенное приложение TwitterWpfClient со списком твитов](./media/stream-analytics-twitter-sentiment-analysis-trends/stream-analytics-twitter-app-listing.png)

    >[!NOTE]
    >Если вы видите сообщения об ошибках и поток твитов не отображается в нижней части окна, следует перепроверить ключи и секреты. Также проверьте строку подключения (убедитесь, что она не содержит ключ и значение `EntityPath`).


## <a name="create-a-stream-analytics-job"></a>Создание задания Stream Analytics

Теперь, когда у нас есть поток событий-твитов из Twitter в режиме реального времени, можно настроить задание Stream Analytics, чтобы анализировать эти события в режиме реального времени.

1. На портале Azure щелкните **Создать ресурс** > **"Интернет вещей"** > **Задание Stream Analytics**.

2. Назовите задание `socialtwitter-sa-job` и укажите подписку, группу ресурсов и расположение.

    Мы рекомендуем поместить задание и концентратор событий в одном регионе, чтобы достичь оптимальной производительности и не оплачивать передачу данных между регионами.

    ![Создание нового задания Stream Analytics](./media/stream-analytics-twitter-sentiment-analysis-trends/newjob.png)

3. Нажмите кнопку **Создать**.

    Будет создано задание, и на портале отобразятся сведения о нем.


## <a name="specify-the-job-input"></a>Указание входных данных для задания

1. В задании Stream Analytics щелкните **Входные данные** в центре колонки задания в разделе **Топология задания**. 

2. В колонке **Входные данные** щелкните **+&nbsp;Добавить**, а затем заполните колонку следующими значениями:

    * **Входной псевдоним**: используйте имя `TwitterStream`. Если используется другое имя, запишите его, так как оно понадобится позже.
    * **Тип источника**: выберите **Поток данных**.
    * **Источник**: выберите **Концентратор событий**.
    * **Вариант импорта**: выберите **Использовать концентратор событий из текущей подписки**. 
    * **Пространство имен служебной шины**: выберите созданное ранее пространство имен концентратора событий (`<yourname>-socialtwitter-eh-ns`).
    * **Концентратор событий**: выберите ранее созданный концентратор событий (`socialtwitter-eh`).
    * **Имя политики концентратора событий**: выберите ранее созданную политику доступа (`socialtwitter-access`).

    ![Создание новых входных данных для задания Streaming Analytics](./media/stream-analytics-twitter-sentiment-analysis-trends/stream-analytics-twitter-new-input.png)

3. Нажмите кнопку **Создать**.


## <a name="specify-the-job-query"></a>Указание запроса задания

Stream Analytics поддерживает простую декларативную модель запроса для описания преобразований. Дополнительные сведения о языке см. в разделе [Справочник по языку запросов Azure Stream Analytics](https://msdn.microsoft.com/library/azure/dn834998.aspx).  Это руководство поможет создать и проверить несколько запросов по данным Twitter.

Чтобы сравнить количество упоминаний по разным темам, воспользуемся [переворачивающимся окном](https://msdn.microsoft.com/library/azure/dn835055.aspx). Это позволит получать количество упоминаний по теме каждые 5 секунд.

1. Закройте колонку **Входные данные**, если еще не сделали этого.

2. В колонке задания щелкните поле **Запрос**. Azure перечислит входные и выходные данные, настроенные для задания, и позволит создать запрос, с помощью которого можно преобразовать входной поток, отправляемый на выход.

3. Убедитесь, что приложение TwitterWpfClient запущено. 

3. В колонке **Запрос** щелкните точки рядом с входными данными `TwitterStream`, а затем выберите **Образец данных со входа**.

    ![Параметры меню для использования примера данных для записи задания Streaming Analytics с выбранным параметром "Образец данных со входа"](./media/stream-analytics-twitter-sentiment-analysis-trends/stream-analytics-create-sample-data-from-input.png)

    Откроется колонка, в которой можно указать количество образцов данных для получения на основе того, как долго нужно считывать входной поток.

4. Для параметра **Минуты** задайте значение 3 и нажмите кнопку **ОК**. 
    
    ![Параметры выборки входного потока с выбранным значением "3 минуты".](./media/stream-analytics-twitter-sentiment-analysis-trends/stream-analytics-input-create-sample-data.png)

    Azure обработает данные из входного потока, накопленные за 3 минуты, и сообщит о готовности образца данных. (Это займет некоторое время.) 

    Образец данных хранится временно и доступен, пока открыто окно запроса. Если закрыть окно запроса, образец данных будет удален и придется создать новый набор образцов данных. 

5. Измените запрос в редакторе кода, используя следующие значения:

    ```
    SELECT System.Timestamp as Time, Topic, COUNT(*)
    FROM TwitterStream TIMESTAMP BY CreatedAt
    GROUP BY TUMBLINGWINDOW(s, 5), Topic
    ```

    Если `TwitterStream` не использовался в качестве псевдонима для входа, замените в запросе псевдоним на `TwitterStream`.  

    В этом запросе используется ключевое слово **Timestamp By**, позволяющее задать поле метки времени в полезных данных, используемых при вычислении временных распределений. Если это поле не указано, при выполнении операций с окнами будет использоваться время поступления каждого события в концентратор событий. Дополнительные сведения см. в разделе "Arrival Time Vs Application Time" (Время прибытия и время приложения) [справочника по языку запросов Azure Stream Analytics](https://msdn.microsoft.com/library/azure/dn834998.aspx).

    Запрос также обращается к временной отметке конца каждого окна с помощью свойства **System.Timestamp**.

5. Нажмите **Проверить**. Будет выполнен запрос к данным выборки.
    
6. Выберите команду **Сохранить**. После этого запрос сохранится как часть задания Streaming Analytics. (Образец данных не сохраняется.)


## <a name="experiment-using-different-fields-from-the-stream"></a>Эксперимент с использованием разных полей из потока 

Ниже перечислены поля, которые являются частью данных потоковой передачи JSON. Так что вы можете поэкспериментировать в редакторе запросов.

|Свойство JSON | Определение|
|--- | ---|
|CreatedAt | Время создания твита|
|Раздел | Раздел, соответствующий указанному ключевому слову|
|SentimentScore | Оценка тональности из Sentiment140|
|Автор | Дескриптор Twitter, отправивший твит|
|текст | Полный текст твита|


## <a name="create-an-output-sink"></a>Создание приемника выходных данных

Вы определили поток событий, входные данные концентратора событий для приема событий и запрос для преобразования потока. Последний этап — определить приемник выходных данных задания.  

В этом руководстве мы запишем агрегированные события-твиты из запроса задания в хранилище BLOB-объектов Azure.  Кроме того, в зависимости от потребностей приложения можно передать результаты в базу данных SQL Azure, хранилище таблиц Azure, концентраторы событий или Power BI.

## <a name="specify-the-job-output"></a>Указание выходных данных для задания

1. В разделе **Топологии задания** щелкните поле **Выходные данные**. 

2. В колонке **Выходные данные** щелкните **+&nbsp;Добавить**, а затем заполните колонку следующими значениями:

    * **Выходной псевдоним**: используйте имя `TwitterStream-Output`. 
    * **Приемник.** Выберите **хранилище BLOB-объектов**.
    * **Параметры импорта**: выберите **Использовать хранилище BLOB-объектов из текущей подписки**.
    * **Учетная запись хранения**: Выберите **Создать новую учетную запись хранения**.
    * **Учетная запись хранения** (второе диалоговое окно). Введите `YOURNAMEsa`, где `YOURNAME` — ваше имя или другая уникальная строка. Имя должно быть уникальным в Azure и может содержать только строчные буквы и цифры. 
    * **Контейнер**. Укажите `socialtwitter`.
    Имя учетной записи хранения и имя контейнера используются совместно для предоставления URI для хранилища BLOB-объектов следующим образом: 

    `http://YOURNAMEsa.blob.core.windows.net/socialtwitter/...`
    
    ![Колонка "Новые выходные данные" для задания Stream Analytics](./media/stream-analytics-twitter-sentiment-analysis-trends/stream-analytics-create-output-blob-storage.png)
    
4. Нажмите кнопку **Создать**. 

    Azure создаст учетную запись хранения и ключ автоматически. 

5. Закройте колонку **Выходные данные**. 


## <a name="start-the-job"></a>Запустите задание

Входные данные для задания, запрос и выходные данные указаны. Теперь можно запустить задание Stream Analytics

1. Убедитесь, что приложение TwitterWpfClient запущено. 

2. В колонке задания щелкните **Запуск**.

    ![Запуск задания Stream Analytics](./media/stream-analytics-twitter-sentiment-analysis-trends/stream-analytics-sa-job-start-output.png)

3. В колонке **Запуск задания** для параметра **Время начала создания выходных данных задания** выберите **Сейчас** и щелкните **Запуск**. 

    ![Колонка "Запуск задания" для задания Stream Analytics](./media/stream-analytics-twitter-sentiment-analysis-trends/stream-analytics-sa-job-start-job-blade.png)

    Azure сообщит о запуске задания, а в колонке задания отобразится состояние **Выполняется**.

    ![Выполнение задания](./media/stream-analytics-twitter-sentiment-analysis-trends/jobrunning.png)

## <a name="view-output-for-sentiment-analysis"></a>Просмотр выходных данных для анализа тональности

После запуска задания и обработки потока Twitter в режиме реального времени можно просмотреть выходные данные для анализа тональности.

Чтобы просматривать выходные данные задания в реальном времени, воспользуйтесь такими инструментами, как [Обозреватель хранилищ Azure](https://http://storageexplorer.com/) или [Обозреватель Azure](http://www.cerebrata.com/products/azure-explorer/introduction). Теперь можно расширить ваше приложение, включив в него настраиваемую панель мониторинга с помощью [Power BI](https://powerbi.com/), как показано на следующем снимке экрана.

![Power BI](./media/stream-analytics-twitter-sentiment-analysis-trends/power-bi.png)


## <a name="create-another-query-to-identify-trending-topics"></a>Создание другого запроса для выявления популярных тем

Другой запрос, который можно использовать для понимания тональности Twitter основан на [скользящем окне](https://msdn.microsoft.com/library/azure/dn835051.aspx). Для определения популярных тем мы будем искать темы, упоминания по которым превышают пороговое значение за определенный промежуток времени.

Для целей данного руководства мы проверим темы, упомянутые более 20 раз за последние 5 секунд.

1. Чтобы остановить задание, в колонке задания нажмите кнопку **Остановить**. 

2. В разделе **Топологии задания** щелкните поле **Запрос**. 

3. Измените запрос следующим образом:

    ```    
    SELECT System.Timestamp as Time, Topic, COUNT(*) as Mentions
    FROM TwitterStream TIMESTAMP BY CreatedAt
    GROUP BY SLIDINGWINDOW(s, 5), topic
    HAVING COUNT(*) > 20
    ```

4. Выберите команду **Сохранить**.

5. Убедитесь, что приложение TwitterWpfClient запущено. 

6. Нажмите кнопку **Запуск**, чтобы перезапустить задание с помощью нового запроса.


## <a name="get-support"></a>Получение поддержки
За дополнительной помощью обращайтесь на наш [форум Azure Stream Analytics](https://social.msdn.microsoft.com/Forums/en-US/home?forum=AzureStreamAnalytics).

## <a name="next-steps"></a>Дальнейшие действия
* [Введение в Azure Stream Analytics](stream-analytics-introduction.md)
* [Приступая к работе с Azure Stream Analytics](stream-analytics-real-time-fraud-detection.md)
* [Масштабирование заданий в службе Azure Stream Analytics](stream-analytics-scale-jobs.md)
* [Справочник по языку запросов Azure Stream Analytics](https://msdn.microsoft.com/library/azure/dn834998.aspx)
* [Справочник по API-интерфейсу REST управления Stream Analytics](https://msdn.microsoft.com/library/azure/dn835031.aspx)
