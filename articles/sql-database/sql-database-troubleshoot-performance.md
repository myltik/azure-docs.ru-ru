---
title: Мониторинг и настройка производительности базы данных SQL Azure | Документация Майкрософт
description: Советы по настройке базы данных SQL Azure — оценка и улучшение производительности.
services: sql-database
author: v-shysun
manager: craigg
editor: ''
keywords: настройка производительности sql, настройка производительности базы данных, советы по настройке производительности sql, настройка производительности базы данных sql
ms.service: sql-database
ms.custom: monitor & tune
ms.topic: conceptual
ms.date: 04/01/2018
ms.author: v-shysun
ms.openlocfilehash: a20d198c64bfc6aeaa42f310ee533626c2b1409c
ms.sourcegitcommit: 266fe4c2216c0420e415d733cd3abbf94994533d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/01/2018
ms.locfileid: "34649624"
---
# <a name="monitoring-and-performance-tuning"></a>Мониторинг и настройка производительности

База данных SQL Azure — это управляемая автоматически гибкая служба данных, позволяющая легко отслеживать использование, добавлять и удалять ресурсы (ЦП, памяти, ввода-вывода), находить рекомендации, которые могут повысить производительность базы данных, а также позволить базе данных адаптироваться к рабочей нагрузке и автоматически оптимизировать производительность.

Эта статья содержит общие сведения о возможностях мониторинга и настройки производительности, доступных в Базе данных SQL Azure.

[!INCLUDE [support-disclaimer](../../includes/support-disclaimer.md)]

## <a name="monitoring-and-troubleshooting-database-performance"></a>Мониторинг и устранение неполадок производительности базы данных

База данных SQL Azure позволяет легко отслеживать использование базы данных и определять запросы, которые могут приводить к проблемам производительности. Вы можете отслеживать производительность базы данных с помощью портала Azure или системных представлений. Доступны следующие возможности мониторинга и устранения неполадок производительности базы данных.

1. На [портале Azure](https://portal.azure.com) щелкните **Базы данных SQL**, выберите базу данных и найдите ресурсы, приближающиеся к максимальной отметке, на диаграмме мониторинга. По умолчанию отображается процент использования DTU. Щелкните **Изменить** , чтобы изменить диапазон времени и отображаемые значения.
2. На странице [Анализ производительности запросов](sql-database-query-performance.md) можно определить, какие запросы потребляют большую часть ресурсов.
3. Для получения параметров производительности в режиме реального времени используйте динамические административные представления (DMV), расширенные события (`XEvents`) и хранилище запросов в SSMS.

В [этом разделе руководства по производительности](sql-database-performance-guidance.md) описаны методы, которые можно использовать, чтобы повысить производительность Базы данных SQL Azure, если вы обнаружили какие-либо проблемы с помощью этих отчетов или представлений.

> [!IMPORTANT] 
> Чтобы обеспечить синхронизацию с обновлениями Microsoft Azure и Базой данных SQL, рекомендуется всегда использовать последнюю версию Management Studio. [Обновите среду SQL Server Management Studio](https://msdn.microsoft.com/library/mt238290.aspx).
>

## <a name="optimize-database-to-improve-performance"></a>Оптимизация базы данных для повышения производительности

База данных SQL Azure позволяет выявить возможности для повышения и оптимизации производительности запросов без изменения ресурсов. Для этого достаточно изучить [рекомендации по настройке производительности](sql-database-advisor.md). Отсутствующие индексы и плохо оптимизированные запросы — распространенные причины низкой производительности баз данных. Можно применить эти рекомендации по настройке, чтобы повысить производительность рабочей нагрузки.
Можно также позволить Базе данных Azure SQL [автоматически оптимизировать производительность запросов](sql-database-automatic-tuning.md). В этом случае она будет применять все созданные рекомендации и проверять, действительно ли они повышают производительность базы данных. Для повышения производительности базы данных можно использовать следующие возможности.

1. Используйте [Помощник по базам данных SQL](sql-database-advisor-portal.md), чтобы просматривать рекомендации по созданию и удалению индексов, параметризации запросов и устранению ошибок схемы.
2. [Включите автоматическую настройку](sql-database-automatic-tuning-enable.md) и позвольте Базе данных SQL Azure автоматически исправлять выявленные проблемы производительности.

## <a name="improving-database-performance-with-more-resources"></a>Повышение производительности базы данных с помощью дополнительных ресурсов

Наконец, если для базы данных нет применимых рекомендаций по повышению производительности, можно изменить объем ресурсов, доступных в Базе данных SQL Azure. Можно назначить больше ресурсов, изменив [уровень служб на основе DTU](sql-database-service-tiers-dtu.md) изолированной базы данных или увеличив количество eDTU эластичного пула в любое время. Кроме того, если вы используете [модель приобретения на основе виртуальных ядер (предварительная версия)](sql-database-service-tiers-vcore.md), вы можете изменить уровень служб или увеличить объем ресурсов, выделенных для базы данных. 
1. Для повышения производительности изолированных баз данных можно изменять [уровни служб](sql-database-service-tiers-dtu.md) или объем [вычислительных ресурсов](sql-database-service-tiers-vcore.md) по запросу.
2. Если баз данных несколько, можно включить автомасштабирование ресурсов, используя [пулы эластичных баз данных](sql-database-elastic-pool-guidance.md).

## <a name="tune-and-refactor-application-or-database-code"></a>Настройка и рефакторинг кода приложения или базы данных

Можно изменить код приложения для более оптимального использования базы данных, изменить индексы, принудительно применить планы или с помощью указаний вручную адаптировать базу данных для рабочей нагрузки. Рекомендации и советы по ручной настройке и изменению кода приведены в [этом разделе руководства по производительности](sql-database-performance-guidance.md).


## <a name="next-steps"></a>Дополнительная информация

- Дополнительные сведения о том, как включить автоматическую настройку в Базе данных SQL Azure и позволить ей полностью управлять рабочей нагрузкой, см. в [этой статье](sql-database-automatic-tuning-enable.md).
- Дополнительные сведения о ручной настройке для повышения производительности запросов см. в статье [Использование помощника по базам данных SQL на портале Azure](sql-database-advisor-portal.md).
- Изменить ресурсы, доступные в базе данных, можно, изменив [уровни служб Базы данных SQL Azure](sql-database-performance-guidance.md).
