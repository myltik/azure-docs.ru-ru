---
title: Знакомство с приложением Wingtips для службы "База данных SQL Azure" | Документация Майкрософт
description: Узнайте о моделях аренды базы данных на примере SaaS-приложения Wingtips для службы "База данных SQL Azure" в облачной среде.
keywords: руководство по базе данных sql
services: sql-database
author: billgib
manager: craigg
ms.service: sql-database
ms.custom: scale out apps
ms.topic: conceptual
ms.date: 04/01/2018
ms.author: billgib
ms.openlocfilehash: 3c7d1d40af3a0b8f70302171eb13ac0a180b0bfe
ms.sourcegitcommit: 266fe4c2216c0420e415d733cd3abbf94994533d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/01/2018
ms.locfileid: "34644398"
---
# <a name="the-wingtip-tickets-saas-application"></a>SaaS-приложение Wingtip Tickets

В каждом из трех примеров реализовано одно и то же приложение SaaS *Wingtip Tickets*. Это SaaS-приложение позволяет анонсировать события и бронировать билеты. Оно предназначено для небольших локаций, например театров, клубов и т. д. Каждая локация является клиентом приложения и имеет свои собственные данные: сведения о помещении, списки событий, посетители, заказы билетов и т. д.  Приложение, а также прилагающиеся к нему скрипты управления и руководства демонстрируют полнофункциональный сценарий службы SaaS. Этот сценарий включает подготовку клиентов, отслеживание производительности и управление ею, управление схемой, создание отчетов и аналитику между клиентами.

## <a name="three-saas-application-and-tenancy-patterns"></a>SaaS-приложение и шаблоны аренды

Доступны три версии приложения. В каждой версии используется свой шаблон для аренды базы данных в Базе данных SQL Azure.  В первой используется однотенантное изолированное приложение с собственной базой данных. Во втором используется мультитенантное приложение с однотенантной базой данных. В третьей версии используется мультитенантное приложение с сегментированными мультитенантыми базами данных.

![Три шаблона аренды][image-three-tenancy-patterns]

 Каждый пример включает в себя код приложения и сценарии управления и руководства, иллюстрирующие разные шаблоны управления и разработки.  Каждый пример развертывается не более пяти минут.  Все три шаблона можно развернуть параллельно и определить их различия в разработке и управлении.

## <a name="standalone-application-per-tenant-pattern"></a>Шаблон однотенантного изолированного приложения

В шаблоне изолированного однотенантного приложения используется однотенантное приложение с базой данных для одного клиента. Каждое приложение клиента, включая базу данных, развертывается в отдельной группе ресурсов Azure. Группа ресурсов может быть развернута в подписке поставщика услуг или подписке клиента, управляемой поставщиком от имени клиента. Этот шаблон однотенантного автономного приложения предоставляет наивысший уровень изоляции клиента. Но является самым дорогим, так как в нем не предусмотрена возможность делить ресурсы между несколькими клиентами.  Этот шаблон подходит для более сложных приложений, развертываемых на меньшем числе клиентов.  Для автономных развертываний приложение для каждого клиента можно настроить проще, чем в других шаблонах.  

См. [руководства][docs-tutorials-for-wingtip-sa] и код на GitHub  [.../Microsoft/WingtipTicketsSaaS-StandaloneApp][github-code-for-wingtip-sa].

## <a name="database-per-tenant-pattern"></a>Шаблон с однотенантной базой данных

Шаблон с однотенантной базой данных эффективен для поставщиков услуг, которым требуется изолированный клиент и централизованная служба, обеспечивающая рентабельное использование общих ресурсов. База данных создается для каждой локации или клиента. Все базы данных управляются централизованно. Базы данных могут размещаться в эластичных пулах, чтобы обеспечить рентабельное и простое управление производительностью, а также обработку непрогнозируемой рабочей нагрузки клиентов. База данных каталога содержит сопоставление клиентов и их баз данных. Такое сопоставление осуществляется с помощью функций управления для карты сегментов [клиентской библиотеки эластичной базы данных](sql-database-elastic-database-client-library.md), которая обеспечивает эффективное управление подключением к приложению.

Изучите [руководства][docs-tutorials-for-wingtip-dpt] и код на сайте GitHub […/Microsoft/WingtipTicketsSaaS-DbPerTenant][github-code-for-wingtip-dpt].

## <a name="sharded-multi-tenant-database-pattern"></a>Шаблон с сегментированной мультитенантной базой данных

Мультитенантные базы данных эффективны для поставщиков услуг, которым нужно сократить расходы на каждый клиент и не требуется высокий уровень изоляции клиентов. Этот шаблон позволяет упаковать большое число клиентов в одну базу данных, снижая затраты на каждый клиент. Благодаря сегментированию клиентов в нескольких базах данных возможно почти неограниченное масштабирование. Сопоставление клиентов и баз данных содержится в базе данных каталога.  

Этот шаблон позволяет использовать *гибридную* модель, в которой можно оптимизировать затраты за счет мультитенантной базы данных или обеспечить изоляцию одного клиента в его собственной базе данных. Выбрать шаблон можно как при подготовке клиента, так и позднее. Это не повлияет на работу приложения.  Модель эффективно используется, когда группы клиентов должны обрабатываться по-разному. Например, дешевые клиенты могут назначаться общим базам данных, а клиенты класса "Премиум" — собственным базам данных. 

Изучите [руководства][docs-tutorials-for-wingtip-mt] и код на сайте GitHub […/Microsoft/WingtipTicketsSaaS-MultiTenantDb][github-code-for-wingtip-mt].

## <a name="next-steps"></a>Дополнительная информация

#### <a name="conceptual-descriptions"></a>Основные описания

- Подробное описание шаблонов аренды приложений см. в статье [Мультитенантные шаблоны клиента в базе данных SaaS][saas-tenancy-app-design-patterns-md].

#### <a name="tutorials-and-code"></a>Руководства и код

- Однотенантное автономное приложение:
    - [Руководства по автономному приложению][docs-tutorials-for-wingtip-sa].
    - [Код для автономного приложения на сайте GitHub][github-code-for-wingtip-sa].

- Однотенантная база данных
    - [Руководства по однотенантной БД][docs-tutorials-for-wingtip-dpt].
    - [Код для однотенантной базы данных на сайте GitHub][github-code-for-wingtip-dpt].

- Сегментированная мультитенантная база данных
    - [Руководства по сегментированной мультитенантной БД][docs-tutorials-for-wingtip-mt].
    - [Код для сегментированной мультитенантной базы данных на сайте GitHub][github-code-for-wingtip-mt].



<!-- Image references. -->

[image-three-tenancy-patterns]: media/saas-tenancy-welcome-wingtip-tickets-app/three-tenancy-patterns.png "Три шаблона аренды."

<!-- Docs.ms.com references. -->

[saas-tenancy-app-design-patterns-md]: saas-tenancy-app-design-patterns.md

<!-- WWWeb http references. -->

[docs-tutorials-for-wingtip-sa]: https://aka.ms/wingtipticketssaas-sa
[github-code-for-wingtip-sa]: https://github.com/Microsoft/WingtipTicketsSaaS-StandaloneApp

[docs-tutorials-for-wingtip-dpt]: https://aka.ms/wingtipticketssaas-dpt
[github-code-for-wingtip-dpt]: https://github.com/Microsoft/WingtipTicketsSaaS-DbPerTenant

[docs-tutorials-for-wingtip-mt]: https://aka.ms/wingtipticketssaas-mt
[github-code-for-wingtip-mt]: https://github.com/Microsoft/WingtipTicketsSaaS-MultiTenantDb

