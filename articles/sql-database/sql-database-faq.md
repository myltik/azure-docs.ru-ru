---
title: "Часто задаваемые вопросы о Базе данных SQL Azure | Документация Майкрософт"
description: "Ответы на распространенные вопросы, задаваемые клиентами об облачных базах данных и базе данных SQL Azure, системе управления реляционной базой данных (реляционной СУБД) Майкрософт и базе данных как услуге в облаке."
services: sql-database
documentationcenter: 
author: CarlRabeler
manager: jhubbard
editor: 
ms.assetid: 1da12abc-0646-43ba-b564-e3b049a6487f
ms.service: sql-database
ms.custom: reference
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: data-management
ms.date: 02/07/2017
ms.author: sashan;carlrab
ms.translationtype: Human Translation
ms.sourcegitcommit: 95b8c100246815f72570d898b4a5555e6196a1a0
ms.openlocfilehash: 6ed02ead07c50b9a49e8868756b6f957d7b49b99
ms.contentlocale: ru-ru
ms.lasthandoff: 05/18/2017


---
# <a name="sql-database-faq"></a>Часто задаваемые вопросы о базе данных SQL

## <a name="what-is-the-current-version-of-sql-database"></a>Какова текущая версия базы данных SQL?
Текущая версия базы данных SQL — 12. Версия 11 больше не поддерживается.

## <a name="what-is-the-sla-for-sql-database"></a>Что такое Соглашение об уровне обслуживания Azure для базы данных SQL?
Мы гарантируем клиентам подключение между автономной или эластичной базой данных SQL Microsoft Azure уровня "Базовый", "Стандартный" или "Премиум" и нашим шлюзом Интернета на протяжении не менее 99,99 % времени. См. дополнительные сведения о [Соглашении об уровне обслуживания](http://azure.microsoft.com/support/legal/sla/).

## <a name="how-do-i-reset-the-password-for-the-server-admin"></a>Как сбросить пароль администратора сервера?
На [портале Azure](https://portal.azure.com) щелкните **Серверы SQL**, выберите в списке сервер и щелкните **Сбросить пароль**.

## <a name="how-do-i-manage-databases-and-logins"></a>Как управлять базами данных и учетными данными для входа?
См. дополнительные сведения об [управлении базами данных и учетными данными для входа](sql-database-manage-logins.md).

## <a name="how-do-i-make-sure-only-authorized-ip-addresses-are-allowed-to-access-a-server"></a>Как предоставить доступ к серверу только авторизованным IP-адресам?
См. статью [Настройка правила брандмауэра уровня сервера базы данных SQL Azure с помощью портала Azure](sql-database-configure-firewall-settings.md).

## <a name="how-does-the-usage-of-sql-database-show-up-on-my-bill"></a>Как плата за использование базы данных SQL отражается в счете?
Счета за использование базы данных SQL выставляются с учетом часового тарифа в зависимости от уровня служб и уровня производительности для отдельных баз данных или количества единиц eDTU на каждый пул эластичных баз данных. Фактическое использование вычисляется и распределяется пропорционально по часам, поэтому в счете могут отображаться части часа. Например, если база данных просуществует в течение 12 часов за месяц, то в счете будет показано использование базы данных в течение половины дня. Кроме того, уровни служб, уровень производительности и единицы eDTU для пула разбиваются в счете на отдельные позиции. Это упрощает вычисление количества дней использования базы данных в месяц.

## <a name="what-if-a-single-database-is-active-for-less-than-an-hour-or-uses-a-higher-service-tier-for-less-than-an-hour"></a>Что делать, если отдельная база данных активна менее часа или использует более высокий уровень службы менее часа?
Плата взимается за каждый час существования базы данных с учетом самого высокого уровня служб и уровня производительности, которые использовались в течение этого часа, даже если база данных использовалась или была активна менее часа. Например, если вы создадите отдельную базу данных и через 5 минут удалите ее, вам будет выставлен счет за 1 час использования базы данных. 

Примеры

* Если вы создадите базу данных категории «Базовый», а затем сразу обновите ее до категории «Стандартный» S1, то плата за первый час будет взиматься по ставке «Стандартный» S1.
* Если вы начинаете обновлять базу данных категории "Базовый" до категории "Премиум" в 22:00 и обновление завершается в 01:35 следующего дня, плата взимается по ставке "Премиум" начиная с 01:00. 
* Если понижение базы данных уровня "Премиум" до уровня "Базовый" начинается в 11:00 и завершается в 14:15, то плата за базу данных будет взиматься по ставке "Премиум" до 15:00, а после этого — по ставке "Базовый".

## <a name="how-does-elastic-pool-usage-show-up-on-my-bill-and-what-happens-when-i-change-edtus-per-pool"></a>Как в счете отображается использование пула эластичных баз данных и что произойдет, если изменить количество единиц eDTU для пула?
Тарификация за использование эластичного пула выражается в счете в единицах eDTU, увеличиваясь пошагово (см. столбец с числом eDTU на пул на [странице цен](https://azure.microsoft.com/pricing/details/sql-database/)). Плата за пул эластичных баз данных не зависит от количества баз данных. Вы платите за каждый час существования пула с максимальным количеством единиц eDTU. Использование или активность пула менее одного часа оплачивается как один час. 

Примеры

* Если вы создадите пул эластичных баз данных уровня "Стандартный" с 200 единицами eDTU в 11:18 и добавите в него пять баз данных, то плата будет взиматься за 200 единиц eDTU почасово, начиная с 11:00 и до конца дня.
* На второй день в 05:05 база данных 1 начинает потреблять 50 единиц eDTU, и такой уровень потребления сохраняется весь день. Потребление ресурсов базами данных 2–5 колеблется от 0 до 80 единиц eDTU. В течение дня вы добавляете еще пять баз данных, которые используют изменяющееся количество единиц eDTU. Счет выставляется за полный второй день за 200 единиц eDTU. 
* На третий день в 05:00 вы добавляете еще 15 баз данных. Использование баз данных увеличивается в течение дня, и вы принимаете решение увеличить количество единиц eDTU пула с 200 до 400 в 20:05. Оплата на уровне 200 единиц eDTU действует до 20:00, а за оставшиеся 4 часа взимается плата за 400 единиц eDTU. 

## <a name="elastic-pool-billing-and-pricing-information"></a>Информация о выставлении счетов и ценах на пул эластичных баз данных
Счета по эластичным пулам БД выставляются в соответствии со следующими характеристиками:

* Счет по эластичному пулу выставляется после его создания, даже если в нем нет баз данных.
* Оплата за эластичный пул является почасовой. Она совпадает с частотой измерения уровней производительности отдельных баз данных.
* Если размер эластичного пула изменен на новое значение eDTU, тарификация за пул согласно этому новому значению eDTU начисляется только после завершения операции по изменению размера. Используется та же схема, как при изменении уровня производительности отдельных баз данных.
* Цена пула эластичных БД основывается на количестве eDTU пула. Стоимость пула эластичных БД не зависит от числа эластичных баз данных в нем и их использования.
* Цена вычисляется по формуле: (количество eDTU пула) x (цена за единицу eDTU).

Цена за единицу eDTU для пула эластичных баз данных выше, чем цена за единицу eDTU для отдельной базы данных того же уровня служб. Подробнее об этом можно узнать в статье [Стоимость использования Базы данных SQL](https://azure.microsoft.com/pricing/details/sql-database/). 

Описание единиц eDTU и уровней служб см. в статье [Уровни служб базы данных SQL для отдельных баз данных и пулов эластичных баз данных](sql-database-service-tiers.md).

## <a name="how-does-the-use-of-active-geo-replication-in-an-elastic-pool-show-up-on-my-bill"></a>Как использование активной георепликации в эластичном пуле отражается на счете?
В отличие от отдельных баз данных, использование [активной георепликации](sql-database-geo-replication-overview.md) с эластичными базами данных не оказывает прямого влияния на выставление счетов.  Плата взимается только за единицы eDTU, выделенные для каждого пула (основного и вторичного).

## <a name="how-does-the-use-of-the-auditing-feature-impact-my-bill"></a>Как использование функции аудита влияет на мой счет?
Функция аудита встроена в службу базы данных SQL и доступна для баз данных категорий "Базовый", "Стандартный", "Премиум" и "Премиум RS". Дополнительная плата за эту функцию не взимается. Однако для хранения журналов аудита эта функция использует учетную запись хранения Azure, поэтому с вас взимается плата с учетом ставок для таблиц и очередей в хранилище Azure в зависимости от размера журнала аудита.

## <a name="how-do-i-find-the-right-service-tier-and-performance-level-for-single-databases-and-elastic-pools"></a>Как определить правильный уровень служб и уровень производительности для отдельных баз данных и пулов эластичных баз данных?
Доступно несколько средств. 

* Для локальных баз данных используйте [помощник по определению размера DTU](http://dtucalculator.azurewebsites.net/), который предложит необходимое количество баз данных и DTU, а также оценит количество баз данных для пулов эластичных баз данных.
* Если отдельную базу данных имеет смысл разместить в пуле, то интеллектуальный модуль Azure порекомендует использовать пул эластичных баз данных при обнаружении исторической схемы использования, подтверждающей это. Ознакомьтесь с разделом [Мониторинг пула эластичных баз данных и управление им на портале Azure](sql-database-elastic-pool-manage-portal.md). Сведения о том, как самостоятельно выполнить расчеты, см. в статье [Когда следует использовать пул эластичных баз данных?](sql-database-elastic-pool.md)
* Чтобы узнать, нужно ли вам увеличить или уменьшить уровень отдельной базы данных, см. [руководство по производительности для отдельных баз данных](sql-database-performance-guidance.md).

## <a name="how-often-can-i-change-the-service-tier-or-performance-level-of-a-single-database"></a>Как часто можно менять уровень служб или уровень производительности для отдельной базы данных?
Вы можете менять уровни служб ("Базовый", "Стандартный", "Премиум" и "Премиум RS") и уровни производительности в рамках уровня служб (например, S1 на S2) так часто, как требуется. Для более ранних версий баз данных уровень служб или уровень производительности можно изменить всего четыре раза в течение 24 часов.

## <a name="how-often-can-i-adjust-the-edtus-per-pool"></a>Как часто можно изменять количество eDTU для пула?
Так часто, как требуется.

## <a name="how-long-does-it-take-to-change-the-service-tier-or-performance-level-of-a-single-database-or-move-a-database-in-and-out-of-an-elastic-pool"></a>Сколько времени необходимо для изменения уровня служб или уровня производительности отдельной базы данных или для перемещения базы данных в пул эластичных баз данных или из него?
Для изменения уровня службы базы данных и перемещения ее в пул (или из него) необходимо выполнить копирование базы данных на платформе в фоновом режиме. Смена уровня служб может занять от нескольких минут до нескольких часов в зависимости от размера баз данных. В обоих случаях при перемещении базы данных доступны и остаются в сети. Дополнительные сведения об изменении отдельных баз данных см. в разделе [Изменение уровня обслуживания и уровня производительности (ценовой категории) базы данных SQL](sql-database-service-tiers.md). 

## <a name="when-should-i-use-a-single-database-vs-elastic-databases"></a>Когда нужно использовать отдельную базу данных вместо эластичных баз данных?
Пулы эластичных баз данных предназначены для типичных [схем приложений SaaS (программное обеспечение как услуга)](sql-database-design-patterns-multi-tenancy-saas-applications.md), в которых предусмотрена одна база данных на заказчика или клиент. Приобретение отдельных баз данных и избыточное выделение ресурсов, необходимых для переменных и пиковых нагрузок для каждой базы данных, часто неэффективно с экономической точки зрения. При использовании пулов вы управляете общей производительностью пула, а масштаб базы данных увеличивается или уменьшается автоматически. Интеллектуальный модуль Azure рекомендует использовать пул для баз данных при обнаружении соответствующей схемы использования. Дополнительные сведения см. в [руководстве по эластичным пулам](sql-database-elastic-pool.md).

## <a name="what-does-it-mean-to-have-up-to-200-of-your-maximum-provisioned-database-storage-for-backup-storage"></a>Что означает получить 200 % максимального подготовленного хранилища базы данных для хранилища службы архивации?
Хранилище службы архивации связано с автоматически созданными резервными копиями баз данных, которые используются для [восстановления до точки во времени](sql-database-recovery-using-backups.md#point-in-time-restore) и [геовосстановления](sql-database-recovery-using-backups.md#geo-restore). База данных SQL Microsoft Azure предоставляет до 200 % бесплатного максимального подготовленного хранилища базы данных для хранилища службы архивации. Например, если у вас есть экземпляр базы данных уровня "Стандартный" с подготовленным размером базы данных 250 ГБ, то вам будет предоставлено бесплатное хранилище службы архивации объемом 500 ГБ. Если размер базы данных превышает предоставленный объем хранилища службы архивации, можно уменьшить период хранения. Для этого вам необходимо обратиться в службу поддержки Azure или оплатить дополнительный объем хранилища службы архивации по стандартному тарифу для геоизбыточного хранилища с доступом на чтение (RA-GRS). Дополнительную информацию о выставлении счетов за RA-GRS см. в сведениях о ценах на хранилище.

## <a name="im-moving-from-webbusiness-to-the-new-service-tiers-what-do-i-need-to-know"></a>Я планирую перейти с уровня Web (Business) на новый уровень службы. На что мне нужно обратить внимание?
Использование баз данных SQL Azure Web и Business Edition прекращено. Уровни "Базовый", "Стандартный", "Премиум" и "Премиум RS" заменяют устаревшие рабочие и веб-базы данных. 

## <a name="what-is-an-expected-replication-lag-when-geo-replicating-a-database-between-two-regions-within-the-same-azure-geography"></a>Что такое ожидаемая задержка репликации при георепликации базы данных между двумя регионами в пределах одного географического региона Azure?
В настоящее время поддерживается целевая точка восстановления в 5 секунд, и задержка репликации еще меньше этого значения, так как получатель геореплицируемых данных размещается в рекомендованном сопряженном регионе Azure и имеет тот же уровень служб.

## <a name="what-is-an-expected-replication-lag-when-geo-secondary-is-created-in-the-same-region-as-the-primary-database"></a>Что такое ожидаемая задержка репликации при создании получателя геореплицируемых данных в том же регионе, что и база данных-источник?
Согласно эмпирическим данным задержки при репликации внутри регионов и между ними отличаются не слишком сильно, если используется рекомендованный парный регион Azure. 

## <a name="if-there-is-a-network-failure-between-two-regions-how-does-the-retry-logic-work-when-geo-replication-is-set-up"></a>Как работает логика повтора в случае сбоя сети между двумя регионами, если настроена георепликация?
В случае отключения сети каждые 10 секунд выполняется попытка установить подключение.

## <a name="what-can-i-do-to-guarantee-that-a-critical-change-on-the-primary-database-is-replicated"></a>Что можно сделать, чтобы обеспечить репликацию критически важных изменений в базе данных-источнике?
Получатель геореплицируемых данных — асинхронная реплика, и мы не пытаемся обеспечить ее полную синхронизацию с источником. Но мы предоставляем метод для принудительной синхронизации, чтобы обеспечить репликацию критически важных изменений (например, обновленных паролей). Принудительная синхронизация снизит производительность, так как будет блокировать вызывающий поток, пока все зафиксированные транзакции не будут реплицированы. Дополнительные сведения см. в статье [sp_wait_for_database_copy_sync (база данных SQL Azure)](https://msdn.microsoft.com/library/dn467644.aspx). 

## <a name="what-tools-are-available-to-monitor-the-replication-lag-between-the-primary-database-and-geo-secondary"></a>Какие инструменты доступны для отслеживания задержки репликации между базой данных-источником и получателем геореплицируемых данных?
Задержка репликации между базой данных-источником и получателем геореплицируемых данных в реальном времени отображается в динамическом административном представлении. Дополнительные сведения см. в статье [sys.dm_geo_replication_link_status (база данных SQL Azure)](https://msdn.microsoft.com/library/mt575504.aspx).

## <a name="to-move-a-database-to-a-different-server-in-the-same-subscription"></a>Перенос базы данных на другой сервер в пределах одной подписки
* На [портале Azure](https://portal.azure.com) щелкните **Базы данных SQL**, выберите базу данных из списка и щелкните **Копировать**. Дополнительные сведения см. в статье [Копирование базы данных SQL Azure](sql-database-copy.md).

## <a name="to-move-a-database-between-subscriptions"></a>Перенос базы данных из одной подписки в другую
* На [портале Azure](https://portal.azure.com)щелкните **Серверы SQL Server** и выберите из списка сервер, на котором размещена ваша база данных. Щелкните **Перенести**и выберите ресурсы, которые нужно перенести, а также подписку, в которую их нужно переместить.

