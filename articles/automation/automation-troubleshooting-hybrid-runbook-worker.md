---
title: Устранение неполадок гибридной рабочей роли Runbook в службе автоматизации Azure
description: Описываются симптомы, причины и решение наиболее распространенных проблем гибридной рабочей роли Runbook в службе автоматизации Azure.
services: automation
ms.service: automation
ms.component: process-automation
author: georgewallace
ms.author: gwallace
ms.date: 04/17/2018
ms.topic: conceptual
manager: carmonm
ms.openlocfilehash: 7fe0662d8bf3b52c0de94dbc70126eb813883402
ms.sourcegitcommit: eb75f177fc59d90b1b667afcfe64ac51936e2638
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/16/2018
ms.locfileid: "34192624"
---
# <a name="troubleshooting-tips-for-hybrid-runbook-worker"></a>Советы по устранению неполадок гибридной рабочей роли Runbook

Эта статья содержит справку по распространенным ошибкам, которые могут возникнуть в работе гибридной рабочей роли Runbook, и предлагает возможные решения для их устранения.

## <a name="a-runbook-job-terminates-with-a-status-of-suspended"></a>Задание Runbook завершается с состоянием "Приостановлено"

Модуль Runbook приостанавливается сразу после третьей попытки выполнения. Определенные условия могут помешать успешному выполнению модуля Runbook, а в сообщении об ошибке не содержится никаких дополнительных сведений, позволяющих определить причину. В этой статье описываются действия по устранению проблем, связанных со сбоями выполнения гибридной рабочей роли Runbook.

Если в этой статье нет решения вашей проблемы с Azure, посетите форумы по Azure [на сайтах MSDN и Stack Overflow](https://azure.microsoft.com/support/forums/). Проблему можно разместить на этих форумах или отправить по адресу [@AzureSupport в Twitter](https://twitter.com/AzureSupport). Кроме того, можно отправить запрос в службу поддержки Azure, выбрав **Получить поддержку** на сайте [службы поддержки Azure](https://azure.microsoft.com/support/options/) .

### <a name="symptom"></a>Симптом

Происходит сбой выполнения модуля Runbook с ошибкой: "Действие задания "Активировать" не может быть выполнено из-за непредвиденной остановки процесса. Количество предпринятых попыток выполнить действие задания: три".

Ошибка могла возникнуть по нескольким причинам

1. Гибридная рабочая роль находится за прокси-сервером или брандмауэром.
2. Модули Runbook не могут выполнить аутентификацию с помощью локальных ресурсов.

#### <a name="cause-1-hybrid-runbook-worker-is-behind-proxy-or-firewall"></a>Причина 1. Гибридная рабочая роль Runbook находится за прокси-сервером или брандмауэром

Компьютер, на котором выполняется гибридная рабочая роль Runbook, находится за брандмауэром или прокси-сервером. Возможно, из-за этого исходящий сетевой доступ не разрешен или не настроен правильно.

#### <a name="solution"></a>Решение

Проверьте, имеет ли компьютер исходящий доступ к *.azure-automation.net на порту 443.

#### <a name="cause-2-computer-has-less-than-minimum-hardware-requirements"></a>Причина 2. Компьютер не соответствует минимальным требованиям к оборудованию

Прежде чем назначать компьютеры, на которых будет выполняться гибридная рабочая роль Runbook, необходимо выполнить на них соответствующие минимальные требования к оборудованию. Иначе в зависимости от использования ресурсов других фоновых процессов и возникновения конфликтов, вызванных модулями runbook во время выполнения, компьютер становится чрезмерно загруженным. Из-за этого при выполнении задания runbook возникают задержки и простои.

#### <a name="solution"></a>Решение

Сначала убедитесь, что компьютер, которому назначено выполнение гибридной рабочей роли Runbook, соответствует минимальным требованиям к оборудованию. Если требования выполнены, отследите использование ЦП и памяти, чтобы определить корреляцию между производительностью процессов гибридной рабочей роли Runbook и Windows. Если есть нагрузка на память или ЦП, возможно, необходимо обновить или добавить дополнительные процессоры либо увеличить объем памяти, чтобы устранить ошибку и проблему нехватки ресурсов. Как вариант, выберите другой вычислительный ресурс, который соответствует минимальным требованиям и масштабируется в соответствии с требованиями рабочей нагрузки.

#### <a name="cause-3-runbooks-cannot-authenticate-with-local-resources"></a>Причина 3. Модули Runbook не могут выполнить аутентификацию с помощью локальных ресурсов

#### <a name="solution"></a>Решение

Проверьте журнал событий **Microsoft-SMA** на наличие соответствующего события с описанием *Процесс Win32 завершен с кодом [4294967295]*. Эта ошибка возникла из-за того, что аутентификация в модулях Runbook еще не настроена или для группы гибридных рабочих ролей указаны учетные данные запуска от имени. Просмотрите [разрешения для модулей Runbook](automation-hrw-run-runbooks.md#runbook-permissions), чтобы убедиться, что аутентификация для этих модулей настроена правильно.

## <a name="next-steps"></a>Дополнительная информация

Дополнительную информацию об устранении других неполадок в службе автоматизации см. в разделе [Советы по устранению распространенных ошибок в работе службе автоматизации Azure](automation-troubleshooting-automation-errors.md).