---
title: Соединитель webhook для Azure Logic Apps | Документация Майкрософт
description: Использование действий и триггеров webhook для выполнения таких операций, как фильтрация массива, из приложений логики.
services: logic-apps
author: jeffhollan
manager: jeconnoc
editor: ''
documentationcenter: ''
tags: connectors
ms.assetid: 71775384-6c3a-482c-a484-6624cbe4fcc7
ms.service: logic-apps
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/21/2016
ms.author: jehollan; LADocs
ms.openlocfilehash: 647dcebdd8d66ca49e14b51633e6a4a3ce6cb32b
ms.sourcegitcommit: 6f6d073930203ec977f5c283358a19a2f39872af
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/11/2018
ms.locfileid: "35296566"
---
# <a name="get-started-with-the-webhook-connector"></a>Приступая к работе с соединителем webhook

С помощью действия и триггера webhook вы можете активировать, приостанавливать и возобновлять последовательности для осуществления следующих задач.

* Активация триггера из [концентратора событий Azure](https://github.com/logicappsio/EventHubAPI) при получении элемента.
* Ожидание утверждения, прежде чем продолжить рабочий процесс.

Узнайте больше о том, [как создавать настраиваемые API, поддерживающие webhook](../logic-apps/logic-apps-create-api-app.md).

## <a name="use-the-webhook-trigger"></a>Использование триггера webhook

[*Триггер*](connectors-overview.md) — это событие, которое запускает рабочий процесс приложения логики. Триггер webhook основан на событии и не зависит от опроса для выявления новых элементов. Как и [триггер запроса](connectors-native-reqres.md), приложение логики срабатывает сразу же при возникновении события. Триггер webhook регистрирует *URL-адрес обратного вызова* в службе и использует этот URL-адрес для запуска приложения логики при необходимости.

Ниже приведен пример настройки триггера HTTP в конструкторе приложений логики. Предполагается, что вы уже выполнили развертывание или обращаетесь к API, который соответствует [шаблону подписки и отмены подписки webhook в приложениях логики](../logic-apps/logic-apps-create-api-app.md#webhook-triggers). Вызов подписки осуществляется при каждом сохранении приложения логики с новым объектом webhook или при переходе из отключенного состояния во включенное. Вызов отмены подписки осуществляется при каждом удалении и сохранении триггера webhook или при переходе из включенного состояния в отключенное.

**Добавление триггера webhook**

1. Сначала добавьте триггер **HTTP Webhook** в приложение логики.
2. Заполните параметры для вызовов подписки и отмены подписки webhook.

   Используйте тот же формат, что и для [действия HTTP](connectors-native-http.md).

     ![Триггер HTTP](./media/connectors-native-webhook/using-trigger.png)

3. Добавьте хотя бы одно действие.
4. Щелкните **Сохранить**, чтобы опубликовать приложение логики. Это вызовет конечную точку подписки с URL-адресом обратного вызова, необходимым для запуска этого приложения логики.
5. Каждый раз, когда служба выполняет запрос `HTTP POST` по URL-адресу обратного вызова, срабатывает приложение логики и добавляются все данные, передаваемые в запросе.

## <a name="use-the-webhook-action"></a>Использование действия webhook

[*Действие*](connectors-overview.md) — это операция, выполняемая рабочим процессом, определенным в приложении логики. Действие webhook регистрирует в службе *URL-адрес обратного вызова* и дожидается вызова URL-адреса, прежде чем возобновить операцию. [Send Approval Email](connectors-create-api-office365-outlook.md) — это пример соединителя, который соответствует данному шаблону. С помощью действия webhook этот шаблон можно расширить в любую службу. 

Ниже приведен пример настройки действия webhook в конструкторе приложений логики. Предполагается, что вы уже выполнили развертывание или обращаетесь к API, который соответствует [шаблону подписки и отмены подписки webhook, используемому в приложениях логики](../logic-apps/logic-apps-create-api-app.md#webhook-actions). Вызов подписки осуществляется каждый раз, когда приложение логики выполняет действие webhook. Вызов отмены подписки осуществляется каждый раз, когда выполнение отменяется из-за ожидания ответа, или до истечения времени ожидания выполнения приложения логики.

**Добавление действия webhook**

1. Выберите **Новый шаг** > **Добавить действие**.

2. В поле поиска введите "webhook", чтобы найти действие **HTTP Webhook**.

    ![Выбор действия запроса](./media/connectors-native-webhook/using-action-1.png)

3. Заполните параметры для вызовов подписки и отмены подписки webhook.

   Используйте тот же формат, что и для [действия HTTP](connectors-native-http.md).

     ![Завершение действия запроса](./media/connectors-native-webhook/using-action-2.png)
   
   Во время выполнения после перехода к этому шагу приложение логики вызывает конечную точку подписки.

4. Щелкните **Сохранить**, чтобы опубликовать приложение логики.

## <a name="technical-details"></a>Технические сведения

Ниже приведены дополнительные сведения о триггерах и действиях, которые поддерживает webhook.

## <a name="webhook-triggers"></a>Триггеры webhook

| Действие | ОПИСАНИЕ |
| --- | --- |
| HTTP Webhook |Регистрация URL-адреса обратного вызова в службе, которая может вызывать URL-адрес для запуска приложения логики, когда это необходимо. |

### <a name="trigger-details"></a>Сведения о триггере

#### <a name="http-webhook"></a>HTTP Webhook

Регистрация URL-адреса обратного вызова в службе, которая может вызывать URL-адрес для запуска приложения логики, когда это необходимо.
Знак "*" обозначает обязательное поле.

| Отображаемое имя | Имя свойства | ОПИСАНИЕ |
| --- | --- | --- |
| Подписка: метод* |метод |Метод HTTP, используемый для запроса подписки. |
| Подписка: URI* |uri |URI HTTP, используемый для запроса подписки. |
| Отмена подписки: метод* |метод |Метод HTTP, используемый для запроса отмены подписки. |
| Отмена подписки: URI* |uri |URI HTTP, используемый для запроса отмены подписки. |
| Подписка: текст |текст |Основной текст HTTP-запроса подписки. |
| Подписка: заголовки |Заголовки |Заголовки HTTP-запроса подписки. |
| Подписка: проверка подлинности |authentication |Аутентификация HTTP, используемая для подписки. Дополнительные сведения см. в [статье, посвященной соединителю HTTP](connectors-native-http.md#authentication). |
| Отмена подписки: текст |текст |Основной текст HTTP-запроса отмены подписки. |
| Отмена подписки: заголовки |Заголовки |Заголовки HTTP-запроса отмены подписки. |
| Отмена подписки: проверка подлинности |authentication |Аутентификация HTTP, используемая для отмены подписки. Дополнительные сведения см. в [статье, посвященной соединителю HTTP](connectors-native-http.md#authentication). |

**Сведения о выходных данных**

Запрос webhook

| Имя свойства | Тип данных | ОПИСАНИЕ |
| --- | --- | --- |
| Заголовки |object |Заголовки запроса webhook. |
| Текст |object |Объект запроса webhook. |
| Код состояния |int |Код состояния запроса webhook. |

## <a name="webhook-actions"></a>Действия webhook

| Действие | ОПИСАНИЕ |
| --- | --- |
| HTTP Webhook |Регистрация URL-адреса обратного вызова в службе, которая может вызывать URL-адрес для возобновления шага рабочего процесса, когда это необходимо. |

### <a name="action-details"></a>Сведения о действиях

#### <a name="http-webhook"></a>HTTP Webhook

Регистрация URL-адреса обратного вызова в службе, которая может вызывать URL-адрес для возобновления шага рабочего процесса, когда это необходимо.
Знак "*" обозначает обязательное поле.

| Отображаемое имя | Имя свойства | ОПИСАНИЕ |
| --- | --- | --- |
| Подписка: метод* |метод |Метод HTTP, используемый для запроса подписки. |
| Подписка: URI* |uri |URI HTTP, используемый для запроса подписки. |
| Отмена подписки: метод* |метод |Метод HTTP, используемый для запроса отмены подписки. |
| Отмена подписки: URI* |uri |URI HTTP, используемый для запроса отмены подписки. |
| Подписка: текст |текст |Основной текст HTTP-запроса подписки. |
| Подписка: заголовки |Заголовки |Заголовки HTTP-запроса подписки. |
| Подписка: проверка подлинности |authentication |Аутентификация HTTP, используемая для подписки. Дополнительные сведения см. в [статье, посвященной соединителю HTTP](connectors-native-http.md#authentication). |
| Отмена подписки: текст |текст |Основной текст HTTP-запроса отмены подписки. |
| Отмена подписки: заголовки |Заголовки |Заголовки HTTP-запроса отмены подписки. |
| Отмена подписки: проверка подлинности |authentication |Аутентификация HTTP, используемая для отмены подписки. Дополнительные сведения см. в [статье, посвященной соединителю HTTP](connectors-native-http.md#authentication). |

**Сведения о выходных данных**

Запрос webhook

| Имя свойства | Тип данных | ОПИСАНИЕ |
| --- | --- | --- |
| Заголовки |object |Заголовки запроса webhook. |
| Текст |object |Объект запроса webhook. |
| Код состояния |int |Код состояния запроса webhook. |

## <a name="next-steps"></a>Дополнительная информация

* [Создайте приложение логики](../logic-apps/quickstart-create-first-logic-app-workflow.md)
* [Список соединителей](apis-list.md)