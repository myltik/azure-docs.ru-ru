---
title: 'Интерфейс командной строки Azure Service Fabric : sfctl replica | Документация Майкрософт'
description: Описание команд sfctl replica интерфейса командной строки Azure Service Fabric.
services: service-fabric
documentationcenter: na
author: rwike77
manager: timlt
editor: ''
ms.assetid: ''
ms.service: service-fabric
ms.devlang: cli
ms.topic: reference
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 12/22/2017
ms.author: ryanwi
ms.openlocfilehash: ba67a2a20d3f3e8e9fbccb2674cea500bfbde3fb
ms.sourcegitcommit: 59914a06e1f337399e4db3c6f3bc15c573079832
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/20/2018
---
# <a name="sfctl-replica"></a>sfctl replica
Управление репликами, принадлежащими секциям службы.

## <a name="commands"></a>Команды

|Get-Help|ОПИСАНИЕ|
| --- | --- |
|    deployed  | Возвращает сведения о реплике, развернутой на узле Service Fabric.|
|    deployed-list| Возвращает сведения о репликах, развернутых на узле Service Fabric.|
|    health    | Возвращает сведения о работоспособности реплики службы с отслеживанием состояния или экземпляра службы без отслеживания состояния Service Fabric.|
|    info      | Возвращает сведения реплике секции Service Fabric.|
|    list      | Возвращает сведения репликах секции службы Service Fabric.|
|    remove    | Удаляет реплику службы, работающую на узле.|
|    report-health| Отправляет отчет о работоспособности реплики Service Fabric.|
|    restart   | Перезапускает реплику сохраненной службы, работающую на узле.|


## <a name="sfctl-replica-deployed"></a>sfctl replica deployed
Возвращает сведения о реплике, развернутой на узле Service Fabric.

Возвращает сведения о реплике, которая развернута на узле Service Fabric. Это сведения включают в себя тип службы, имя службы, текущую операцию службы, время и дату начала текущей операцию службы, идентификатор секции, идентификатор реплики или экземпляра, полученные сведения о нагрузке и другую информацию.

### <a name="arguments"></a>Аргументы

|Аргумент|ОПИСАНИЕ|
| --- | --- |
| --node-name [обязательный параметр]| Имя узла.|
| --partition-id [обязательный параметр]| Идентификатор секции.|
| --replica-id [обязательный параметр]| Идентификатор реплики.|
| --timeout -t          | Время ожидания сервера в секундах.  Значение по умолчанию: 60.|

### <a name="global-arguments"></a>Глобальные аргументы

|Аргумент|ОПИСАНИЕ|
| --- | --- |
| --debug               | Увеличение уровня детализации ведения журнала для отображения всех журналов отладки.|
| --help -h             | Отображение этого справочного сообщения и выход.|
| --output -o           | Формат выходных данных.  Допустимые значения: json, jsonc, table, tsv.  Значение по умолчанию: json.|
| --query               | Строка запроса JMESPath. Дополнительные сведения и примеры см. на сайте http://jmespath.org/.|
| --verbose             | Повышение уровня детализации ведения журнала. Используйте параметр --debug, чтобы получить полные журналы отладки.|

## <a name="sfctl-replica-health"></a>sfctl replica health
Возвращает сведения о работоспособности реплики службы с отслеживанием состояния или экземпляра службы без отслеживания состояния Service Fabric.

Возвращает сведения о работоспособности реплики Service Fabric. EventsHealthStateFilter используется для фильтрации получаемой коллекции событий работоспособности реплики на основе состояния работоспособности.

### <a name="arguments"></a>Аргументы

|Аргумент|ОПИСАНИЕ|
| --- | --- |
| --partition-id [обязательный параметр]| Идентификатор секции.|
| --replica-id [обязательный параметр]| Идентификатор реплики.|
| --events-health-state-filter| Позволяет отфильтровать коллекцию возвращаемых объектов HealthEvent на основе состояния работоспособности. Возможные значения для этого параметра — целочисленное значение одного из приведенных ниже состояний работоспособности. Возвращаются только те события, которые соответствуют заданному фильтру. Для оценки общего состояния работоспособности используются все события. Если фильтр не указан, возвращаются все записи. Значения состояния представляют собой перечисление на основе флага, поэтому значение может представлять собой сочетание этих значений, полученное с помощью битового оператора "ИЛИ". Например, если указано значение 6, то возвращаются все события со значениями HealthState "ОК" (2) и "Warning" (4). -Default — значение по умолчанию. Соответствует любому значению HealthState. Значение равно нулю. -None — фильтр, который не соответствует какому-либо значению HealthState. Используется для возвращения нуля результатов для определенной коллекции состояний. Значение равно 1. -ОК — фильтр, извлекающий входные данные с HealthState со значением "Ок". Значение равно 2. -Warning — фильтр, извлекающий входные данные с HealthState со значением "Warning". Значение равно 4. -Error — фильтр, извлекающий входные данные с HealthState со значением "Error". Значение равно 8. -All — фильтр, извлекающий входные данные с любым значением HealthState. Значение равно 65 535.|
| --timeout -t             | Время ожидания сервера в секундах.  Значение по умолчанию: 60.|

### <a name="global-arguments"></a>Глобальные аргументы

|Аргумент|ОПИСАНИЕ|
| --- | --- |
| --debug                  | Увеличение уровня детализации ведения журнала для отображения всех журналов отладки.|
| --help -h                | Отображение этого справочного сообщения и выход.|
| --output -o              | Формат выходных данных.  Допустимые значения: json, jsonc, table, tsv.  Значение по умолчанию: json.|
| --query                  | Строка запроса JMESPath. Дополнительные сведения можно найти по адресу: http://jmespath.org/.|
| --verbose                | Повышение уровня детализации ведения журнала. Используйте параметр --debug, чтобы получить полные журналы отладки.|

## <a name="sfctl-replica-info"></a>sfctl replica info
Возвращает сведения реплике секции Service Fabric.

Ответ содержит идентификатор, роль, состояние, сведения о работоспособности, имя узла, время доступности и другие сведения о реплике.

### <a name="arguments"></a>Аргументы

|Аргумент|ОПИСАНИЕ|
| --- | --- |
| --partition-id [обязательный параметр]| Идентификатор секции.|
| --replica-id [обязательный параметр]| Идентификатор реплики.|
| --continuation-token  | Параметр маркера продолжения используется для получения следующего набора результатов. Маркер продолжения с непустым значением добавляется в ответ API, когда результаты из системы не помещаются в одном ответе. Когда это значение передается в следующем вызове API, API возвращает следующий набор результатов. Если результаты отсутствуют, маркер продолжения не будет содержать значения. Значение этого параметра не должно быть указано в формате URL-адреса.|
| --timeout -t          | Время ожидания сервера в секундах.  Значение по умолчанию: 60.|

### <a name="global-arguments"></a>Глобальные аргументы

|Аргумент|ОПИСАНИЕ|
| --- | --- |
| --debug               | Увеличение уровня детализации ведения журнала для отображения всех журналов отладки.|
| --help -h             | Отображение этого справочного сообщения и выход.|
| --output -o           | Формат выходных данных.  Допустимые значения: json, jsonc, table, tsv.  Значение по умолчанию: json.|
| --query               | Строка запроса JMESPath. Дополнительные сведения можно найти по адресу: http://jmespath.org/.|
| --verbose             | Повышение уровня детализации ведения журнала. Используйте параметр --debug, чтобы получить полные журналы отладки.|

## <a name="sfctl-replica-list"></a>sfctl replica list
Возвращает сведения репликах секции службы Service Fabric.

Конечная точка GetReplicas возвращает сведения о репликах указанной секции.
Ответ содержит идентификатор, роль, состояние, сведения о работоспособности, имя узла, время доступности и другие сведения о реплике.

### <a name="arguments"></a>Аргументы

|Аргумент|ОПИСАНИЕ|
| --- | --- |
| --partition-id [обязательный параметр]| Идентификатор секции.|
| --continuation-token  | Параметр маркера продолжения используется для получения следующего набора результатов. Маркер продолжения с непустым значением добавляется в ответ API, когда результаты из системы не помещаются в одном ответе. Когда это значение передается в следующем вызове API, API возвращает следующий набор результатов. Если следующий набор результатов отсутствует, маркер продолжения не содержит значения. Значение этого параметра не должно быть указано в формате URL-адреса.|
| --timeout -t          | Время ожидания сервера в секундах.  Значение по умолчанию: 60.|

### <a name="global-arguments"></a>Глобальные аргументы

|Аргумент|ОПИСАНИЕ|
| --- | --- |
| --debug               | Увеличение уровня детализации ведения журнала для отображения всех журналов отладки.|
| --help -h             | Отображение этого справочного сообщения и выход.|
| --output -o           | Формат выходных данных.  Допустимые значения: json, jsonc, table, tsv.  Значение по умолчанию: json.|
| --query               | Строка запроса JMESPath. Дополнительные сведения и примеры см. на сайте http://jmespath.org/.|
| --verbose             | Повышение уровня детализации ведения журнала. Используйте параметр --debug, чтобы получить полные журналы отладки.|

## <a name="sfctl-replica-remove"></a>sfctl replica remove
Удаляет реплику службы, работающую на узле.

Этот API имитирует сбой реплики Service Fabric, удаляя реплику из кластера Service Fabric. При этом данная реплика закрывается и ей назначается роль "None", а затем из кластера удаляются все сведения о состоянии реплики. Этот API проверяет путь для удаления состояния реплики и имитирует сообщение о сбое постоянного пути через клиентские API. Предупреждение. При использовании этого API отсутствуют какие-либо проверки безопасности. Неправильное использование этого API может привести к потере данных служб с отслеживанием состояния. Кроме того, флаг forceRemove влияет на все реплики, размещенные в одном процессе.

### <a name="arguments"></a>Аргументы

|Аргумент|ОПИСАНИЕ|
| --- | --- |
| --node-name [обязательный параметр]| Имя узла.|
| --partition-id [обязательный параметр]| Идентификатор секции.|
| --replica-id [обязательный параметр]| Идентификатор реплики.|
| --force-remove        | Принудительное удаление приложения или службы Service Fabric без выполнения последовательности нормального завершения работы. Этот параметр можно использовать, чтобы принудительно удалить приложение или службу, срок удаления которой истек из-за проблем в коде службы, которые мешают нормальному закрытию реплик.|
| --timeout -t          | Время ожидания сервера в секундах.  Значение по умолчанию: 60.|

### <a name="global-arguments"></a>Глобальные аргументы

|Аргумент|ОПИСАНИЕ|
| --- | --- |
| --debug               | Увеличение уровня детализации ведения журнала для отображения всех журналов отладки.|
| --help -h             | Отображение этого справочного сообщения и выход.|
| --output -o           | Формат выходных данных.  Допустимые значения: json, jsonc, table, tsv.  Значение по умолчанию: json.|
| --query               | Строка запроса JMESPath. Дополнительные сведения и примеры см. на сайте http://jmespath.org/.|
| --verbose             | Повышение уровня детализации ведения журнала. Используйте параметр --debug, чтобы получить полные журналы отладки.|

## <a name="sfctl-replica-restart"></a>sfctl replica restart
Перезапускает реплику сохраненной службы, работающую на узле.

Перезапускает реплику сохраненной службы, работающую на узле. Предупреждение. При использовании этого API отсутствуют какие-либо проверки безопасности. Неправильное использование этого API может привести к потере доступности служб с отслеживанием состояния.

### <a name="arguments"></a>Аргументы

|Аргумент|ОПИСАНИЕ|
| --- | --- |
| --node-name [обязательный параметр]| Имя узла.|
| --partition-id [обязательный параметр]| Идентификатор секции.|
| --replica-id [обязательный параметр]| Идентификатор реплики.|
| --timeout -t          | Время ожидания сервера в секундах.  Значение по умолчанию: 60.|

### <a name="global-arguments"></a>Глобальные аргументы

|Аргумент|ОПИСАНИЕ|
| --- | --- |
| --debug               | Увеличение уровня детализации ведения журнала для отображения всех журналов отладки.|
| --help -h             | Отображение этого справочного сообщения и выход.|
| --output -o           | Формат выходных данных.  Допустимые значения: json, jsonc, table, tsv.  Значение по умолчанию: json.|
| --query               | Строка запроса JMESPath. Дополнительные сведения и примеры см. на сайте http://jmespath.org/.|
| --verbose             | Повышение уровня детализации ведения журнала. Используйте параметр --debug, чтобы получить полные журналы отладки.|

## <a name="next-steps"></a>Дополнительная информация
- [Настройте](service-fabric-cli.md) интерфейс командной строки Service Fabric.
- Узнайте, как использовать интерфейс командной строки Service Fabric, с помощью [примеров сценариев](/azure/service-fabric/scripts/sfctl-upgrade-application).
