---
title: Общие сведения о Service Fabric и контейнерах | Документация Майкрософт
description: Обзор Service Fabric и использования контейнеров для развертывания приложений микрослужб. В этой статье содержатся общие сведения об использовании контейнеров и возможностях, предоставляемых Service Fabric.
services: service-fabric
documentationcenter: .net
author: msfussell
manager: timlt
editor: ''
ms.assetid: c98b3fcb-c992-4dd9-b67d-2598a9bf8aab
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: conceptual
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 5/21/2018
ms.author: msfussell
ms.openlocfilehash: fe6db569c0f70362676251a9413fa859f27f5046
ms.sourcegitcommit: 266fe4c2216c0420e415d733cd3abbf94994533d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/01/2018
ms.locfileid: "34641918"
---
# <a name="service-fabric-and-containers"></a>Service Fabric и контейнеры

## <a name="introduction"></a>Введение
Azure Service Fabric — [оркестратор](service-fabric-cluster-resource-manager-introduction.md) служб в кластере компьютеров, который многие годы используется в средах с крупномасштабными службами и оптимизируется корпорацией Майкрософт. Службы можно разрабатывать разными способами, начиная от использования [моделей программирования Service Fabric](service-fabric-choose-framework.md) и заканчивая развертыванием [гостевых исполняемых файлов](service-fabric-guest-executables-introduction.md). По умолчанию Service Fabric развертывает и активирует эти службы как процессы. Процессы обеспечивают самую быструю активацию и максимальную плотность использования ресурсов в кластере. Service Fabric также позволяет развертывать службы в образах контейнеров. Главное, что вы можете объединять эти два подхода, используя в одном приложении службы с процессами и контейнерами.   

## <a name="what-are-containers"></a>Что такое контейнеры
Контейнеры — это инкапсулированные компоненты, которые развертываются по отдельности и выполняются как изолированные экземпляры на одном ядре, используя возможности виртуализации на уровне операционной системы. Таким образом, приложение и его среда выполнения, зависимости и системные библиотеки выполняются внутри контейнера, который предоставляет полный закрытый доступ к собственному изолированному представлению конструкций операционной системы. Наряду с переносимостью такая степень безопасности и изоляции ресурсов — основное преимущество использования в Service Fabric контейнеров вместо выполнения служб в процессах.

Контейнеры — это технология виртуализации, которая виртуализирует базовую операционную систему в приложениях. Контейнеры используются в качестве неизменяемой среды для запуска приложений с различной степенью изоляции. Они запускаются непосредственно поверх ядра и предоставляют изолированное представление файловой системы и других ресурсов. По сравнению с виртуальными машинами использование контейнеров связано со следующими преимуществами.

* **Небольшой размер.** Контейнеры используют единое дисковое пространство, версию уровней и обновления для повышения эффективности.
* **Быстрота.** Контейнерам не нужно загружать всю операционную систему, так что они запускаются значительно быстрее, — обычно через несколько секунд.
* **Переносимость.** Образ контейнерного приложения можно перенести и запустить в облачной или локальной среде, на виртуальных машинах или непосредственно на физических компьютерах.
* **Возможность управления ресурсами.** Можно ограничивать физические ресурсы, которые контейнер может использовать на узле.

## <a name="container-types-and-supported-environments"></a>Типы контейнеров и поддерживаемые среды
Service Fabric поддерживает контейнеры как в Windows, так и в Linux. В Windows он также поддерживает режим изоляции Hyper-V. 

### <a name="docker-containers-on-linux"></a>Контейнеры Docker в Linux
Docker предоставляет API-интерфейсы высокого уровня для создания контейнеров и управления ими поверх контейнеров из ядер Linux. Docker Hub — это центральный репозиторий для хранения и извлечения образов контейнеров.
Руководство см. в статье [Развертывание контейнера Docker в Service Fabric](service-fabric-get-started-containers-linux.md).

### <a name="windows-server-containers"></a>Контейнеры Windows Server
Windows Server 2016 поддерживает два типа контейнеров, которые отличаются уровнем изоляции. Как и в контейнерах Docker, в контейнерах Windows Server предусмотрена изоляция пространства имен и файловой системы. Но эти контейнеры совместно используют ядро и узел, на котором выполняются. В Linux эта изоляция обычно обеспечивается с помощью `cgroups` и `namespaces`. У контейнеров Windows Server все аналогично.

Контейнеры Windows с поддержкой Hyper-V обеспечивают более высокую степень изоляции и безопасности, так как каждый контейнер не использует ядро операционной системы совместно с другими контейнерами или узлом. Благодаря высокому уровню изоляции и безопасности контейнеры с поддержкой Hyper-V предназначены для неблагоприятных мультитенантных сред.
Дополнительные сведения см. в статье [Развертывание контейнера Windows в Service Fabric](service-fabric-get-started-containers.md).

На рисунке ниже показаны доступные в операционной системе уровни изоляции и виртуализации разных типов.
![Платформа Service Fabric][Image1]

## <a name="scenarios-for-using-containers"></a>Сценарии использования контейнеров
Ниже представлены распространенные примеры использования контейнеров.

* **Быстрая загрузка и удаление IIS.** Если у вас есть приложения [ASP.NET MVC](https://www.asp.net/mvc), которые вы планируете использовать дальше, поместите их в контейнер вместо перемещения в ASP.NET Core. Эти приложения ASP.NET MVC зависят от служб Internet Information Services (IIS). Приложения можно упаковать в образ контейнера из предварительно созданного образа IIS и развернуть с помощью Service Fabric. Дополнительные сведения о контейнерах Windows см. в статье [Образы контейнеров в Windows Server](https://docs.microsoft.com/virtualization/windowscontainers/quick-start/quick-start-windows-server).
* **Комбинирование контейнеры и микрослужбы Service Fabric.** Используйте существующий образ контейнера для части приложения. Например, можно использовать [контейнер NGINX](https://hub.docker.com/_/nginx/) для веб-интерфейса приложения и службы с отслеживанием состояния для ресурсоемких вычислений серверной части.
* **Сокращение влияния "шумных соседей".** Возможности управления, предоставляемые контейнерами, можно использовать для ограничения ресурсов, используемых службой на узле. Службы, которые используют много ресурсов и таким образом влияют на производительность других служб (например, выполняют длительные запросы), рекомендуется поместить в контейнеры с возможностью управления ресурсами.

## <a name="service-fabric-support-for-containers"></a>Поддержка Service Fabric для контейнеров
Service Fabric поддерживает развертывание контейнеров Docker в Linux и контейнеров Windows Server в Windows Server 2016, а также режим изоляции Hyper-V. 

В [модели приложения](service-fabric-application-model.md)Service Fabric контейнер представляет собой узел приложения, в котором размещается несколько реплик службы. Service Fabric может запускать все контейнеры, и сценарий аналогичен [сценарию с готовым исполняемым файлом](service-fabric-guest-executables-introduction.md), где вы упаковываете имеющееся приложение внутри контейнера. Этот сценарий является распространенным вариантом применения контейнеров, примеры включают выполнение приложения, написанного с использованием любого языка или платформы, но не использующего встроенные модели программирования Service Fabric.

Кроме того, [внутри контейнеров можно выполнять службы Service Fabric](service-fabric-services-inside-containers.md). Эта функция в настоящее время ограничена, но будет улучшена в будущих выпусках.

В Service Fabric контейнеры можно использовать для создания приложений, состоящих из контейнерных микрослужб. Service Fabric предлагает следующие возможности для контейнерных служб:

* развертывание и активация образа контейнера;
* управление ресурсами, в том числе настройка значений ресурсов по умолчанию для кластеров Azure;
* проверка подлинности репозитория;
* сопоставление порта контейнера с портом узла;
* межконтейнерное обнаружение и взаимодействие;
* возможность настройки и установки переменных среды.
* возможность настроить учетные данные безопасности для контейнера;
* выбор различных сетевых режимов для контейнеров.

## <a name="next-steps"></a>Дополнительная информация
В этой статье описывается использование контейнеров и службы Service Fabric как их оркестратора. Также рассмотрены функции, предоставляемые этой службой для поддержки контейнеров. Дальше можно переходить к изучению примеров использования каждой функции.

[Создание первого приложения-контейнера Service Fabric в Windows](service-fabric-get-started-containers.md)

[Создание первого приложения-контейнера Service Fabric в Linux](service-fabric-get-started-containers-linux.md)

[Дополнительные сведения о контейнерах Windows](https://docs.microsoft.com/virtualization/windowscontainers/about/)

[Image1]: media/service-fabric-containers/Service-Fabric-Types-of-Isolation.png
