---
title: Указание метрик и параметров размещения в микрослужбах Azure | Документация Майкрософт
description: Описание службы Service Fabric с указанием метрик, ограничений на размещение и других политик размещения.
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: ''
ms.assetid: 16e135c1-a00a-4c6f-9302-6651a090571a
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: conceptual
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/18/2017
ms.author: masnider
ms.openlocfilehash: 16e19a02bf12e30e81eb1743fc637bce435df914
ms.sourcegitcommit: eb75f177fc59d90b1b667afcfe64ac51936e2638
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/16/2018
ms.locfileid: "34210585"
---
# <a name="configuring-cluster-resource-manager-settings-for-service-fabric-services"></a>Настройка параметров Cluster Resource Manager для служб Service Fabric
Диспетчер кластерных ресурсов Service Fabric позволяет точно управлять правилами, регулирующими работу отдельных именованных служб. Для каждой именованной службы можно указать правила ее выделения в кластере. Для каждой именованной службы можно также определить набор метрик, о которых она должна сообщать, включая их важность для данной службы. Настройка служб делится на три задачи:

1. настройка ограничений на размещение;
2. настройка метрик;
3. настройка расширенных политик размещения и других правил (мало распространено).

## <a name="placement-constraints"></a>Ограничения на размещение
Ограничения на размещение используются, чтобы контролировать, на каких именно узлах кластера может выполняться служба. Обычно определенный экземпляр именованной службы или все службы заданного типа можно запустить только на узле определенного типа. Ограничения размещения можно расширять. Можно определить любой набор свойств для каждого типа узла, а затем выбирать их и ограничения при создании служб. Ограничения размещения службы можно также изменить, когда она запущена. Это позволяет реагировать на изменения в кластере или требованиях службы. Свойства заданного узла можно также обновлять динамически в кластере. Дополнительные сведения об ограничениях на размещение и их настройке см. в [этой статье](service-fabric-cluster-resource-manager-cluster-description.md#node-properties-and-placement-constraints).

## <a name="metrics"></a>Метрики
Метрики представляют собой набор ресурсов, которые необходимы каждой именованной службе. Конфигурация метрик службы включает в себя информацию о том, какую часть ресурса использует по умолчанию каждая реплика с отслеживанием состояния или экземпляр без отслеживания состояния этой службы. Кроме того, метрики содержат вес, который показывает, насколько важна балансировка по этой метрике для службы в случае, когда возникает необходимость компромисса.

## <a name="advanced-placement-rules"></a>Расширенные правила размещения
Существуют другие типы правил размещения, которые могут использоваться в менее распространенных сценариях. Ниже приведены некоторые примеры.
- Ограничения, которые помогают в работе с географически распределенными кластерами.
- Определенные архитектуры приложений.

Другие правила размещения настраиваются с помощью корреляций или политик.

## <a name="next-steps"></a>Дополнительная информация
- Метрики показывают, как диспетчер кластерных ресурсов Service Fabric управляет потреблением и емкостью в кластере. Чтобы узнать больше о метриках и их настройке, ознакомьтесь с [этой статьей](service-fabric-cluster-resource-manager-metrics.md).
- Сходство — один режимов, который можно настроить для служб. Этот режим редко используется; узнать о нем подробнее можно [здесь](service-fabric-cluster-resource-manager-advanced-placement-rules-affinity.md)
- Существует много различных правил размещения, которые можно настроить для службы, чтобы реализовать дополнительные сценарии. Узнать о разных политиках размещения можно [здесь](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md)
- Начните с самого начала, [изучив общие сведения о диспетчере кластерных ресурсов Service Fabric](service-fabric-cluster-resource-manager-introduction.md)
- Чтобы узнать, как диспетчер кластерных ресурсов управляет нагрузкой кластера и балансирует ее, ознакомьтесь со статьей о [балансировке нагрузки](service-fabric-cluster-resource-manager-balancing.md)
- В Cluster Resource Manager предусмотрено много параметров для описания кластера. Дополнительные сведения об этих параметрах см. в статье с [описанием кластера Service Fabric](service-fabric-cluster-resource-manager-cluster-description.md).
