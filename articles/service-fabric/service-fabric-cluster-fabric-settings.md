---
title: Изменение параметров кластера Azure Service Fabric | Документация Майкрософт
description: В этой статье описываются параметры структуры и политики обновления структур, которые можно настраивать.
services: service-fabric
documentationcenter: .net
author: aljo-microsoft
manager: timlt
editor: ''
ms.assetid: 7ced36bf-bd3f-474f-a03a-6ebdbc9677e2
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: reference
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 1/09/2018
ms.author: aljo
ms.openlocfilehash: 29afb683b579d6b59d9a8002351a57dc6e42fad0
ms.sourcegitcommit: eb75f177fc59d90b1b667afcfe64ac51936e2638
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/16/2018
---
# <a name="customize-service-fabric-cluster-settings-and-fabric-upgrade-policy"></a>Настройка параметров кластера Service Fabric и политики обновления структур
В этом документе описывается, как настроить различные параметры структуры и политику обновления структур для кластера Service Fabric. Их можно настроить на [портале Azure](https://portal.azure.com) или с помощью шаблона Azure Resource Manager.

> [!NOTE]
> Не все параметры доступны на портале. Если один из параметров, перечисленных ниже, недоступен на портале, настройте его с помощью шаблона Azure Resource Manager.
> 

## <a name="customize-cluster-settings-using-resource-manager-templates"></a>Настройка параметров кластера с помощью шаблонов Resource Manager
Ниже приведены шаги, с помощью которых можно добавить новый параметр *MaxDiskQuotaInMB* в раздел *Diagnostics*.

1. Перейдите на сайт https://resources.azure.com.
2. Перейдите к подписке, развернув **subscriptions** -> **\<Ваша подписка>** -> **resourceGroups** -> **\<Ваша группа ресурсов >** -> **providers** -> **Microsoft.ServiceFabric** -> **clusters** -> **\<Имя вашего кластера>**
3. В правом верхнем углу выберите пункт **Чтение и запись**.
4. Выберите **Изменить** и обновите элемент JSON `fabricSettings`, а затем добавьте новый элемент.

```
      {
        "name": "Diagnostics",
        "parameters": [
          {
            "name": "MaxDiskQuotaInMB",
            "value": "65536"
          }
        ]
      }
```

Ниже приведен упорядоченный по разделам список параметров Fabric, которые можно настраивать.

## <a name="applicationgatewayhttp"></a>ApplicationGateway/Http
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|ApplicationCertificateValidationPolicy|Строка, по умолчанию — L"None"|Статическое| ApplicationCertificateValidationPolicy. При заданном значении none проверка сертификата сервера отсутствует, выполнение запроса завершается успешно. ServiceCertificateThumbprints. Используйте параметр ServiceCertificateThumbprints, чтобы получить разделенный запятыми список отпечатков удаленных сертификатов, которым обратный прокси-сервер может доверять. ServiceCommonNameAndIssuer. Используйте параметр ServiceCommonNameAndIssuer, чтобы получить имя субъекта и отпечаток издателя удаленных сертификатов, которым обратный прокси-сервер может доверять. |
|BodyChunkSize |Целое число без знака, по умолчанию — 16384 |Динамический| Определяет размер блока в байтах, используемого для чтения текста. |
|CrlCheckingFlag|Целое число без знака, по умолчанию — 0x40000000 |Динамический| Флаги для проверки цепочки сертификатов приложения или службы. Например, проверки 0x10000000 CERT_CHAIN_REVOCATION_CHECK_END_CERT 0x20000000 CERT_CHAIN_REVOCATION_CHECK_CHAIN 0x40000000 CERT_CHAIN_REVOCATION_CHECK_CHAIN_EXCLUDE_ROOT 0x80000000 CERT_CHAIN_REVOCATION_CHECK_CACHE_ONLY для списка отзыва сертификатов. Значение 0 задается, чтобы отключить проверку полного списка поддерживаемых значений, записываемых с помощью значения dwFlags параметра CertGetCertificateChain, в списке отзыва сертификатов. Подробные сведения см. здесь: http://msdn.microsoft.com/library/windows/desktop/aa376078(v=vs.85).aspx.  |
|DefaultHttpRequestTimeout |Время в секундах, Значение по умолчанию — 120. |Динамический|Временной диапазон в секундах.  Определяет время ожидания запроса по умолчанию для HTTP-запросов, обрабатываемых в HTTP-шлюзе приложения. |
|ForwardClientCertificate|Логическое значение, по умолчанию — false|Динамический| |
|GatewayAuthCredentialType |Строка, значение по умолчанию — "None" |Статическое| Указывает тип учетных данных, используемых для безопасного доступа к конечной точке HTTP-шлюза приложения. Допустимое значение: None/X509. |
|GatewayX509CertificateFindType |Строка, значение по умолчанию — "FindByThumbprint" |Динамический| Указывает, как найти сертификат в хранилище с использованием поддерживаемых значений параметра GatewayX509CertificateStoreName (FindByThumbprint, FindBySubjectName). |
|GatewayX509CertificateFindValue | Строка, значение по умолчанию — "" |Динамический| Значение фильтра поиска, используемое для поиска сертификата HTTP-шлюза приложения. Этот сертификат настроен в конечной точке HTTPS, и при необходимости может также использоваться для проверки удостоверения приложения в службах. Сначала выполняется поиск параметра FindValue, а если он отсутствует, — FindValueSecondary. |
|GatewayX509CertificateFindValueSecondary | Строка, значение по умолчанию — "" |Динамический|Значение фильтра поиска, используемое для поиска сертификата HTTP-шлюза приложения. Этот сертификат настроен в конечной точке HTTPS, и при необходимости может также использоваться для проверки удостоверения приложения в службах. Сначала выполняется поиск параметра FindValue, а если он отсутствует, — FindValueSecondary.|
|GatewayX509CertificateStoreName |Строка, значение по умолчанию — "My" |Динамический| Имя хранилища сертификатов X.509, в котором содержится сертификат HTTP-шлюза приложения. |
|HttpRequestConnectTimeout|Интервал времени, по умолчанию — Common::TimeSpan::FromSeconds(5)|Динамический|Временной диапазон в секундах.  Определяет время ожидания подключения для HTTP-запросов, отправленных из HTTP-шлюза приложения.  |
|IgnoreCrlOfflineError|Логическое значение, по умолчанию — true|Динамический|Указывает, следует ли игнорировать автономные ошибки списка отзыва сертификатов при проверке сертификата службы или приложения. |
|IsEnabled |Логическое значение, по умолчанию — false |Статическое| Включает или отключает HTTP-шлюз приложения. По умолчанию HTTP-шлюз приложения отключен. Этот параметр позволяет включить его. |
|NumberOfParallelOperations | Целое число без знака, по умолчанию — 5000. |Статическое|Число операций чтения для размещения в очереди HTTP-сервера. Это определяет количество параллельных запросов, обрабатываемых HTTP-шлюзом. |
|RemoveServiceResponseHeaders|Строка, по умолчанию — L"Date; Server"|Статическое|Разделенный запятой или точкой с запятой список заголовков ответов, которые будут исключены из ответа службы перед непосредственным перенаправлением клиенту. Если для этого параметра задана пустая строка, передайте все заголовки, возвращенные службой, как есть. Например, Не перезаписывайте значения даты и сервера. |
|ResolveServiceBackoffInterval |Время в секундах, по умолчанию — 5 |Динамический|Временной диапазон в секундах.  Определяет интервал отхода по умолчанию перед повторным выполнением служебной операции разрешения, завершившейся сбоем. |
|SecureOnlyMode|Логическое значение, по умолчанию — false|Динамический| SecureOnlyMode. При заданном значении true переадресация обратным прокси-сервером выполняется на службы, которые публикуют безопасные конечные точки. При заданном значении false обратный прокси-сервер может переадресовывать запросы к защищенным и незащищенным конечным точкам.  |
|ServiceCertificateThumbprints|Строка, значение по умолчанию — L""|Динамический| |

## <a name="applicationgatewayhttpservicecommonnameandissuer"></a>ApplicationGateway/Http/ServiceCommonNameAndIssuer
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|PropertyGroup|X509NameMap, по умолчанию — None|Динамический|  |

## <a name="clustermanager"></a>ClusterManager
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|EnableDefaultServicesUpgrade | Логическое значение, по умолчанию — false |Динамический|Включает обновление служб по умолчанию во время обновления приложения. После обновления описания служб по умолчанию будут перезаписаны. |
|FabricUpgradeHealthCheckInterval |Время в секундах, по умолчанию — 60. |Динамический|Частота проверок работоспособности во время обновления наблюдаемой структуры. |
|FabricUpgradeStatusPollInterval |Время в секундах, по умолчанию — 60. |Динамический|Частота опроса состояния обновления структуры. Это значение определяет частоту обновления любого вызова GetFabricUpgradeProgress. |
|ImageBuilderTimeoutBuffer |Время в секундах, по умолчанию — 3 |Динамический|Временной диапазон в секундах. Промежуток времени для возвращения клиенту ошибок Image Builder, связанных с временем ожидания. Если буфер слишком мал, время ожидания клиента истекает до завершения проверки подлинности на сервере, и отправляется общая ошибка, связанная с временем ожидания. |
|InfrastructureTaskHealthCheckRetryTimeout | Время в секундах, по умолчанию — 60. |Динамический|Временной диапазон в секундах. Промежуток времени для повторного выполнения неудачных проверок работоспособности во время постобработки задачи инфраструктуры. При просмотре переданной проверки работоспособности таймер сбрасывается. |
|InfrastructureTaskHealthCheckStableDuration | Время в секундах, по умолчанию — 0|Динамический| Временной диапазон в секундах. Промежуток времени для отслеживания последовательно переданных проверок работоспособности перед успешным завершением постобработки задачи инфраструктуры. При обнаружении неудачной проверки работоспособности таймер сбрасывается. |
|InfrastructureTaskHealthCheckWaitDuration |Время в секундах, по умолчанию — 0|Динамический| Временной диапазон в секундах. Время ожидания перед началом проверок работоспособности после постобработки задачи инфраструктуры. |
|InfrastructureTaskProcessingInterval | Время в секундах, по умолчанию — 10. |Динамический|Временной диапазон в секундах. Интервал обработки, используемый задачей инфраструктуры для обработки состояния компьютера. |
|MaxCommunicationTimeout |Время в секундах, по умолчанию — 600 |Динамический|Временной диапазон в секундах. Максимальное время ожидания для внутреннего взаимодействия между диспетчером кластеров и другими системными службами (например, служба именования, диспетчер отработки отказов и т. д.). Это время ожидания должно быть меньше глобального значения MaxOperationTimeout (так как между системными компонентами каждой операции клиента может быть несколько взаимодействий). |
|MaxDataMigrationTimeout |Время в секундах, по умолчанию — 600 |Динамический|Временной диапазон в секундах. Максимальное время ожидания для операции восстановления переноса данных после обновления Fabric. |
|MaxOperationRetryDelay |Время в секундах, по умолчанию — 5|Динамический| Временной диапазон в секундах. Максимальная задержка для внутренних повторных попыток при возникновении ошибок. |
|MaxOperationTimeout |Время в секундах, по умолчанию — MaxValue |Динамический| Временной диапазон в секундах. Максимальное глобальное время ожидания для внутренней обработки операций в диспетчере кластеров. |
|MaxTimeoutRetryBuffer | Время в секундах, по умолчанию — 600 |Динамический|Временной диапазон в секундах. Максимальное время ожидания операции, если повторное выполнение из-за времени ожидания, вычисляется по следующей формуле: <Original Time out> + <MaxTimeoutRetryBuffer>. Дополнительное время ожидания добавляется с шагом в значение параметра MinOperationTimeout. |
|MinOperationTimeout | Время в секундах, по умолчанию — 60. |Динамический|Временной диапазон в секундах. Минимальное глобальное время ожидания для внутренней обработки операций в диспетчере кластеров. |
|MinReplicaSetSize |Целое число, по умолчанию — 3 |Не разрешено|Минимальный размер набора целевых реплик для диспетчера кластеров. |
|PlacementConstraints | Строка, значение по умолчанию — "" |Не разрешено|Ограничения на размещения для диспетчера кластеров. |
|QuorumLossWaitDuration |Время в секундах, по умолчанию — MaxValue |Не разрешено| Временной диапазон в секундах. Время ожидания после потери кворума для диспетчера кластеров. |
|ReplicaRestartWaitDuration |Время в секундах, по умолчанию — (60.0 * 30)|Не разрешено|Временной диапазон в секундах. Время ожидания перед повторным запуском репликации для диспетчера кластеров. |
|ReplicaSetCheckTimeoutRollbackOverride |Время в секундах, по умолчанию — 1200 |Динамический| Временной диапазон в секундах. Если для параметра ReplicaSetCheckTimeout задано максимальное значение DWORD, оно переопределяется значением этой конфигурации для отката. Значение, используемое для наката, никогда не переопределяется. |
|SkipRollbackUpdateDefaultService | Логическое значение, по умолчанию — false |Динамический|CM пропускает возврат обновленных служб по умолчанию во время отката обновления приложения. |
|StandByReplicaKeepDuration | Время в секундах, по умолчанию — (3600.0 * 2)|Не разрешено|Временной диапазон в секундах. Время хранения реплики, находящейся в режиме ожидания, для диспетчера кластеров. |
|TargetReplicaSetSize |Целое число, по умолчанию — 7 |Не разрешено|Размер набора целевых реплик для диспетчера кластеров. |
|UpgradeHealthCheckInterval |Время в секундах, по умолчанию — 60. |Динамический|Частота проверок работоспособности во время обновления наблюдаемых приложений. |
|UpgradeStatusPollInterval |Время в секундах, по умолчанию — 60. |Динамический|Частота опроса состояния обновления приложения. Это значение определяет частоту обновления любого вызова GetApplicationUpgradeProgress. |

## <a name="common"></a>Common
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|PerfMonitorInterval |Время в секундах, по умолчанию — 1 |Динамический|Временной диапазон в секундах. Интервал мониторинга производительности. Чтобы отключить мониторинг, задайте отрицательное значение или 0. |

## <a name="defragmentationemptynodedistributionpolicy"></a>DefragmentationEmptyNodeDistributionPolicy
| **Параметр** | **Допустимые значения** |**Политика обновления**| **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|PropertyGroup|KeyIntegerValueMap, по умолчанию — None|Динамический|Указывает, что при очистке узлов используется политика дефрагментации. Для заданной метрики значение 0 означает, что служба Servive Fabric должна попытаться выполнить равномерную дефрагментацию узлов в доменах обновления и сбоя, а 1 указывает только необходимость дефрагментации узлов. |

## <a name="defragmentationmetrics"></a>DefragmentationMetrics
| **Параметр** | **Допустимые значения** |**Политика обновления**| **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|PropertyGroup|KeyBoolValueMap, по умолчанию — None|Динамический|Определяет набор метрик, которые следует использовать для дефрагментации, а не балансировки нагрузки. |

## <a name="defragmentationmetricspercentornumberofemptynodestriggeringthreshold"></a>DefragmentationMetricsPercentOrNumberOfEmptyNodesTriggeringThreshold
| **Параметр** | **Допустимые значения** |**Политика обновления**| **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|PropertyGroup|KeyDoubleValueMap, по умолчанию — None|Динамический|Определяет число свободных узлов, необходимых, чтобы определить дефрагментацию кластера с помощью указания процентного отношения в диапазоне [0.0–1.0) или числа пустых узлов больше 1,0. |

## <a name="diagnostics"></a>Диагностика
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|AppDiagnosticStoreAccessRequiresImpersonation |Логическое значение, по умолчанию — true | Динамический |Указывает, является ли олицетворение обязательным при доступе к хранилищам диагностики от имени приложения. |
|AppEtwTraceDeletionAgeInDays |Целое число, по умолчанию — 3 | Динамический |Число дней, по истечении которого удаляются старые ETL-файлы, содержащие события трассировки событий Windows для приложения. |
|ApplicationLogsFormatVersion |Целое число, по умолчанию — 0 | Динамический |Версия формата журналов приложений. Поддерживаемые значения: 0 и 1. Версия 1 содержит больше полей из записи о событии трассировки событий Windows. |
|ClusterId |Строка | Динамический |Уникальный идентификатор кластера. Он создается при создании кластера. |
|ConsumerInstances |Строка | Динамический |Список экземпляров потребителя приложения для устройства. |
|DiskFullSafetySpaceInMB |Целое число, по умолчанию — 1024 | Динамический |Оставшееся место на диске (в МБ), недоступное для использования приложением для устройства (DCA). |
|EnableCircularTraceSession |Логическое значение, по умолчанию — false | Статическое |Флаг, указывающий, следует ли использовать сеансы циклической трассировки. |
|EnableTelemetry |Логическое значение, по умолчанию — true | Динамический |Включает или отключает телеметрию. |
|MaxDiskQuotaInMB |Целое число, по умолчанию — 65536 | Динамический |Квота диска (в МБ) для файлов журнала Windows Fabric. |
|ProducerInstances |Строка | Динамический |Список экземпляров производителя приложения для устройства. |

## <a name="dnsservice"></a>DnsService
| **Параметр** | **Допустимые значения** |**Политика обновления**| **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|IsEnabled|Логическое значение, по умолчанию — false|Статическое| |
|InstanceCount|Целое число, по умолчанию — 1|Статическое|  |

## <a name="fabricclient"></a>FabricClient
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|ConnectionInitializationTimeout |Время в секундах, по умолчанию — 2 |Динамический|Временной диапазон в секундах. Время ожидания подключения при каждой попытке клиента подключиться к шлюзу.|
|HealthOperationTimeout |Время в секундах, по умолчанию — 120 |Динамический|Временной диапазон в секундах. Время ожидания сообщения с отчетом, отправленного диспетчеру работоспособности. |
|HealthReportRetrySendInterval |Время в секундах, по умолчанию — 30. |Динамический|Временной диапазон в секундах. Интервал, через который компонент для создания отчетов повторно отправляет накопленные отчеты о работоспособности в диспетчер работоспособности. |
|HealthReportSendInterval |Время в секундах, по умолчанию — 30. |Динамический|Временной диапазон в секундах. Интервал, через который компонент для создания отчетов отправляет накопленные отчеты о работоспособности в диспетчер работоспособности. |
|KeepAliveIntervalInSeconds |Целое число, по умолчанию — 20 |Статическое|Интервал, через который FabricClient отправляет сообщения проверки активности в шлюз. Чтобы отключить параметр keepAlive, задайте значение 0. Значение должно быть положительным. |
|MaxFileSenderThreads |Целое число без знака, по умолчанию — 10 |Статическое|Максимальное количество файлов, передаваемых в параллельном режиме. |
|NodeAddresses |Строка, значение по умолчанию — "" |Статическое|Список адресов (строк подключения) на разных узлах, которые можно использовать для взаимодействия со службой именования. Сначала клиент подключается к одному из адресов, выбранному случайным образом. Если введено несколько строк подключения и клиент не может установить подключение из-за ошибки времени ожидания или связи, он переключится на следующий адрес в списке. Сведения о семантике повторных попыток см. в разделе с адресами службы именования. |
|PartitionLocationCacheLimit |Целое число, по умолчанию — 100000 |Статическое|Количество разделов, кэшируемых для разрешения адресов служб (чтобы снять ограничения, задайте значение 0). |
|RetryBackoffInterval |Время в секундах, по умолчанию — 3 |Динамический|Временной диапазон в секундах. Интервал отхода перед повторным выполнением операции. |
|ServiceChangePollInterval |Время в секундах, по умолчанию — 120 |Динамический|Временной диапазон в секундах. Интервал перехода последовательных опросов из клиента в шлюз для обратных вызовов уведомлений об изменениях зарегистрированной службы. |

## <a name="fabrichost"></a>FabricHost
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|ActivationMaxFailureCount |Целое число, по умолчанию — 10 |Динамический|Максимальное количество повторных попыток системы выполнить активацию, при достижении которого их следует прекратить. |
|ActivationMaxRetryInterval |Время в секундах, по умолчанию — 300. |Динамический|Временной диапазон в секундах. Максимальный интервал повторных попыток активации. Для каждого повторного сбоя интервал повторных попыток вычисляется с помощью следующей формулы: Min( ActivationMaxRetryInterval; число повторных сбоев * ActivationRetryBackoffInterval). |
|ActivationRetryBackoffInterval |Время в секундах, по умолчанию — 5 |Динамический|Временной диапазон в секундах. Интервал отхода при каждом сбое активации. При каждом постоянном сбое активации система повторяет попытки активации, пока их количество не достигнет значения MaxActivationFailureCount. Интервал повтора при каждой попытке является произведением числа постоянных сбоев активации и интервала отхода активации. |
|EnableRestartManagement |Логическое значение, по умолчанию — false |Динамический|Включает перезагрузку сервера. |
|EnableServiceFabricAutomaticUpdates |Логическое значение, по умолчанию — false |Динамический|Включает автоматическое обновление Fabric через Центр обновления Windows. |
|EnableServiceFabricBaseUpgrade |Логическое значение, по умолчанию — false |Динамический|Включает базовое обновление сервера. |
|StartTimeout |Время в секундах, по умолчанию — 300. |Динамический|Временной диапазон в секундах. Время ожидания перед запуском fabricactivationmanager. |
|StopTimeout |Время в секундах, по умолчанию — 300. |Динамический|Временной диапазон в секундах. Время ожидания перед активацией, деактивацией и обновлением размещенной службы. |

## <a name="fabricnode"></a>FabricNode
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|ClientAuthX509FindType |Строка, значение по умолчанию — "FindByThumbprint" |Динамический|Указывает, как найти сертификат в хранилище с использованием поддерживаемых значений параметра ClientAuthX509StoreName (FindByThumbprint, FindBySubjectName). |
|ClientAuthX509FindValue |Строка, значение по умолчанию — "" | Динамический|Значение фильтра поиска, используемое для поиска сертификата роли администратора FabricClient по умолчанию. |
|ClientAuthX509FindValueSecondary |Строка, значение по умолчанию — "" |Динамический|Значение фильтра поиска, используемое для поиска сертификата роли администратора FabricClient по умолчанию. |
|ClientAuthX509StoreName |Строка, значение по умолчанию — "My" |Динамический|Имя хранилища сертификатов X.509, в котором содержится сертификат для роли администратора FabricClient по умолчанию. |
|ClusterX509FindType |Строка, значение по умолчанию — "FindByThumbprint" |Динамический|Указывает, как найти сертификат кластера в хранилище с использованием поддерживаемых значений параметра ClusterX509StoreName (FindByThumbprint, FindBySubjectName, FindBySubjectName). При наличии нескольких совпадений используется сертификат с самым поздним временем окончания срока действия. |
|ClusterX509FindValue |Строка, значение по умолчанию — "" |Динамический|Значение фильтра поиска, используемое для поиска сертификата кластера. |
|ClusterX509FindValueSecondary |Строка, значение по умолчанию — "" |Динамический|Значение фильтра поиска, используемое для поиска сертификата кластера. |
|ClusterX509StoreName |Строка, значение по умолчанию — "My" |Динамический|Имя хранилища сертификатов X.509, в котором содержится сертификат кластера, используемый для защиты передачи данных внутри кластера. |
|EndApplicationPortRange |Целое число, по умолчанию — 0 |Статическое|Конец диапазона портов приложения (не включая последнее значение), управляемых подсистемой размещения. Обязательный параметр, если в разделе Hosting для параметра EndpointFilteringEnabled задано значение true. |
|ServerAuthX509FindType |Строка, значение по умолчанию — "FindByThumbprint" |Динамический|Указывает, как найти сертификат сервера в хранилище с использованием поддерживаемых значений параметра ServerAuthX509StoreName (FindByThumbprint, FindBySubjectName). |
|ServerAuthX509FindValue |Строка, значение по умолчанию — "" |Динамический|Значение фильтра поиска, используемое для поиска сертификата сервера. |
|ServerAuthX509FindValueSecondary |Строка, значение по умолчанию — "" |Динамический|Значение фильтра поиска, используемое для поиска сертификата сервера. |
|ServerAuthX509StoreName |Строка, значение по умолчанию — "My" |Динамический|Имя хранилища сертификатов X.509, в котором содержится сертификат сервера для входа в службу. |
|StartApplicationPortRange |Целое число, по умолчанию — 0 |Статическое|Начало диапазона портов приложения, управляемых подсистемой размещения. Обязательный параметр, если в разделе Hosting для параметра EndpointFilteringEnabled задано значение true. |
|StateTraceInterval |Время в секундах, по умолчанию — 300. |Статическое|Временной диапазон в секундах. Интервал трассировки состояния каждого узла и вышестоящих узлов в FM и FMM. |
|UserRoleClientX509FindType |Строка, значение по умолчанию — "FindByThumbprint" |Динамический|Указывает, как найти сертификат в хранилище с использованием поддерживаемых значений параметра UserRoleClientX509StoreName (FindByThumbprint, FindBySubjectName). |
|UserRoleClientX509FindValue |Строка, значение по умолчанию — "" |Динамический|Значение фильтра поиска, используемое для поиска сертификата роли пользователя FabricClient по умолчанию. |
|UserRoleClientX509FindValueSecondary |Строка, значение по умолчанию — "" |Динамический|Значение фильтра поиска, используемое для поиска сертификата роли пользователя FabricClient по умолчанию. |
|UserRoleClientX509StoreName |Строка, значение по умолчанию — "My" |Динамический|Имя хранилища сертификатов X.509, в котором содержится сертификат роли пользователя FabricClient по умолчанию. |

## <a name="failovermanager"></a>FailoverManager
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|BuildReplicaTimeLimit|Интервал времени, по умолчанию — Common::TimeSpan::FromSeconds(3600)|Динамический|Временной диапазон в секундах. Время, выделенное для сборки реплики с отслеживанием состояния, после которой запустится отчет-предупреждение о работоспособности. |
|ClusterPauseThreshold|Целое число, по умолчанию — 1|Динамический|Если количество узлов в системе ниже этого значения, размещение, балансировка нагрузки и отработки отказа прекратятся. |
|CreateInstanceTimeLimit|Интервал времени, по умолчанию — Common::TimeSpan::FromSeconds(300)|Динамический|Временной диапазон в секундах. Время, выделенное для создания экземпляра без отслеживания состояния, после чего запустится отчет-предупреждение о работоспособности. |
|ExpectedClusterSize|Целое число, по умолчанию — 1|Динамический|При начальном запуске кластера диспетчер отработки отказов подождет, пока не будет сообщено о таком числе узлов, а затем начнет размещать другие службы, включая системные, например службы именования. При увеличении этого значения увеличивается время, необходимое для запуска кластера, но при этом не допускается перегрузка узлов, которые первыми начали работу, а также дополнительные перемещения, необходимые при переходе большего количества узлов в оперативный режим. Обычно в этом значении задается небольшая часть исходного размера кластера. |
|ExpectedNodeDeactivationDuration|Интервал времени, по умолчанию — Common::TimeSpan::FromSeconds(60,0 * 30)|Динамический|Временной диапазон в секундах. Ожидаемая длительность завершения деактивации на узле. |
|ExpectedNodeFabricUpgradeDuration|Интервал времени, по умолчанию — Common::TimeSpan::FromSeconds(60,0 * 30)|Динамический|Временной диапазон в секундах. Ожидаемая длительность обновления узла во время обновления Windows Fabric. |
|ExpectedReplicaUpgradeDuration|Интервал времени, по умолчанию — Common::TimeSpan::FromSeconds(60,0 * 30)|Динамический|Временной диапазон в секундах. Ожидаемая длительность обновления всех реплик на узле во время обновления приложения. |
|IsSingletonReplicaMoveAllowedDuringUpgrade|Логическое значение, по умолчанию — true|Динамический|Если задано значение true, для реплик с целевым размером набора реплик 1 во время обновления будет разрешено перемещение. |
|MinReplicaSetSize|Целое число, по умолчанию — 3|Не разрешено|Это минимальный размер набора реплик для диспетчера отработки отказов. Если количество активных реплик диспетчера отработки отказов становится ниже этого значения, диспетчер отработки отказов отклонит изменения кластера, пока не будет восстановлено по крайней мере минимальное число реплик. |
|PlacementConstraints|Строка, значение по умолчанию — L""|Не разрешено|Любые ограничения размещения для реплик диспетчера отработки отказа. |
|PlacementTimeLimit|Интервал времени, по умолчанию — Common::TimeSpan::FromSeconds(600)|Динамический|Временной диапазон в секундах. Время, выделенное для достижения целевого количества реплик, после чего запустится отчет-предупреждение о работоспособности. |
|QuorumLossWaitDuration |Время в секундах, по умолчанию — MaxValue |Динамический|Временной диапазон в секундах. Максимальное время, в течение которого раздел может находиться в состоянии потери кворума. Если по истечении этого времени раздел по-прежнему находится в состоянии потери кворума, запускается операция восстановления после потери кворума, а отключенные реплики рассматриваются как потерянные. Обратите внимание, что это может привести к потере данных. |
|ReconfigurationTimeLimit|Интервал времени, по умолчанию — Common::TimeSpan::FromSeconds(300)|Динамический|Временной диапазон в секундах. Время, выделенное для перенастройки, после которой запустится отчет-предупреждение о работоспособности. |
|ReplicaRestartWaitDuration|Интервал времени, по умолчанию — Common::TimeSpan::FromSeconds(60,0 * 30)|Не разрешено|Временной диапазон в секундах. Время ожидания перед повторным запуском реплики для службы диспетчера отработки отказов. |
|StandByReplicaKeepDuration|Интервал времени, по умолчанию — Common::TimeSpan::FromSeconds(3600.0 * 24 * 7)|Не разрешено|Временной диапазон в секундах. Время хранения реплики, находящейся в режиме ожидания, для службы диспетчера отработки отказов. |
|TargetReplicaSetSize|Целое число, по умолчанию — 7|Не разрешено|Это целевое количество реплик диспетчера отработки отказов, которые будет поддерживать Windows Fabric. При увеличении показателя повышается надежность данных диспетчера отработки отказов с небольшим компромиссом в производительности. |
|UserMaxStandByReplicaCount |Целое число, по умолчанию — 1 |Динамический|Максимальное количество реплик, находящихся в режиме ожидания, по умолчанию, которые система хранит для пользовательских служб. |
|UserReplicaRestartWaitDuration |Время в секундах, по умолчанию — 60.0 * 30 |Динамический|Временной диапазон в секундах. В случае сбоя материализованной реплики в течение этого времени Windows Fabric ожидает, пока реплика не восстановит работоспособность, а затем создает ей замену (для чего требуется копия состояния). |
|UserStandByReplicaKeepDuration |Время в секундах, значение по умолчанию — 3600.0 * 24 * 7 |Динамический|Временной диапазон в секундах. Если реплика не восстанавливает работоспособность за определенное время, она уже заменена. Этот таймер определяет, как долго диспетчер отработки отказов сохраняет реплику, находящуюся в режиме ожидания, до ее удаления. |

## <a name="faultanalysisservice"></a>FaultAnalysisService
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|CompletedActionKeepDurationInSeconds | Целое число, по умолчанию — 604800 |Статическое| Примерное время хранения действий, достигнувших конечного состояния. Это также зависит от параметра StoredActionCleanupIntervalInSeconds, так как в этот период выполняется только очистка. 604 800 секунд — это 7 дней. |
|DataLossCheckPollIntervalInSeconds|Целое число, по умолчанию — 5|Статическое|Это время между проверками, которые выполняет система во время ожидания потери данных. DataLossCheckWaitDurationInSeconds/this представляет собой число проверок, выполненных для определения количества потерь данных на каждую внутреннюю итерацию. |
|DataLossCheckWaitDurationInSeconds|Целое число, по умолчанию — 25|Статическое|Общее количество времени в секундах, в течение которого система будет ожидать потери данных. Используется при вызове API StartPartitionDataLossAsync(). |
|MinReplicaSetSize |Целое число, по умолчанию — 0 |Статическое|Минимальный размер набора целевых реплик для службы анализа сбоев. |
|PlacementConstraints | Строка, значение по умолчанию — ""|Статическое| Ограничения на размещения для службы анализа сбоев. |
|QuorumLossWaitDuration | Время в секундах, по умолчанию — MaxValue |Статическое|Временной диапазон в секундах. Время ожидания после потери кворума для службы анализа сбоев. |
|ReplicaDropWaitDurationInSeconds|Целое число, по умолчанию — 600|Статическое|Этот параметр используется при вызове API потери данных. С помощью этого параметра можно управлять продолжительностью ожидания удаления реплики после вызова операции удаления реплики внутри системы. |
|ReplicaRestartWaitDuration |Время в секундах, по умолчанию — 60 минут|Статическое|Временной диапазон в секундах. Время ожидания перед повторным запуском репликации для службы анализа сбоев. |
|StandByReplicaKeepDuration| Время в секундах, по умолчанию — (60*24*7) минут |Статическое|Временной диапазон в секундах. Время хранения реплики, находящейся в режиме ожидания, для службы анализа сбоев. |
|StoredActionCleanupIntervalInSeconds | Целое число, по умолчанию — 3600 |Статическое|Частота очистки хранилища. Удаляются только действия в конечном состоянии и действия, достигнувшие значения параметра CompletedActionKeepDurationInSeconds. |
|StoredChaosEventCleanupIntervalInSeconds | Целое число, по умолчанию — 3600 |Статическое|Частота проведения аудита хранилища для очистки. Если количество событий превышает 30 000, включается очистка. |
|TargetReplicaSetSize |Целое число, по умолчанию — 0 |Статическое|NOT_PLATFORM_UNIX_START. Размер набора целевых реплик для службы анализа сбоев. |

## <a name="federation"></a>Федерация
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|LeaseDuration |Время в секундах, по умолчанию — 30. |Динамический|Длительность аренды между узлом и его соседями. |
|LeaseDurationAcrossFaultDomain |Время в секундах, по умолчанию — 30. |Динамический|Длительность аренды между узлом и его соседями в доменах сбоя. |

## <a name="filestoreservice"></a>FileStoreService
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|AnonymousAccessEnabled | Логическое значение, по умолчанию — true |Статическое|Включение или отключение анонимного доступа к общим папкам службы хранилища файлов. |
|CommonName1Ntlmx509CommonName|Строка, значение по умолчанию — L""|Статическое| Общее имя сертификатов X509, используемых для создания HMAC в CommonName1NtlmPasswordSecret при использовании проверки подлинности NTLM. |
|CommonName1Ntlmx509StoreLocation|Строка, по умолчанию — L"LocalMachine"|Статическое|Расположение хранилища сертификатов X509, используемых для создания HMAC в CommonName1NtlmPasswordSecret при использовании проверки подлинности NTLM. |
|CommonName1Ntlmx509StoreName|Строка, по умолчанию — L"MY"| Статическое|Имя хранилища сертификатов X509, используемых для создания HMAC в CommonName1NtlmPasswordSecret при использовании проверки подлинности NTLM. |
|CommonName2Ntlmx509CommonName|Строка, значение по умолчанию — L""|Статическое|Общее имя сертификатов X509, используемых для создания HMAC в CommonName2NtlmPasswordSecret при использовании проверки подлинности NTLM. |
|CommonName2Ntlmx509StoreLocation|Строка, по умолчанию — L"LocalMachine"| Статическое|Расположение хранилища сертификатов X509, используемых для создания HMAC в CommonName2NtlmPasswordSecret при использовании проверки подлинности NTLM. |
|CommonName2Ntlmx509StoreName|Строка, по умолчанию — L"MY"|Статическое| Имя хранилища сертификатов X509, используемых для создания HMAC в CommonName2NtlmPasswordSecret при использовании проверки подлинности NTLM. |
|CommonNameNtlmPasswordSecret|SecureString, по умолчанию — Common::SecureString(L"")| Статическое|Секрет пароля, используемый в качестве начального, для создания такого же пароля при использовании аутентификации NTLM. |
|GenerateV1CommonNameAccount| Логическое значение, по умолчанию — true|Статическое|Указывает, следует ли создавать учетную запись при помощи алгоритма создания версии 1 для имени пользователя. Начиная с Service Fabric версии 6.1 всегда создается учетная запись при помощи алгоритма создания версии 2. Учетная запись версии 1 необходима для обновления с или до версий, которые не поддерживают алгоритм создания версии 2 (до 6.1).|
|MaxCopyOperationThreads | Целое число без знака, по умолчанию — 0 |Динамический| Максимальное количество файлов, которое одновременно может скопировать дополнительный репликатор из основного. 0 — число ядер. |
|MaxFileOperationThreads | Целое число без знака, по умолчанию — 100 |Статическое| Максимальное число параллельных потоков, доступных для выполнения операций с файлами (копирование и перемещение) в основном репликаторе. 0 — число ядер. |
|MaxRequestProcessingThreads | Целое число без знака, по умолчанию — 200 |Статическое|Максимальное число параллельных потоков, доступных для обработки запросов в основном репликаторе. 0 — число ядер. |
|MaxSecondaryFileCopyFailureThreshold | Целое число без знака, по умолчанию — 25|Динамический|Максимальное количество повторных попыток копирования файлов в дополнительном репликаторе, при достижении которого их следует прекратить. |
|MaxStoreOperations | Целое число без знака, по умолчанию — 4096 |Статическое|Максимальное количество параллельных операций сохранения транзакций, доступных в основном репликаторе. 0 — число ядер. |
|NamingOperationTimeout |Время в секундах, по умолчанию — 60. |Динамический|Временной диапазон в секундах. Время ожидания перед выполнением операции именования. |
|PrimaryAccountNTLMPasswordSecret | Защищенная строка, по умолчанию — пусто |Статическое| Секрет пароля, используемый в качестве начального для создания такого же пароля при использовании проверки подлинности NTLM. |
|PrimaryAccountNTLMX509StoreLocation | Строка, значение по умолчанию — "LocalMachine"|Статическое| Расположение хранилища сертификатов X509, используемых для создания HMAC в секрете пароля основной учетной записи при использовании проверки подлинности NTLM. |
|PrimaryAccountNTLMX509StoreName | Строка, значение по умолчанию — "MY"|Статическое| Имя хранилища сертификатов X509, используемых для создания HMAC в секрете пароля основной учетной записи при использовании проверки подлинности NTLM. |
|PrimaryAccountNTLMX509Thumbprint | Строка, значение по умолчанию — ""|Статическое|Отпечаток хранилища сертификатов X509, используемых для создания HMAC в секрете пароля основной учетной записи при использовании проверки подлинности NTLM. |
|PrimaryAccountType | Строка, значение по умолчанию — "" |Статическое|Тип основной учетной записи субъекта, используемый для внесения общих папок службы хранилища файлов (FileStoreService) в список управления доступом. |
|PrimaryAccountUserName | Строка, значение по умолчанию — "" |Статическое|Имя пользователя основной учетной записи субъекта, используемое для внесения общих папок службы хранилища файлов в список управления доступом. |
|PrimaryAccountUserPassword | Защищенная строка, по умолчанию — пусто |Статическое|Пароль основной учетной записи субъекта, используемый для внесения общих папок службы хранилища файлов в список управления доступом. |
|QueryOperationTimeout | Время в секундах, по умолчанию — 60. |Динамический|Временной диапазон в секундах. Время ожидания перед выполнением операции запроса. |
|SecondaryAccountNTLMPasswordSecret | Защищенная строка, по умолчанию — пусто |Статическое| Секрет пароля, используемый в качестве начального для создания такого же пароля при использовании проверки подлинности NTLM. |
|SecondaryAccountNTLMX509StoreLocation | Строка, значение по умолчанию — "LocalMachine" |Статическое|Расположение хранилища сертификатов X509, используемых для создания HMAC в секрете пароля дополнительной учетной записи при использовании проверки подлинности NTLM. |
|SecondaryAccountNTLMX509StoreName | Строка, значение по умолчанию — "MY" |Статическое|Имя хранилища сертификатов X509, используемых для создания HMAC в секрете пароля дополнительной учетной записи при использовании проверки подлинности NTLM. |
|SecondaryAccountNTLMX509Thumbprint | Строка, значение по умолчанию — ""| Статическое|Отпечаток хранилища сертификатов X509, используемых для создания HMAC в секрете пароля дополнительной учетной записи при использовании проверки подлинности NTLM. |
|SecondaryAccountType | Строка, значение по умолчанию — ""|Статическое| Тип дополнительной учетной записи субъекта, используемый для внесения общих папок службы хранилища файлов в список управления доступом. |
|SecondaryAccountUserName | Строка, значение по умолчанию — ""| Статическое|Имя пользователя дополнительной учетной записи субъекта, используемое для внесения общих папок службы хранилища файлов в список управления доступом. |
|SecondaryAccountUserPassword | Защищенная строка, по умолчанию — пусто |Статическое|Пароль дополнительной учетной записи субъекта, используемый для внесения общих папок службы хранилища файлов в список управления доступом. |

## <a name="healthmanager"></a>HealthManager
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
| EnableApplicationTypeHealthEvaluation |Логическое значение, по умолчанию — false |Статическое|Политика оценки работоспособности кластера. Включите отдельную политику для каждого типа приложения. |

## <a name="healthmanagerclusterhealthpolicy"></a>HealthManager/ClusterHealthPolicy
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|ConsiderWarningAsError |Логическое значение, по умолчанию — false |Статическое|Политика оценки работоспособности кластера. Предупреждения обрабатываются как ошибки. |
|MaxPercentUnhealthyApplications | Целое число, по умолчанию — 0 |Статическое|Политика оценки работоспособности кластера. Максимальный процент неработоспособных приложений, допустимый для поддержания работоспособности кластера. |
|MaxPercentUnhealthyNodes | Целое число, по умолчанию — 0 |Статическое|Политика оценки работоспособности кластера. Максимальный процент неработоспособных узлов, допустимый для поддержания работоспособности кластера. |

## <a name="healthmanagerclusterupgradehealthpolicy"></a>HealthManager/ClusterUpgradeHealthPolicy
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|MaxPercentDeltaUnhealthyNodes|Целое число, по умолчанию — 10|Статическое|Политика оценки работоспособности кластера перед обновлением. Максимальный процент неработоспособных узлов Delta, допустимый для поддержания работоспособности кластера. |
|MaxPercentUpgradeDomainDeltaUnhealthyNodes|Целое число, по умолчанию — 15|Статическое|Политика оценки работоспособности кластера перед обновлением. Максимальный процент неработоспособных узлов Delta в домене обновления, допустимый для работоспособности кластера. |

## <a name="hosting"></a>Hosting
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|ActivationMaxFailureCount |Целое число, по умолчанию — 10. |Динамический|Количество неудачных попыток системы выполнить активацию, после которого их следует прекратить. |
|ActivationMaxRetryInterval |Время в секундах, по умолчанию — 300. |Динамический|При каждом постоянном сбое активации система повторяет попытки активации, пока их число не достигнет значения ActivationMaxFailureCount. ActivationMaxRetryInterval задает интервал времени ожидания перед повторной попыткой, осуществляемой после каждого сбоя активации. |
|ActivationRetryBackoffInterval |Время в секундах, по умолчанию — 5. |Динамический|Интервал отхода при каждом сбое активации. При каждом постоянном сбое активации система повторяет попытки активации, пока их количество не достигнет значения MaxActivationFailureCount. Интервал повтора при каждой попытке является произведением числа постоянных сбоев активации и интервала отхода активации. |
|ActivationTimeout| Интервал времени, по умолчанию — Common::TimeSpan::FromSeconds(180)|Динамический| Временной диапазон в секундах. Время ожидания активации, деактивации и обновления приложения. |
|ApplicationHostCloseTimeout| Интервал времени, по умолчанию — Common::TimeSpan::FromSeconds(120)|Динамический| Временной диапазон в секундах. Если обнаружится, что служба Service Fabric выходит из рабочего режима во время автономной активации, FabricRuntime закроет все реплики, выполняющиеся во время процесса размещения приложений пользователя. Это время ожидания операции закрытия. |
|ApplicationUpgradeTimeout| Интервал времени, по умолчанию — Common::TimeSpan::FromSeconds(360)|Динамический| Временной диапазон в секундах. Время ожидания обновления приложения. Если время ожидания меньше времени ожидания "ActivationTimeout", работа средства развертывания завершится сбоем. |
|CreateFabricRuntimeTimeout|Интервал времени, по умолчанию — Common::TimeSpan::FromSeconds(120)|Динамический| Временной диапазон в секундах. Значение времени ожидания синхронизации вызова FabricCreateRuntime. |
|DeploymentMaxFailureCount|Целое число, по умолчанию — 20| Динамический|Прежде чем развертывание приложения на узле завершится сбоем, это развертывание будет выполнено столько раз, сколько задано для DeploymentMaxFailureCount.| 
|DeploymentMaxRetryInterval| Интервал времени, по умолчанию — Common::TimeSpan::FromSeconds(3600)|Динамический| Временной диапазон в секундах. Максимальный интервал повторных попыток развертывания. Для каждого повторного сбоя интервал повторных попыток вычисляется по следующей формуле: Min( DeploymentMaxRetryInterval, число повторных сбоев * DeploymentRetryBackoffInterval). |
|DeploymentRetryBackoffInterval| Интервал времени, по умолчанию — Common::TimeSpan::FromSeconds(10)|Динамический|Временной диапазон в секундах. Задержка интервала сбоев развертывания. На каждый сбой развертывания без задержек система повторит попытку развертывания столько раз, сколько задано для MaxDeploymentFailureCount. Интервал повторных попыток представляет собой результат сбоя развертывания без задержек и интервал задержки развертывания. |
|EnableActivateNoWindow| Логическое значение, по умолчанию — false|Динамический| Активированный процесс создается в фоновом режиме без использования какой-либо консоли. |
|EnableDockerHealthCheckIntegration|Логическое значение, по умолчанию — true|Статическое|Позволяет интегрировать события HEALTHCHECK в Docker в отчеты о работоспособности системы Service Fabric. |
|EnableProcessDebugging|Логическое значение, по умолчанию — false|Динамический| Активирует запуск узлов приложения в режиме отладчика. |
|EndpointProviderEnabled| Логическое значение, по умолчанию — false|Статическое| Позволяет Service Fabric управлять ресурсами конечной точки. Требует указания начального и конечного диапазона портов приложения в FabricNode. |
|FabricContainerAppsEnabled| Логическое значение, по умолчанию — false|Статическое| |
|FirewallPolicyEnabled|Логическое значение, по умолчанию — false|Статическое| Позволяет открыть порты брандмауэра ресурсов конечной точки с помощью явных портов, указанных в ServiceManifest. |
|GetCodePackageActivationContextTimeout|Интервал времени, по умолчанию — Common::TimeSpan::FromSeconds(120)|Динамический|Временной диапазон в секундах. Значение времени ожидания для вызовов CodePackageActivationContext. Это не применимо к службам ad-hoc. |
|IPProviderEnabled|Логическое значение, по умолчанию — false|Статическое|Позволяет управлять IP-адресами. |
|NTLMAuthenticationEnabled|Логическое значение, по умолчанию — false|Статическое| Включает поддержку использования NTLM с помощью пакетов кода, которые запускаются от имени других пользователей для безопасного взаимодействия процессов между компьютерами. |
|NTLMAuthenticationPasswordSecret|SecureString, по умолчанию — Common::SecureString(L"")|Статическое|Содержит зашифрованный секрет, используемый для создания пароля для пользователей NTLM. Если для NTLMAuthenticationEnabled задано значение true, необходимо задать пароль. Проверяется с помощью средства развертывания. |
|NTLMSecurityUsersByX509CommonNamesRefreshInterval|Интервал времени, по умолчанию — Common::TimeSpan::FromMinutes(3)|Динамический|Временной диапазон в секундах. Параметры, относящиеся к среде. Периодический интервал, за который служба размещения проверяет наличие новых сертификатов, используемых для конфигурации NTLM FileStoreService. |
|NTLMSecurityUsersByX509CommonNamesRefreshTimeout|Интервал времени, по умолчанию — Common::TimeSpan::FromMinutes(4)|Динамический| Временной диапазон в секундах. Время ожидания настройки пользователей NTLM с помощью общих имен сертификата. Пользователи NTLM требуются для файловых ресурсов FileStoreService. |
|RegisterCodePackageHostTimeout|Интервал времени, по умолчанию — Common::TimeSpan::FromSeconds(120)|Динамический| Временной диапазон в секундах. Значение времени ожидания вызова синхронизации FabricRegisterCodePackageHost. Это значение применимо только для узлов приложения с несколькими пакетами кода, например FWP. |
|RequestTimeout|Интервал времени, по умолчанию — Common::TimeSpan::FromSeconds(30)|Динамический| Временной диапазон в секундах. Этот параметр представляет собой время ожидания обмена данными между узлом приложения пользователя и процессами Service Fabric для различных операций, связанных с размещением, например регистрации фабрики и регистрации среды выполнения. |
|RunAsPolicyEnabled| Логическое значение, по умолчанию — false|Статическое| Разрешает выполнение пакетов кода от имени локального пользователя, отличного от пользователя, от имени которого выполняются процессы Service Fabric. Чтобы включить эту политику, службу Service Fabric нужно запустить как системную или от имени пользователя с доступом к SeAssignPrimaryTokenPrivilege. |
|ServiceFactoryRegistrationTimeout| Интервал времени, по умолчанию — Common::TimeSpan::FromSeconds(120)|Динамический|Временной диапазон в секундах. Значение времени ожидания для вызова Register(Stateless/Stateful)ServiceFactory синхронизации. |
|ServiceTypeDisableFailureThreshold |Целое число, по умолчанию — 1. |Динамический|Это пороговое количество сбоев, по достижении которого диспетчер отработки отказов (FailoverManager) будет уведомлен о необходимости отключить тип службы на этом узле и попытаться использовать для размещения другой узел. |
|ServiceTypeDisableGraceInterval|Интервал времени, по умолчанию — Common::TimeSpan::FromSeconds(30)|Динамический|Временной диапазон в секундах. Интервал времени, по истечении которого можно отключить тип службы. |
|ServiceTypeRegistrationTimeout |Время в секундах, по умолчанию — 300. |Динамический|Максимальное время, отводимое на регистрацию ServiceType в структуре. |

## <a name="httpgateway"></a>HttpGateway
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|ActiveListeners |Целое число без знака, по умолчанию — 50 |Статическое| Число операций чтения для размещения в очереди HTTP-сервера. Это определяет количество параллельных запросов, обрабатываемых HTTP-шлюзом. |
|HttpGatewayHealthReportSendInterval |Время в секундах, по умолчанию — 30. |Статическое|Временной диапазон в секундах. Интервал, согласно которому шлюз HTTP отправляет накопленные отчеты о работоспособности диспетчеру работоспособности. |
|IsEnabled|Логическое значение, по умолчанию — false |Статическое| Включает или отключает шлюз HTTP. По умолчанию шлюз HTTP отключен. |
|MaxEntityBodySize |Целое число без знака, по умолчанию — 4194304 |Динамический|Определяет максимальный размер текста HTTP-запроса. По умолчанию — 4MB. Если размер текста превышает это значение, HTTP-шлюз отклонит запрос. Минимальный размер блока чтения составляет 4096 байт. Поэтому значение этого параметра должно быть больше 4096. |

## <a name="imagestoreclient"></a>ImageStoreClient
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|ClientCopyTimeout | Время в секундах, по умолчанию — 1800 |Динамический| Временной диапазон в секундах. Значение времени ожидания для запроса копирования верхнего уровня в службу хранилища образов. |
|ClientDefaultTimeout | Время в секундах, по умолчанию — 180 |Динамический| Временной диапазон в секундах. Значение времени ожидания для всех запросов, кроме запросов на передачу и скачивание, (например, запросов на удаление или существование) к службе хранилища образов. |
|ClientDownloadTimeout | Время в секундах, по умолчанию — 1800 |Динамический| Временной диапазон в секундах. Значение времени ожидания для запроса загрузки верхнего уровня в службу хранилища образов. |
|ClientListTimeout | Время в секундах, по умолчанию — 600 |Динамический|Временной диапазон в секундах. Значение времени ожидания для запроса получения списка верхнего уровня в службу хранилища образов. |
|ClientUploadTimeout |Время в секундах, по умолчанию — 1800 |Динамический|Временной диапазон в секундах. Значение времени ожидания для запроса на передачу верхнего уровня в службу хранилища образов. |

## <a name="imagestoreservice"></a>ImageStoreService
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|Включено |Логическое значение, по умолчанию — false |Статическое|Включенный флаг для службы хранилища образов. Значение по умолчанию — false |
|MinReplicaSetSize | Целое число, по умолчанию — 3 |Статическое|Минимальный размер набора целевых реплик для службы хранилища образов. |
|PlacementConstraints | Строка, значение по умолчанию — "" |Статическое| Ограничения на размещения для службы хранилища образов. |
|QuorumLossWaitDuration | Время в секундах, по умолчанию — MaxValue |Статическое| Временной диапазон в секундах. Время ожидания после потери кворума для службы хранилища образов. |
|ReplicaRestartWaitDuration | Время в секундах, по умолчанию — 60.0 * 30 |Статическое|Временной диапазон в секундах. Время ожидания перед повторным запуском репликации для службы хранилища образов. |
|StandByReplicaKeepDuration | Время в секундах, по умолчанию — 3600.0 * 2 |Статическое| Временной диапазон в секундах. Время хранения реплики, находящейся в режиме ожидания, для службы хранилища образов. |
|TargetReplicaSetSize | Целое число, по умолчанию — 7 |Статическое|Размер набора целевых реплик для службы хранилища образов. |

## <a name="ktllogger"></a>KtlLogger
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|AutomaticMemoryConfiguration |Целое число, по умолчанию — 1 |Динамический|Флаг, указывающий, следует ли настраивать параметры памяти автоматически и динамически. Если этот параметр имеет значение 0, параметры конфигурации памяти используются напрямую и не изменяются в зависимости от состояния системы. Если этот параметр имеет значение 1, параметры памяти настраиваются автоматически, и их можно изменить в зависимости от состояния системы. |
|MaximumDestagingWriteOutstandingInKB | Целое число, по умолчанию — 0 |Динамический|Размер (в КБ), до которого можно увеличить общий журнал в зависимости от размера выделенного журнала. Значение 0 означает, что ограничения отсутствуют.
|SharedLogId |Строка, значение по умолчанию — "" |Статическое|Глобальный уникальный идентификатор контейнера общего журнала. Укажите значение "", если используется расположение по умолчанию в корневой папке данных Service Fabric. |
|SharedLogPath |Строка, значение по умолчанию — "" |Статическое|Имя файла и путь к расположению, где требуется разместить контейнер общего журнала. Укажите значение "", чтобы использовать расположение по умолчанию в корневой папке данных Service Fabric. |
|SharedLogSizeInMB |Целое число, по умолчанию — 8192 |Статическое|Размер (в МБ), выделяемый в контейнере общего журнала. |
|WriteBufferMemoryPoolMaximumInKB | Целое число, по умолчанию — 0 |Динамический|Размер (в КБ), до которого можно увеличить пул памяти в буфере записи. Значение 0 означает, что ограничения отсутствуют. |
|WriteBufferMemoryPoolMinimumInKB |Целое число, по умолчанию — 8388608 |Динамический|Объем памяти (в КБ), изначально выделяемый пулу памяти в буфере записи. Значение 0 означает, что ограничения отсутствуют, а значение по умолчанию необходимо согласовать с параметром SharedLogSizeInMB (см. ниже). |

## <a name="management"></a>управления
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|AzureStorageMaxConnections | Целое число, по умолчанию — 5000 |Динамический|Максимальное число одновременных подключений к службе хранилища Azure. |
|AzureStorageMaxWorkerThreads | Целое число, по умолчанию — 25 |Динамический|Максимальное число параллельных рабочих потоков. |
|AzureStorageOperationTimeout | Время в секундах, по умолчанию — 6000 |Динамический|Временной диапазон в секундах. Время ожидания завершения операции xstore. |
|DisableChecksumValidation | Логическое значение, по умолчанию — false |Статическое| Включает или отключает проверку контрольной суммы во время подготовки приложения. |
|DisableServerSideCopy | Логическое значение, по умолчанию — false |Статическое|Включает или отключает серверное копирование пакета приложения в хранилище образов во время подготовки приложения. |
|ImageCachingEnabled | Логическое значение, по умолчанию — true |Статическое|Включает или отключает кэширование. |
|ImageStoreConnectionString |SecureString |Статическое|Строка подключения к корневой папке хранилища образов. |
|ImageStoreMinimumTransferBPS | Целое число, по умолчанию — 1024 |Динамический|Минимальная скорость передачи между кластером и хранилищем образов. Это значение не определяет время ожидания при доступе к внешнему хранилищу образов. Измените его только при высокой задержке между кластером и хранилищем образов. Это позволит выделить кластеру больше времени на скачивание из внешнего хранилища образов. |

## <a name="metricactivitythresholds"></a>MetricActivityThresholds
| **Параметр** | **Допустимые значения** |**Политика обновления**| **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|PropertyGroup|KeyIntegerValueMap, по умолчанию — None|Динамический|Определяет набор MetricActivityThresholds для метрик в кластере. Балансировка будет выполнена, если значение maxNodeLoad больше, чем MetricActivityThresholds. Для метрик дефрагментации параметр определяет значение объема нагрузки, равное значению объема нагрузки, при котором Service Fabric определит узел как пустой, или ниже его. |

## <a name="metricbalancingthresholds"></a>MetricBalancingThresholds
| **Параметр** | **Допустимые значения** |**Политика обновления**| **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|PropertyGroup|KeyDoubleValueMap, по умолчанию — None|Динамический|Определяет набор MetricBalancingThresholds для метрик в кластере. Балансировка будет выполнена, если значение maxNodeLoad/minNodeLoad больше, чем MetricBalancingThresholds. Дефрагментация будет выполнена, если значение maxNodeLoad и minNodeLoad хотя бы в одном домене обновления или сбоя будет меньше значения MetricBalancingThresholds. |

## <a name="namingservice"></a>NamingService
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|GatewayServiceDescriptionCacheLimit |Целое число, по умолчанию — 0 |Статическое|Максимальное количество записей в кэше для описания наиболее давно использовавшейся службы в шлюзе службы именования (чтобы снять ограничения, задайте значение 0). |
|MaxClientConnections |Целое число, значение по умолчанию — 1000. |Динамический|Максимально допустимое количество клиентских подключений на шлюз. |
|MaxFileOperationTimeout |Время в секундах, по умолчанию — 30. |Динамический|Временной диапазон в секундах. Максимально допустимое время ожидания для операции службы хранилища файлов. Запросы с более долгим временем ожидания отклоняются. |
|MaxIndexedEmptyPartitions |Целое число, значение по умолчанию — 1000. |Динамический|Максимальное количество пустых секций, остающихся индексированными в кэше уведомлений для синхронизации повторного подключения клиентов. При превышении этого значения пустые разделы удаляются из индекса в порядке возрастания версии поиска. Подключенные повторно клиенты по-прежнему могут синхронизировать и получать обновления недостающих пустых разделов, но протокол синхронизации становится более затратным. |
|MaxMessageSize |Целое число, значение по умолчанию — 4\*1024\*1024. |Статическое|Максимальный размер сообщения для обмена с узлом клиента при использовании именования. Снижает количество атак типа "отказ в обслуживании". По умолчанию — 4MB. |
|MaxNamingServiceHealthReports | Целое число, по умолчанию — 10 |Динамический|Максимальное количество медленных операций, одновременно рассматриваемых хранилищем службы именования в качестве неработоспособных. Если значение равно 0, отправляются все медленные операции. |
|MaxOperationTimeout |Время в секундах, по умолчанию — 600 |Динамический|Временной диапазон в секундах. Максимально допустимое время ожидания для операций клиента. Запросы с более долгим временем ожидания отклоняются. |
|MaxOutstandingNotificationsPerClient |Целое число, значение по умолчанию — 1000. |Динамический|Максимальное количество необработанных уведомлений до принудительного закрытия регистрации клиента шлюзом. |
|MinReplicaSetSize | Целое число, по умолчанию — 3 |Не разрешено| Минимальное количество реплик службы именования, необходимых для записи данных, чтобы завершить обновление. При наличии меньшего количества реплик система надежности отклоняет обновления в хранилище службы именования до восстановления реплик. Это значение никогда не должно быть больше значения TargetReplicaSetSize. |
|PartitionCount |Целое число, по умолчанию — 3 |Не разрешено|Количество секций хранилища службы именования, которые нужно создать. Каждому разделу принадлежит один ключ раздела, соответствующий его индексу. Поэтому ключи разделов [0; PartitionCount) существуют. При увеличении количества секций службы именования увеличивается масштаб этой службы. Это связано с уменьшением среднего размера данных, хранимого в любом резервном наборе реплик. Однако это приводит к повышению затрат на использование ресурсов, так как необходимо обслуживать реплики службы (их количество равно числу секций * размер набора реплик).|
|PlacementConstraints | Строка, значение по умолчанию — "" |Не разрешено| Ограничение размещения для службы именования. |
|QuorumLossWaitDuration | Время в секундах, по умолчанию — MaxValue |Не разрешено| Временной диапазон в секундах. Этот таймер запускается после потери кворума в службе именования. По истечении этого времени диспетчер отработки отказов рассматривает отключенные реплики как потерянные и пытается восстановить кворум. Обратите внимание, что это может привести к потере данных. |
|RepairInterval | Время в секундах, по умолчанию — 5 |Статическое| Временной диапазон в секундах. Интервал времени, в течение которого запускается устранение несоответствия именования между владельцем имени и владельцем центра. |
|ReplicaRestartWaitDuration | Время в секундах, по умолчанию — (60.0 * 30)|Не разрешено| Временной диапазон в секундах. Этот таймер запускается после сбоя реплики службы именования. По истечении этого времени диспетчер отработки отказов начнет заменять реплики, которые не работают (они еще считается потерянными). |
|ServiceDescriptionCacheLimit | Целое число, по умолчанию — 0 |Статическое| Максимальное количество записей в кэше для описания наиболее давно использовавшейся службы в хранилище службы именования (чтобы снять ограничения, задайте значение 0). |
|ServiceNotificationTimeout |Время в секундах, по умолчанию — 30. |Динамический|Временной диапазон в секундах. Время ожидания, используемое при доставке уведомлений службы клиенту. |
|StandByReplicaKeepDuration | Время в секундах, по умолчанию — 3600.0 * 2 |Не разрешено| Временной диапазон в секундах. Если реплики службы именования не восстанавливают работоспособность за определенное время, происходит их замена. Этот таймер определяет, как долго диспетчер отработки отказов сохраняет реплику, находящуюся в режиме ожидания, до ее удаления. |
|TargetReplicaSetSize |Целое число, по умолчанию — 7 |Не разрешено|Количество наборов реплик для каждого раздела в хранилище службы именования. При увеличении числа наборов реплик повышается уровень надежности хранения данных в хранилище службы именования, а также снижается возможность их потери в случае сбоев узла. В свою очередь, при их увеличении повышается нагрузка на Windows Fabric и увеличивается время обновления данных именования.|

## <a name="nodebufferpercentage"></a>NodeBufferPercentage
| **Параметр** | **Допустимые значения** |**Политика обновления**| **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|PropertyGroup|KeyDoubleValueMap, по умолчанию — None|Динамический|Процент емкости узла для каждого имени метрики, используемой в качестве буфера для сохранения свободного пространства на узле в случае отработки отказа. |

## <a name="nodecapacities"></a>NodeCapacities
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|PropertyGroup |NodeCapacityCollectionMap |Статическое|Список емкостей узла для разных метрик. |

## <a name="nodedomainids"></a>NodeDomainIds
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|PropertyGroup |NodeFaultDomainIdCollection |Статическое|Описывает домен сбоя, к которому принадлежит узел. Домен сбоя определяется через универсальный код ресурса (URI), содержащий сведения о расположении узла в центре обработки данных.  URI домена сбоя имеет формат "домен_сбоя:/домен_сбоя/", после чего следует сегмент пути URI.|
|UpgradeDomainId |Строка, значение по умолчанию — "" |Статическое|Описывает домен обновления, к которому принадлежит узел. |

## <a name="nodeproperties"></a>NodeProperties
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|PropertyGroup |NodePropertyCollectionMap |Статическое|Список пар "ключ — значение" для свойств узла. |

## <a name="paas"></a>Paas
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|ClusterId |Строка, значение по умолчанию — "" |Не разрешено|Хранилище сертификатов X509, используемое Fabric для защиты конфигурации. |

## <a name="performancecounterlocalstore"></a>PerformanceCounterLocalStore
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|Counters |Строка | Динамический |Разделенный запятыми список счетчиков производительности, данные которых необходимо собирать. |
|IsEnabled |Логическое значение, по умолчанию — true | Динамический |Флаг, указывающий, включен ли сбор данных счетчиками производительности на локальном узле. |
|MaxCounterBinaryFileSizeInMB |Целое число, по умолчанию — 1 | Динамический |Максимальный размер (в МБ) двоичного файла каждого счетчика производительности. |
|NewCounterBinaryFileCreationIntervalInMinutes |Целое число, по умолчанию — 10 | Динамический |Максимальный интервал (в секундах) для создания двоичных файлов счетчика производительности. |
|SamplingIntervalInSeconds |Целое число, по умолчанию — 60 | Динамический |Интервал выборки для сбора данных со счетчиков производительности. |

## <a name="placementandloadbalancing"></a>PlacementAndLoadBalancing
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|AffinityConstraintPriority | Целое число, по умолчанию — 0 | Динамический|Определяет приоритет ограничения сходства: 0 — строгое ограничение, 1 — мягкое ограничение, отрицательное значение — ограничение игнорируется. |
|ApplicationCapacityConstraintPriority | Целое число, по умолчанию — 0 | Динамический|Определяет приоритет ограничения емкости: 0 — строгое ограничение, 1 — мягкое ограничение, отрицательное значение — ограничение игнорируется. |
|AutoDetectAvailableResources|Логическое значение, по умолчанию — true|Статическое|Эта конфигурация активирует автообнаружение доступных ресурсов на узле (ЦП и памяти). При заданном значении true мы можем считать реальные показатели емкости и исправить их, если пользователь указал некорректные, или если эти показатели не определены. При заданном значении false мы можем отследить предупреждение пользователя о недопустимых показателях емкости, но не сможем их исправить. Это означает, что пользователь хочет оставить увеличенные показатели узла, а не реальные или, если показатели отсутствуют, — это подразумевает неограниченную емкость. |
|BalancingDelayAfterNewNode | Время в секундах, по умолчанию — 120 |Динамический|Временной диапазон в секундах. Не запускайте процессы балансировки в течение этого периода после события добавления нового узла. |
|BalancingDelayAfterNodeDown | Время в секундах, по умолчанию — 120 |Динамический|Временной диапазон в секундах. Не запускайте процессы балансировки в течение этого периода после события сбоя узла. |
|CapacityConstraintPriority | Целое число, по умолчанию — 0 | Динамический|Определяет приоритет ограничения емкости: 0 — строгое ограничение, 1 — мягкое ограничение, отрицательное значение — ограничение игнорируется. |
|ConsecutiveDroppedMovementsHealthReportLimit | Целое число, по умолчанию — 20 | Динамический|Определяет число последовательных сбоев перемещений, вызванных балансировщиком ресурсов, до проведения диагностики и создания предупреждений о работоспособности. При использовании отрицательного значения предупреждения не создаются. |
|ConstraintFixPartialDelayAfterNewNode | Время в секундах, по умолчанию — 120 |Динамический| Временной диапазон в секундах. Не исправляйте нарушения ограничений домена сбоя и домена обновления в течение этого периода после события добавления нового узла. |
|ConstraintFixPartialDelayAfterNodeDown | Время в секундах, по умолчанию — 120 |Динамический| Временной диапазон в секундах. Не исправляйте нарушения ограничений домена сбоя и домена обновления в течение этого периода после события сбоя узла. |
|ConstraintViolationHealthReportLimit | Целое число, по умолчанию — 50 |Динамический| Определяет количество допустимых нарушений ограничений репликой до проведения диагностики и создания отчетов о работоспособности. |
|DetailedConstraintViolationHealthReportLimit | Целое число, по умолчанию — 200 |Динамический| Определяет количество допустимых нарушений ограничений репликой до проведения диагностики и создания подробных отчетов о работоспособности. |
|DetailedDiagnosticsInfoListLimit | Целое число, по умолчанию — 15 |Динамический| Определяет количество записей диагностики (с подробными сведениями) на ограничение, которые необходимо добавить в журнал диагностики перед усечением.|
|DetailedNodeListLimit | Целое число, по умолчанию — 15 |Динамический| Определяет количество узлов на ограничение, которые необходимо добавить в отчеты о неразмещенных репликах перед усечением. |
|DetailedPartitionListLimit | Целое число, по умолчанию — 15 |Динамический| Определяет количество разделов на запись диагностики для ограничения, которые необходимо добавить в журнал диагностики перед усечением. |
|DetailedVerboseHealthReportLimit | Целое число, по умолчанию — 200 | Динамический|Определяет количество повторных попыток размещения неразмещенной реплики до создания подробных отчетов о работоспособности. |
|FaultDomainConstraintPriority | Целое число, по умолчанию — 0 |Динамический| Определяет приоритет ограничения домена сбоя: 0 — строгое ограничение, 1 — мягкое ограничение, отрицательное значение — ограничение игнорируется. |
|GlobalMovementThrottleCountingInterval | Время в секундах, по умолчанию — 600 |Статическое| Временной диапазон в секундах. Указывает продолжительность последнего интервала, для которого нужно отследить перемещение реплик каждого домена (используется с параметром GlobalMovementThrottleThreshold). Значение 0 позволяет полностью игнорировать глобальное регулирование. |
|GlobalMovementThrottleThreshold | Целое число без знака, по умолчанию — 1000 |Динамический| Максимально допустимое число перемещений на этапе балансировки за последний интервал, указанный в параметре GlobalMovementThrottleCountingInterval. |
|GlobalMovementThrottleThresholdForBalancing | Целое число без знака, по умолчанию — 0 | Динамический|Максимально допустимое число перемещений на этапе балансировки за последний интервал, указанный в параметре GlobalMovementThrottleCountingInterval. Значение 0 означает, что ограничения отсутствуют. |
|GlobalMovementThrottleThresholdForPlacement | Целое число без знака, по умолчанию — 0 |Динамический| Максимально допустимое число перемещений на этапе размещения за последний интервал, указанный в параметре GlobalMovementThrottleCountingInterval. Значение 0 означает, что ограничения отсутствуют.|
|GlobalMovementThrottleThresholdPercentage|Двойное, значение по умолчанию — 0|Динамический|Максимальное количество общих перемещений, разрешенных в фазах балансировки и размещения (выражено в процентном отношении общего количества реплик в кластере) в последнем интервале, указанном GlobalMovementThrottleCountingInterval. Значение 0 означает, что ограничения отсутствуют. Если указаны этот параметр и GlobalMovementThrottleThreshold, то используется более умеренное ограничение.|
|GlobalMovementThrottleThresholdPercentageForBalancing|Двойное, значение по умолчанию — 0|Динамический|Максимальное количество перемещений, разрешенных в фазе балансировки (выражено в процентном отношении общего количества реплик в PLB) в последнем интервале, указанном GlobalMovementThrottleCountingInterval. Значение 0 означает, что ограничения отсутствуют. Если указаны этот параметр и GlobalMovementThrottleThresholdForBalancing, то используется более умеренное ограничение.|
|InBuildThrottlingAssociatedMetric | Строка, значение по умолчанию — "" |Статическое| Имя метрики, связанной с этим регулированием. |
|InBuildThrottlingEnabled | Логическое значение, по умолчанию — false |Динамический| Определяет, включено ли встроенное регулирование. |
|InBuildThrottlingGlobalMaxValue | Целое число, по умолчанию — 0 |Динамический|Максимальное число встроенных реплик, допустимое глобально. |
|InterruptBalancingForAllFailoverUnitUpdates | Логическое значение, по умолчанию — false | Динамический|Определяет, прерывает ли любой тип обновления единицы отработки отказа быстрое или медленное выполнение балансировки. Если указать для этого параметра значение false, выполнение балансировки прерывается при создании или удалении единицы отработки отказа, изменении расположения основной реплики или изменении количества реплик. Если единица отработки отказа имеет лишние реплики, изменился флаг реплики или изменилась только версия раздела (и еще в некоторых случаях), выполнение балансировки не прерывается. |
|MinConstraintCheckInterval | Время в секундах, по умолчанию — 1 |Динамический| Временной диапазон в секундах. Определяет минимальное количество времени до выполнения двух последовательных проверок ограничений. |
|MinLoadBalancingInterval | Время в секундах, по умолчанию — 5 |Динамический| Временной диапазон в секундах. Определяет минимальное количество времени до выполнения двух последовательных балансировок. |
|MinPlacementInterval | Время в секундах, по умолчанию — 1 |Динамический| Временной диапазон в секундах. Определяет минимальное количество времени до выполнения двух последовательных размещений. |
|MoveExistingReplicaForPlacement | Логическое значение, по умолчанию — true |Динамический|Определяет, можно ли переместить имеющуюся реплику во время размещения. |
|MovementPerPartitionThrottleCountingInterval | Время в секундах, по умолчанию — 600 |Статическое| Временной диапазон в секундах. Указывает продолжительность последнего интервала, для которого нужно отслеживать перемещение реплик каждого раздела (используется с параметром MovementPerPartitionThrottleThreshold). |
|MovementPerPartitionThrottleThreshold | Целое число без знака, по умолчанию — 50 |Динамический| Если количество перемещений, связанных с балансировкой, достигает значения MovementPerFailoverUnitThrottleThreshold за последний интервал, указанный в параметре MovementPerPartitionThrottleCountingInterval, или превышает его, это перемещение раздела не выполняется. |
|MoveParentToFixAffinityViolation | Логическое значение, по умолчанию — false |Динамический| Определяет, можно ли переместить родительские реплики, чтобы устранить нарушения ограничений сходства.|
|PartiallyPlaceServices | Логическое значение, по умолчанию — true |Динамический| Определяет, будут ли полностью размещены все реплики службы в кластере и будут ли им выделены подходящие узлы.|
|PlaceChildWithoutParent | Логическое значение, по умолчанию — true | Динамический|Определяет, можно ли разместить дочернюю реплику службы до размещения родительской реплики. |
|PlacementConstraintPriority | Целое число, по умолчанию — 0 | Динамический|Определяет приоритет ограничения на размещение: 0 — строгое ограничение, 1 — мягкое ограничение, отрицательное значение — ограничение игнорируется. |
|PlacementConstraintValidationCacheSize | Целое число, по умолчанию — 10 000 |Динамический| Ограничивает размер таблицы, используемой для быстрой проверки и кэширования выражений ограничения размещения. |
|PlacementSearchTimeout | Время в секундах, по умолчанию — 0.5 |Динамический| Временной диапазон в секундах. При размещении служб поиск выполняется по крайней мере в течение такого промежутка времени перед возвращением результата. |
|PLBRefreshGap | Время в секундах, по умолчанию — 1 |Динамический| Временной диапазон в секундах. Определяет минимальное количество времени до обновления состояния балансировщиком нагрузки и размещения. |
|PreferredLocationConstraintPriority | Целое число, по умолчанию — 2| Динамический|Определяет приоритет ограничения на предпочтительное расположение: 0 — строгое ограничение, 1 — мягкое ограничение, 2 — оптимизация, отрицательное значение — ограничение игнорируется. |
|PreventTransientOvercommit | Логическое значение, по умолчанию — false | Динамический|Определяет, должен ли PLB сразу же использовать ресурсы, освобожденные при перемещениях. По умолчанию PLB может инициировать перемещение на том же узле, что может стать причиной его временной перегрузки. Чтобы избежать такого типа перегрузок и отключить дефрагментацию по запросу (placementWithMove), задайте для этого параметра значение true. |
|ScaleoutCountConstraintPriority | Целое число, по умолчанию — 0 |Динамический| Определяет приоритет ограничения на количество масштабирований: 0 — строгое ограничение, 1 — мягкое ограничение, отрицательное значение — ограничение игнорируется. |
|SwapPrimaryThrottlingAssociatedMetric | Строка, значение по умолчанию — ""|Статическое| Имя метрики, связанной с этим регулированием. |
|SwapPrimaryThrottlingEnabled | Логическое значение, по умолчанию — false|Динамический| Определяет, включено ли регулирование замены основного репликатора. |
|SwapPrimaryThrottlingGlobalMaxValue | Целое число, по умолчанию — 0 |Динамический| Максимальное число реплик замены основного репликатора, допустимое глобально. |
|TraceCRMReasons |Логическое значение, по умолчанию — true |Динамический|Определяет, следует ли выполнять трассировку причин перемещений, вызванных CRM, в канал операционных событий. |
|UpgradeDomainConstraintPriority | Целое число, по умолчанию — 1| Динамический|Определяет приоритет ограничения домена обновления: 0 — строгое ограничение, 1 — мягкое ограничение, отрицательное значение — ограничение игнорируется. |
|UseMoveCostReports | Логическое значение, по умолчанию — false | Динамический|Указывает балансировщику нагрузки игнорировать элемент затрат функции вычисления, в результате чего увеличивается число перемещений и улучшается балансировка размещения. |
|UseSeparateSecondaryLoad | Логическое значение, по умолчанию — true | Динамический|Определяет, можно ли использовать другую вторичную нагрузку. |
|ValidatePlacementConstraint | Логическое значение, по умолчанию — true |Динамический| Указывает, проверяется ли выражение ограничения размещения для службы при обновлении описания службы. |
|VerboseHealthReportLimit | Целое число, по умолчанию — 20 | Динамический|Определяет количество неудачных попыток размещения реплики перед созданием предупреждения о работоспособности (если подробные отчеты о работоспособности включены). |

## <a name="reconfigurationagent"></a>ReconfigurationAgent
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|ApplicationUpgradeMaxReplicaCloseDuration | Время в секундах, по умолчанию — 900 |Динамический|Временной диапазон в секундах. Период ожидания, по завершении которого система прекратит действие узлов службы, имеющих реплики, которые не удается закрыть во время обновления приложения.|
|FabricUpgradeMaxReplicaCloseDuration | Время в секундах, по умолчанию — 900 |Динамический| Временной диапазон в секундах. Период ожидания, по завершении которого система прекратит действие узлов службы, имеющих реплики, которые не удается закрыть во время обновления Service Fabric. |
|GracefulReplicaShutdownMaxDuration|Интервал времени, по умолчанию — Common::TimeSpan::FromSeconds(120)|Динамический|Временной диапазон в секундах. Период ожидания, по завершении которого система прекратит действие узлов службы, имеющих реплики, которые не удается закрыть. Если задать значение 0, реплики не будут закрыты.|
|NodeDeactivationMaxReplicaCloseDuration | Время в секундах, по умолчанию — 900 |Динамический|Временной диапазон в секундах. Период ожидания, по завершении которого система прекратит действие узлов службы, имеющих реплики, которые не удается закрыть во время деактивации узла. |
|PeriodicApiSlowTraceInterval | Время в секундах, по умолчанию — 5 минут |Динамический| Временной диапазон в секундах. Этот параметр определяет интервал повторной трассировки монитором API медленных вызовов API. |
|ReplicaChangeRoleFailureRestartThreshold|Целое число, по умолчанию — 10|Динамический| Целое число. Укажите число сбоев API во время повышения уровня первичной реплики, после чего будут применены автоматические действия по устранению неполадок (перезапуск реплики). |
|ReplicaChangeRoleFailureWarningReportThreshold|Целое число, по умолчанию — 2147483647|Динамический| Целое число. Укажите число сбоев API во время повышения уровня первичной реплики, после чего будет вызван отчет-предупреждение о работоспособности.|
|ServiceApiHealthDuration | Время в секундах, по умолчанию — 30 минут |Динамический| Временной диапазон в секундах. Этот параметр определяет период времени, по истечении которого API службы рассматривается как неработоспособный. |
|ServiceReconfigurationApiHealthDuration | Время в секундах, по умолчанию — 30. |Динамический| Временной диапазон в секундах. Этот параметр определяет период времени, по истечении которого для API-служб формируется отчет об их неработоспособности. Это применимо к вызовам API, которые влияют на доступность.|

## <a name="replication"></a>Репликация
| **Параметр** | **Допустимые значения** | **Политика обновления**| **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|BatchAcknowledgementInterval|Интервал времени, по умолчанию — Common::TimeSpan::FromSeconds(15)|Статическое|Временной диапазон в секундах. Период времени, в течение которого репликатор после получения операции находится в режиме ожидания, а затем возвращает подтверждение. Подтверждения других операций, полученных в этот период, возвращаются в одном сообщении. В результате этого уменьшается сетевой трафик и пропускная способность репликатора.|
|MaxCopyQueueSize|Целое число без знака, по умолчанию — 1024|Статическое|Максимальное значение, определяющее начальный размер очереди операций репликации. Обратите внимание, что это значение должно представлять собой степень числа 2. Если во время выполнения размер очереди достигает установленного значения, операция будет распределена между основным и дополнительным репликаторами.|
|MaxPrimaryReplicationQueueMemorySize|Целое число без знака, по умолчанию — 0|Статическое|Максимальное значение основной очереди репликации в байтах.|
|MaxPrimaryReplicationQueueSize|Целое число без знака, по умолчанию — 1024|Статическое|Максимальное число операций в основной очереди репликации. Обратите внимание, что это значение должно представлять собой степень числа 2.|
|MaxReplicationMessageSize|Целое число без знака, по умолчанию — 52428800|Статическое|Максимальный размер сообщения операций репликации. По умолчанию — 50MB.|
|MaxSecondaryReplicationQueueMemorySize|Целое число без знака, по умолчанию — 0|Статическое|Максимальное значение дополнительной очереди репликации в байтах.|
|MaxSecondaryReplicationQueueSize|Целое число без знака, по умолчанию — 2048|Статическое|Максимальное число операций в дополнительной очереди репликации. Обратите внимание, что это значение должно представлять собой степень числа 2.|
|QueueHealthMonitoringInterval|Интервал времени, по умолчанию — Common::TimeSpan::FromSeconds(30)|Статическое|Временной диапазон в секундах. Это значение определяет период времени, используемый репликатором для наблюдения за любыми событиями ошибок работоспособности или предупреждений о работоспособности в очередях операций репликации. При значении 0 мониторинг работоспособности отключен. |
|QueueHealthWarningAtUsagePercent|Целое число без знака, по умолчанию — 80|Статическое|Это значение определяет использование очереди репликации (в процентах), после чего формируется отчет-предупреждение об интенсивном использовании очереди. Отчет формируется по истечении льготного интервала QueueHealthMonitoringInterval, если использование очереди становится ниже процентного уровня в этом интервале.|
|ReplicatorAddress|Строка, значение по умолчанию — L"localhost:0"|Статическое|Конечная точка в формате "IP-адрес:порт", используемая репликатором Windows Fabric для установки подключений к другим репликам, чтобы отправлять и получать операции.|
|ReplicatorListenAddress|Строка, значение по умолчанию — L"localhost:0"|Статическое|Конечная точка в формате "IP-адрес:порт", используемая репликатором Windows Fabric для получения операций от других реплик.|
|ReplicatorPublishAddress|Строка, значение по умолчанию — L"localhost:0"|Статическое|Конечная точка в формате "IP-адрес:порт", используемая репликатором Windows Fabric для отправки операций к другим репликам.|
|RetryInterval|Интервал времени, по умолчанию — Common::TimeSpan::FromSeconds(5)|Статическое|Временной диапазон в секундах. Когда операция не обнаруживается или отклоняется, то с помощью этого таймера определяется частота повторной отправки операции репликатором.|

## <a name="runas"></a>RunAs
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|RunAsAccountName |Строка, значение по умолчанию — "" |Динамический|Указывает имя учетной записи запуска от имени. Требуется только для учетной записи типа DomainUser или ManagedServiceAccount. Допустимые значения: "domain\user" или "user@domain". |
|RunAsAccountType|Строка, значение по умолчанию — "" |Динамический|Указывает тип учетной записи запуска от имени. Требуется для любого допустимого значения раздела RunAs (DomainUser, NetworkService, ManagedServiceAccount, LocalSystem).|
|RunAsPassword|Строка, значение по умолчанию — "" |Динамический|Указывает пароль учетной записи запуска от имени. Требуется только для учетной записи типа DomainUser. |

## <a name="runasdca"></a>RunAs_DCA
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|RunAsAccountName |Строка, значение по умолчанию — "" |Динамический|Указывает имя учетной записи запуска от имени. Требуется только для учетной записи типа DomainUser или ManagedServiceAccount. Допустимые значения: "domain\user" или "user@domain". |
|RunAsAccountType|Строка, значение по умолчанию — "" |Динамический|Указывает тип учетной записи запуска от имени. Требуется для любого допустимого значения раздела RunAs (LocalUser, DomainUser, NetworkService, ManagedServiceAccount, LocalSystem). |
|RunAsPassword|Строка, значение по умолчанию — "" |Динамический|Указывает пароль учетной записи запуска от имени. Требуется только для учетной записи типа DomainUser. |

## <a name="runasfabric"></a>RunAs_Fabric
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|RunAsAccountName |Строка, значение по умолчанию — "" |Динамический|Указывает имя учетной записи запуска от имени. Требуется только для учетной записи типа DomainUser или ManagedServiceAccount. Допустимые значения: "domain\user" или "user@domain". |
|RunAsAccountType|Строка, значение по умолчанию — "" |Динамический|Указывает тип учетной записи запуска от имени. Требуется для любого допустимого значения раздела RunAs (LocalUser, DomainUser, NetworkService, ManagedServiceAccount, LocalSystem). |
|RunAsPassword|Строка, значение по умолчанию — "" |Динамический|Указывает пароль учетной записи запуска от имени. Требуется только для учетной записи типа DomainUser. |

## <a name="runashttpgateway"></a>RunAs_HttpGateway
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|RunAsAccountName |Строка, значение по умолчанию — "" |Динамический|Указывает имя учетной записи запуска от имени. Требуется только для учетной записи типа DomainUser или ManagedServiceAccount. Допустимые значения: "domain\user" или "user@domain". |
|RunAsAccountType|Строка, значение по умолчанию — "" |Динамический|Указывает тип учетной записи запуска от имени. Требуется для любого допустимого значения раздела RunAs (LocalUser, DomainUser, NetworkService, ManagedServiceAccount, LocalSystem). |
|RunAsPassword|Строка, значение по умолчанию — "" |Динамический|Указывает пароль учетной записи запуска от имени. Требуется только для учетной записи типа DomainUser. |

## <a name="security"></a>Безопасность
| **Параметр** | **Допустимые значения** |**Политика обновления**| **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|AADClientApplication|Строка, значение по умолчанию — L""|Статическое|Имя приложения исходного клиента или идентификатор клиентов Service Fabric. |
|AADClusterApplication|Строка, значение по умолчанию — L""|Статическое|Имя приложения веб-интерфейса API или идентификатор кластера. |
|AADTenantId|Строка, значение по умолчанию — L""|Статическое|Идентификатор клиента (GUID). |
|AdminClientCertThumbprints|Строка, значение по умолчанию — L""|Динамический|Отпечатки сертификатов, используемые клиентами с ролью администратора. Представляет собой список имен, разделенных запятыми. |
|AdminClientClaims|Строка, значение по умолчанию — L""|Динамический|Все возможные утверждения, ожидаемые от клиентов администрирования. Формат совпадает с форматом ClientClaims. Этот список добавляется к ClientClaims внутри системы, поэтому нет необходимости добавлять в ClientClaims одинаковые записи. |
|AdminClientIdentities|Строка, значение по умолчанию — L""|Динамический|Идентификаторы Windows клиентов службы Service Fabric, которым назначена роль администратора. Используются для аутентификации операций с привилегиями в Service Fabric. Представляет собой список, разделенный запятыми. Каждая запись — это имя учетной записи домена или имя группы. Для удобства учетной записи, в которой выполняется файл fabric.exe, автоматически присваивается роль администратора. Таким образом, можно использовать ServiceFabricAdministrators. |
|CertificateExpirySafetyMargin|Интервал времени, по умолчанию — Common::TimeSpan::FromMinutes(43200)|Статическое|Временной диапазон в секундах. Резервное время истечения срока действия сертификата. Состояние отчета о работоспособности сертификата изменяется с "ОК" на "Предупреждение" при приближении времени истечения срока действия сертификата. Значение по умолчанию — 30 дней. |
|CertificateHealthReportingInterval|Интервал времени, по умолчанию — Common::TimeSpan::FromSeconds(3600 * 8)|Статическое|Временной диапазон в секундах. Укажите интервал, в течение которого должен быть сформирован отчет о работоспособности сертификата. Значение по умолчанию — 8 часов. Значение 0 можно задать, чтобы отключить создание отчета о работоспособности сертификата. |
|ClientCertThumbprints|Строка, значение по умолчанию — L""|Динамический|Отпечатки сертификатов, используемые клиентами, чтобы подключиться к кластеру. Кластер использует этот параметр для аутентификации входящего подключения. Представляет собой список имен, разделенных запятыми. |
|ClientClaimAuthEnabled|Логическое значение, по умолчанию — false|Статическое|Указывает, включена ли аутентификация на основе утверждений для клиентов. Если настроено значении true для этого параметра, неявно задается ClientRoleEnabled. |
|ClientClaims|Строка, значение по умолчанию — L""|Динамический|Все возможные утверждения, ожидаемые от клиентов для подключения к шлюзу. Это список OR: ClaimsEntry \|\| ClaimsEntry \|\| ClaimsEntry ...каждое значение ClaimsEntry представляет собой список AND: ClaimType=ClaimValue && ClaimType=ClaimValue && ClaimType=ClaimValue ... |
|ClientIdentities|Строка, значение по умолчанию — L""|Динамический|Идентификаторы Windows FabricClient. Шлюз службы именования использует этот параметр для аутентификации входящих подключений. Представляет собой список, разделенный запятыми. Каждая запись — это имя учетной записи домена или имя группы. Для удобства автоматически разрешается использование учетной записи, в которой выполняется файл fabric.exe. Таким образом, можно использовать ServiceFabricAllowedUsers и ServiceFabricAdministrators. |
|ClientRoleEnabled|Логическое значение, по умолчанию — false|Статическое|Указывает активацию роли клиента. При заданном значении true клиентам назначаются роли на основе их удостоверений. Активация этого параметра для V2 означает, что для клиента, которого нет в списке AdminClientCommonNames/AdminClientIdentities, доступны только операции чтения. |
|ClusterCertThumbprints|Строка, значение по умолчанию — L""|Динамический|Отпечатки сертификатов, разрешенных для присоединения к кластеру; список имен, разделенных запятыми. |
|ClusterCredentialType|Строка, по умолчанию — L"None"|Не разрешено|Указывает тип учетных данных безопасности для защиты кластера. Допустимое значение — "None/X509/Windows" |
|ClusterIdentities|Строка, значение по умолчанию — L""|Динамический|Идентификаторы Windows узлов кластера, используемые для аутентификации участников кластера. Представляет собой список, разделенный запятыми. Каждая запись — это имя учетной записи домена или имя группы. |
|ClusterSpn|Строка, значение по умолчанию — L""|Не разрешено|Имя субъекта-службы кластера, когда служба Service Fabric работает от имени отдельного пользователя домена (gMSA/учетная запись пользователя домена). Представляет собой имя субъекта-службы (SPN) прослушивателей аренды и прослушивателей в файле fabric.exe: прослушивателей федерации, внутренних прослушивателей репликации, прослушивателей службы среды выполнения и прослушивателей шлюза службы именования. Это параметр должен быть пустым при выполнении службы Service Fabric от имени учетных записей компьютера. В этом случае сторона, которая выполняет подключение, вычисляет SPN прослушивателя на основе его адреса отправки. |
|CrlCheckingFlag|Целое число без знака, по умолчанию — 0x40000000|Динамический|Флаг для проверки цепочки сертификатов по умолчанию. Его можно переопределить с помощью флага для определенного компонента. Например, Federation/X509CertChainFlags 0x10000000 CERT_CHAIN_REVOCATION_CHECK_END_CERT 0x20000000 CERT_CHAIN_REVOCATION_CHECK_CHAIN 0x40000000 CERT_CHAIN_REVOCATION_CHECK_CHAIN_EXCLUDE_ROOT 0x80000000 CERT_CHAIN_REVOCATION_CHECK_CACHE_ONLY. Значение 0 задается, чтобы отключить проверку полного списка поддерживаемых значений, записываемых с помощью значения dwFlags параметра CertGetCertificateChain, в списке отзыва сертификатов. Подробные сведения см. здесь: http://msdn.microsoft.com/library/windows/desktop/aa376078(v=vs.85).aspx. |
|CrlDisablePeriod|Интервал времени, по умолчанию — Common::TimeSpan::FromMinutes(15)|Динамический|Временной диапазон в секундах. При возможности игнорирования автономной ошибки списка отзыва сертификатов указывает длительность отключения проверки списка отзыва сертификатов для определенного сертификата после получения автономной ошибки. |
|CrlOfflineHealthReportTtl|Интервал времени, по умолчанию — Common::TimeSpan::FromMinutes(1440)|Динамический|Временной диапазон в секундах. |
|DisableFirewallRuleForDomainProfile| Логическое значение, по умолчанию — true |Статическое| Определяет, когда правило брандмауэра должно быть отключено для профиля домена. |
|DisableFirewallRuleForPrivateProfile| Логическое значение, по умолчанию — true |Статическое| Определяет, когда правило брандмауэра должно быть отключено для частного профиля. | 
|DisableFirewallRuleForPublicProfile| Логическое значение, по умолчанию — true | Статическое|Определяет, когда правило брандмауэра должно быть отключено для общего профиля. |
|FabricHostSpn| Строка, значение по умолчанию — L"" |Статическое| Имя субъекта-службы FabricHost, когда служба Service Fabric запущена от имени отдельного пользователя домена (gMSA/учетная запись пользователя домена), а узел FabricHost запущен от имени учетной записи компьютера. Представляет собой имя SPN прослушивателя IPC для FabricHost, которое по умолчанию должно быть пустым, так как FabricHost запускается от имени учетной записи компьютера. |
|IgnoreCrlOfflineError|Логическое значение, по умолчанию — false|Динамический|Указывает, следует ли игнорировать автономные ошибки списка отзыва сертификатов при проверке со стороны сервера входящих сертификатов клиентов. |
|IgnoreSvrCrlOfflineError|Логическое значение, по умолчанию — true|Динамический|Указывает, следует ли игнорировать автономные ошибки списка отзыва сертификатов при проверке со стороны клиента входящих сертификатов сервера. Значение по умолчанию — true. Атаки с помощью отозванных сертификатов сервера совершить сложнее, чем с помощью отозванных сертификатов клиентов, так как для таких атак требуются компрометация DNS. |
|ServerAuthCredentialType|Строка, по умолчанию — L"None"|Статическое|Указывает тип учетных данных безопасности для защиты обмена данными между FabricClient и кластером. Допустимое значение — "None/X509/Windows" |
|ServerCertThumbprints|Строка, значение по умолчанию — L""|Динамический|Отпечатки сертификатов сервера, используемые кластером, чтобы связываться с клиентами. Клиенты используют этот параметр для аутентификации кластера. Представляет собой список имен, разделенных запятыми. |
|SettingsX509StoreName| Строка, по умолчанию — L"MY"| Динамический|Хранилище сертификатов X509, используемое Fabric для защиты конфигурации. |
|X509Folder|Строка, по умолчанию — /var/lib/waagent|Статическое|Папка, в которой расположены сертификаты X509 и закрытые ключи. |

## <a name="securityadminclientx509names"></a>Security/AdminClientX509Names
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|PropertyGroup|X509NameMap, по умолчанию — None|Динамический| |

## <a name="securityclientaccess"></a>Security/ClientAccess
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|ActivateNode |Строка, значение по умолчанию — "Admin" |Динамический| Настройка безопасности для активации узла. |
|CancelTestCommand |Строка, значение по умолчанию — "Admin" |Динамический| Отменяет определенную тестовую команду, если она выполняется. |
|CodePackageControl |Строка, значение по умолчанию — "Admin" |Динамический| Настройка безопасности для перезапуска пакетов кода. |
|CreateApplication |Строка, значение по умолчанию — "Admin" | Динамический|Настройка безопасности для создания приложения. |
|CreateComposeDeployment|Строка, по умолчанию — L"Admin"| Динамический|Создает развертывание Compose, описываемое файлами Compose. |
|CreateName |Строка, значение по умолчанию — "Admin" |Динамический|Настройка безопасности для создания универсального кода ресурса (URI) именования. |
|CreateService |Строка, значение по умолчанию — "Admin" |Динамический| Настройка безопасности для создания службы. |
|CreateServiceFromTemplate |Строка, значение по умолчанию — "Admin" |Динамический|Настройка безопасности для создания службы на основе шаблона. |
|DeactivateNode |Строка, значение по умолчанию — "Admin" |Динамический| Настройка безопасности для деактивации узла. |
|DeactivateNodesBatch |Строка, значение по умолчанию — "Admin" |Динамический| Настройка безопасности для деактивации нескольких узлов. |
|Delete |Строка, значение по умолчанию — "Admin" |Динамический| Настройки безопасности для операции удаления клиента хранилища образов. |
|DeleteApplication |Строка, значение по умолчанию — "Admin" |Динамический| Настройка безопасности для удаления приложения. |
|DeleteComposeDeployment|Строка, по умолчанию — L"Admin"| Динамический|Удаляет развертывание Compose. |
|DeleteName |Строка, значение по умолчанию — "Admin" |Динамический|Настройка безопасности для удаления универсального кода ресурса (URI) именования. |
|DeleteService |Строка, значение по умолчанию — "Admin" |Динамический|Настройка безопасности для удаления службы. |
|EnumerateProperties |Строка, значение по умолчанию — "Admin\|\|User" | Динамический|Настройка безопасности для перечисления свойств именования. |
|EnumerateSubnames |Строка, значение по умолчанию — "Admin\|\|User" |Динамический| Настройка безопасности для перечисления универсального кода ресурса (URI) именования. |
|FileContent |Строка, значение по умолчанию — "Admin" |Динамический| Настройка безопасности для передачи клиентского файла хранилища образов (вне кластера). |
|FileDownload |Строка, значение по умолчанию — "Admin" |Динамический| Настройка безопасности для инициации скачивания клиентского файла хранилища образов (вне кластера). |
|FinishInfrastructureTask |Строка, значение по умолчанию — "Admin" |Динамический| Настройка безопасности для завершения задач инфраструктуры. |
|GetChaosReport | Строка, значение по умолчанию — "Admin\|\|User" |Динамический| Получает сведения о состоянии Chaos в определенный диапазон времени. |
|GetClusterConfiguration | Строка, значение по умолчанию — "Admin\|\|User" | Динамический|Вызывает получение конфигурации кластера в разделе. |
|GetClusterConfigurationUpgradeStatus | Строка, значение по умолчанию — "Admin\|\|User" |Динамический| Вызывает получение сведений о состоянии обновления конфигурации кластера в разделе. |
|GetFabricUpgradeStatus |Строка, значение по умолчанию — "Admin\|\|User" |Динамический| Настройка безопасности для опроса состояния обновления кластера. |
|GetNodeDeactivationStatus |Строка, значение по умолчанию — "Admin" |Динамический| Настройка безопасности для проверки состояния деактивации. |
|GetNodeTransitionProgress | Строка, значение по умолчанию — "Admin\|\|User" |Динамический| Настройка безопасности для получения сведений о ходе выполнения команды перехода узла. |
|GetPartitionDataLossProgress | Строка, значение по умолчанию — "Admin\|\|User" | Динамический|Получает сведения о ходе выполнения вызова API потери данных. |
|GetPartitionQuorumLossProgress | Строка, значение по умолчанию — "Admin\|\|User" |Динамический| Получает сведения о ходе выполнения вызова API потери кворума. |
|GetPartitionRestartProgress | Строка, значение по умолчанию — "Admin\|\|User" |Динамический| Получает сведения о ходе выполнения вызова API перезапуска раздела. |
|GetServiceDescription |Строка, значение по умолчанию — "Admin\|\|User" |Динамический| Настройка безопасности для уведомлений служб с длительным временем опроса и чтение описаний служб. |
|GetStagingLocation |Строка, значение по умолчанию — "Admin" |Динамический| Настройка безопасности для получения промежуточного расположения клиента хранилища образов. |
|GetStoreLocation |Строка, значение по умолчанию — "Admin" |Динамический| Настройка безопасности для получения расположения хранилища клиента хранилища образов. |
|GetUpgradeOrchestrationServiceState|Строка, по умолчанию — L"Admin"| Динамический|Вызывает в секции состояние GetUpgradeOrchestrationServiceState. |
|GetUpgradesPendingApproval |Строка, значение по умолчанию — "Admin" |Динамический| Приводит к ожиданию утверждения получения обновлений в разделе. |
|GetUpgradeStatus |Строка, значение по умолчанию — "Admin\|\|User" |Динамический| Настройка безопасности для опроса состояния обновления приложения. |
|InternalList |Строка, значение по умолчанию — "Admin" | Динамический|Настройка безопасности для операции вывода списка клиентских файлов хранилища образов (внутренняя). |
|InvokeInfrastructureCommand |Строка, значение по умолчанию — "Admin" |Динамический| Настройка безопасности для команд управления задачами инфраструктуры. |
|InvokeInfrastructureQuery |Строка, значение по умолчанию — "Admin\|\|User" | Динамический|Настройка безопасности для запроса задач инфраструктуры. |
|список |Строка, значение по умолчанию — "Admin\|\|User" | Динамический|Настройка безопасности для операции вывода списка клиентских файлов хранилища образов. |
|MoveNextFabricUpgradeDomain |Строка, значение по умолчанию — "Admin" |Динамический| Настройка безопасности для возобновления обновлений кластера с помощью явного домена обновления. |
|MoveNextUpgradeDomain |Строка, значение по умолчанию — "Admin" |Динамический| Настройка безопасности для возобновления обновлений приложения с помощью явного домена обновления. |
|MoveReplicaControl |Строка, значение по умолчанию — "Admin" | Динамический|Перемещение реплики. |
|NameExists |Строка, значение по умолчанию — "Admin\|\|User" | Динамический|Настройка безопасности для проверок существования универсального кода ресурса (URI) именования. |
|NodeControl |Строка, значение по умолчанию — "Admin" |Динамический| Настройка безопасности для запуска, остановки и перезапуска узлов. |
|NodeStateRemoved |Строка, значение по умолчанию — "Admin" |Динамический| Настройка безопасности для отправки сообщения об удалении узла. |
|Проверка связи |Строка, значение по умолчанию — "Admin\|\|User" |Динамический| Настройка безопасности для проверок связи клиента. |
|PredeployPackageToNode |Строка, значение по умолчанию — "Admin" |Динамический| API предварительного развертывания. |
|PrefixResolveService |Строка, значение по умолчанию — "Admin\|\|User" |Динамический| Настройка безопасности для разрешения префикса служб на основе жалоб. |
|PropertyReadBatch |Строка, значение по умолчанию — "Admin\|\|User" |Динамический| Настройка безопасности для операции чтения свойств именования. |
|PropertyWriteBatch |Строка, значение по умолчанию — "Admin" |Динамический|Настройки безопасности для операций записи свойств именования. |
|ProvisionApplicationType |Строка, значение по умолчанию — "Admin" |Динамический| Настройка безопасности для подготовки типа приложения. |
|ProvisionFabric |Строка, значение по умолчанию — "Admin" |Динамический| Настройка безопасности для подготовки MSI и (или) манифеста кластера. |
|Запрос |Строка, значение по умолчанию — "Admin\|\|User" |Динамический| Настройка безопасности для запросов. |
|RecoverPartition |Строка, значение по умолчанию — "Admin" | Динамический|Настройка безопасности для восстановления раздела. |
|RecoverPartitions |Строка, значение по умолчанию — "Admin" | Динамический|Настройка безопасности для восстановления разделов. |
|RecoverServicePartitions |Строка, значение по умолчанию — "Admin" |Динамический| Настройка безопасности для восстановления разделов службы. |
|RecoverSystemPartitions |Строка, значение по умолчанию — "Admin" |Динамический| Настройка безопасности для восстановления разделов системной службы. |
|RemoveNodeDeactivations |Строка, значение по умолчанию — "Admin" |Динамический| Настройка безопасности для отмены деактивации нескольких узлов. |
|ReportFabricUpgradeHealth |Строка, значение по умолчанию — "Admin" |Динамический| Настройка безопасности для возобновления обновлений кластера с помощью текущего процесса обновления. |
|ReportFault |Строка, значение по умолчанию — "Admin" |Динамический| Настройка безопасности для отправки сообщения об ошибке. |
|ReportHealth |Строка, значение по умолчанию — "Admin" |Динамический| Настройка безопасности для отправки сведений о работоспособности. |
|ReportUpgradeHealth |Строка, значение по умолчанию — "Admin" |Динамический| Настройка безопасности для возобновления обновлений приложения с помощью текущего процесса обновления. |
|ResetPartitionLoad |Строка, значение по умолчанию — "Admin\|\|User" |Динамический| Настройка безопасности для сброса нагрузки на единицу отработки отказа. |
|ResolveNameOwner |Строка, значение по умолчанию — "Admin\|\|User" | Динамический|Настройка безопасности для разрешения владельца универсального кода ресурса (URI) именования. |
|ResolvePartition |Строка, значение по умолчанию — "Admin\|\|User" | Динамический|Настройка безопасности для разрешения системных служб. |
|ResolveService |Строка, значение по умолчанию — "Admin\|\|User" |Динамический| Настройка безопасности для разрешения служб на основе жалоб. |
|ResolveSystemService|Строка, значение по умолчанию — L"Admin\|\|User"|Динамический| Настройка безопасности для разрешения системных служб. |
|RollbackApplicationUpgrade |Строка, значение по умолчанию — "Admin" |Динамический| Настройка безопасности для отката обновлений приложения. |
|RollbackFabricUpgrade |Строка, значение по умолчанию — "Admin" |Динамический| Настройка безопасности для отката обновлений кластера. |
|ServiceNotifications |Строка, значение по умолчанию — "Admin\|\|User" |Динамический| Настройка безопасности для уведомлений служб на основе событий. |
|SetUpgradeOrchestrationServiceState|Строка, по умолчанию — L"Admin"| Динамический|Вызывает в секции состояние SetUpgradeOrchestrationServiceState. |
|StartApprovedUpgrades |Строка, значение по умолчанию — "Admin" |Динамический| Приводит к запуску утвержденных обновлений в разделе. |
|StartChaos |Строка, значение по умолчанию — "Admin" |Динамический| Запускает Chaos, если он еще не запущен. |
|StartClusterConfigurationUpgrade |Строка, значение по умолчанию — "Admin" |Динамический| Вызывает обновление конфигурации запуска кластера в разделе. |
|StartInfrastructureTask |Строка, значение по умолчанию — "Admin" | Динамический|Настройка безопасности для запуска задач инфраструктуры. |
|StartNodeTransition |Строка, значение по умолчанию — "Admin" |Динамический| Настройка безопасности для запуска перехода узла. |
|StartPartitionDataLoss |Строка, значение по умолчанию — "Admin" |Динамический| Приводит к потере данных в разделе. |
|StartPartitionQuorumLoss |Строка, значение по умолчанию — "Admin" |Динамический| Приводит к потере кворума в разделе. |
|StartPartitionRestart |Строка, значение по умолчанию — "Admin" |Динамический| Одновременно перезапускает некоторые или все реплики раздела. |
|StopChaos |Строка, значение по умолчанию — "Admin" |Динамический| Останавливает Chaos, если он уже запущен. |
|ToggleVerboseServicePlacementHealthReporting | Строка, значение по умолчанию — "Admin\|\|User" |Динамический| Настройка безопасности для включения и выключения подробных отчетов о работоспособности размещения службы. |
|UnprovisionApplicationType |Строка, значение по умолчанию — "Admin" |Динамический| Настройка безопасности для отмены подготовки типа приложения. |
|UnprovisionFabric |Строка, значение по умолчанию — "Admin" |Динамический| Настройка безопасности для отмены подготовки MSI и (или) манифеста кластера. |
|UnreliableTransportControl |Строка, значение по умолчанию — "Admin" |Динамический| Ненадежный транспорт для добавления и удаления поведения. |
|UpdateService |Строка, значение по умолчанию — "Admin" |Динамический|Настройка безопасности для обновлений службы. |
|UpgradeApplication |Строка, значение по умолчанию — "Admin" |Динамический| Настройка безопасности для запуска или прерывания обновлений приложения. |
|UpgradeComposeDeployment|Строка, по умолчанию — L"Admin"| Динамический|Обновляет развертывание Compose. |
|UpgradeFabric |Строка, значение по умолчанию — "Admin" |Динамический| Настройка безопасности для запуска обновлений кластера. |
|Передать |Строка, значение по умолчанию — "Admin" | Динамический|Настройка безопасности для операции передачи клиента хранилища образов. |

## <a name="securityclientcertificateissuerstores"></a>Security/ClientCertificateIssuerStores
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|PropertyGroup|IssuerStoreKeyValueMap, по умолчанию — None |Динамический|Хранилища издателя сертификатов X.509 для клиентских сертификатов. Имя — clientIssuerCN, значение — разделенный запятыми список хранилищ |

## <a name="securityclientx509names"></a>Security/ClientX509Names
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|PropertyGroup|X509NameMap, по умолчанию — None|Динамический| |

## <a name="securityclustercertificateissuerstores"></a>Security/ClusterCertificateIssuerStores
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|PropertyGroup|IssuerStoreKeyValueMap, по умолчанию — None |Динамический|Хранилища издателя сертификатов X.509 для сертификатов кластера. Имя — clusterIssuerCN, значение — разделенный запятыми список хранилищ |

## <a name="securityclusterx509names"></a>Security/ClusterX509Names
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|PropertyGroup|X509NameMap, по умолчанию — None|Динамический| |

## <a name="securityservercertificateissuerstores"></a>Security/ServerCertificateIssuerStores
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|PropertyGroup|IssuerStoreKeyValueMap, по умолчанию — None |Динамический|Хранилища издателя сертификатов X.509 для сертификатов сервера. Имя — serverIssuerCN, значение — разделенный запятыми список хранилищ |

## <a name="securityserverx509names"></a>Security/ServerX509Names
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|PropertyGroup|X509NameMap, по умолчанию — None|Динамический| |

## <a name="setup"></a>Настройка
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|ContainerNetworkName|Строка, значение по умолчанию — L""| Статическое |Сетевое имя для использования при настройке сети контейнера.|
|ContainerNetworkSetup|Логическое значение, по умолчанию — false| Статическое |Указывает, нужно ли настраивать сеть контейнера.|
|FabricDataRoot |Строка | Не разрешено |Корневой каталог данных Service Fabric. По умолчанию для Azure это d:\svcfab. |
|FabricLogRoot |Строка | Не разрешено |Корневой каталог журналов Service Fabric. В нем хранятся журналы и трассировки Service Fabric. |
|NodesToBeRemoved|Строка, значение по умолчанию — ""| Динамический |Узлы, которые должны быть удалены в процессе обновления конфигурации. (Только для автономных развертываний)|
|ServiceRunAsAccountName |Строка | Не разрешено |Имя учетной записи, используемой для запуска службы узла Fabric. |
|SkipFirewallConfiguration |Логическое значение, по умолчанию — false | Не разрешено |Указывает, должна ли система настраивать параметры брандмауэра. Применяется, только если используется брандмауэр Windows. Если вы используете брандмауэры сторонних производителей, то необходимо открыть порты для системы и приложений. |

## <a name="tokenvalidationservice"></a>TokenValidationService
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|Поставщики |Строка, значение по умолчанию — "DSTS" |Статическое|Разделенный запятыми список поставщиков проверки токенов, которых можно включить (допустимые поставщики: DSTS, AAD). Сейчас в любое время может быть включен только один поставщик. |

## <a name="traceetw"></a>Trace/Etw
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|Уровень |Целое число, по умолчанию — 4 | Динамический |Уровень трассировки событий Windows может принимать значения 1, 2, 3, 4. Для обеспечения поддержки необходим уровень трассировки 4. |

## <a name="transactionalreplicator"></a>TransactionalReplicator
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|BatchAcknowledgementInterval | Время в секундах, по умолчанию — 0.015 | Статическое | Временной диапазон в секундах. Период времени, в течение которого репликатор после получения операции находится в режиме ожидания, а затем возвращает подтверждение. Подтверждения других операций, полученных в этот период, возвращаются в одном сообщении. В результате этого уменьшается сетевой трафик и пропускная способность репликатора. |
|CheckpointThresholdInMB |Целое число, по умолчанию — 50 |Статическое|При превышении этого значения использования журнала инициируется контрольная точка. |
|InitialPrimaryReplicationQueueSize |Целое число без знака, по умолчанию — 64 | Статическое |Определяет начальный размер очереди операций репликации в основном репликаторе. Обратите внимание, что это значение должно представлять собой степень числа 2.|
|InitialSecondaryReplicationQueueSize |Целое число без знака, по умолчанию — 64 | Статическое |Определяет начальный размер очереди операций репликации в дополнительном репликаторе. Обратите внимание, что это значение должно представлять собой степень числа 2. |
|MaxAccumulatedBackupLogSizeInMB |Целое число, по умолчанию — 800 |Статическое|Максимальный совокупный размер журналов архивации (в МБ) в заданной цепочке журналов архивации. Запросы на добавочную архивацию завершатся сбоем, если в результате добавочной архивации будет создан журнал архивации, из-за которого совокупный размер журналов архивации, созданных после последней полной архивации, превысит этот размер. В таких случаях пользователь должен выполнить полную архивацию. |
|MaxCopyQueueSize |Целое число без знака, по умолчанию — 16384 | Статическое |Максимальное значение, определяющее начальный размер очереди операций репликации. Обратите внимание, что это значение должно представлять собой степень числа 2. Если во время выполнения размер очереди достигает установленного значения, операция будет распределена между основным и дополнительным репликаторами. |
|MaxMetadataSizeInKB |Целое число, по умолчанию — 4 |Не разрешено|Максимальный размер метаданных в потоке журналов. |
|MaxPrimaryReplicationQueueMemorySize |Целое число без знака, по умолчанию — 0 | Статическое |Максимальное значение основной очереди репликации в байтах. |
|MaxPrimaryReplicationQueueSize |Целое число без знака, по умолчанию — 8192 | Статическое |Максимальное число операций в основной очереди репликации. Обратите внимание, что это значение должно представлять собой степень числа 2. |
|MaxRecordSizeInKB |Целое число без знака, по умолчанию — 1024 |Не разрешено| Максимальный размер записи в потоке журналов. |
|MaxReplicationMessageSize |Целое число без знака, по умолчанию — 52428800 | Статическое | Максимальный размер сообщения операций репликации. По умолчанию — 50MB. |
|MaxSecondaryReplicationQueueMemorySize |Целое число без знака, по умолчанию — 0 | Статическое |Максимальное значение дополнительной очереди репликации в байтах. |
|MaxSecondaryReplicationQueueSize |Целое число без знака, по умолчанию — 16384 | Статическое |Максимальное число операций в дополнительной очереди репликации. Обратите внимание, что это значение должно представлять собой степень числа 2. |
|MaxWriteQueueDepthInKB |Целое число, по умолчанию — 0 |Не разрешено| Целое число, определяющее максимальную длину очереди записи, которую может использовать средство ведения журнала ядра (если это значение указано в килобайтах) для журнала, связанного с этой репликой. Это значение определяет максимальный размер в байтах, неиспользуемый во время обновлений средства ведения журнала ядра. Если задать для этого параметра значение 0, средство ведения журнала ядра вычислит соответствующее значение или значение кратное 4. |
|MinLogSizeInMB |Целое число, по умолчанию — 0 |Статическое|Минимальный размер журнала транзакций. Журнал не разрешено усекать до размера меньше указанного значения. Значение 0 указывает, что минимальный размер журнала определяет репликатор в соответствии с другими параметрами. Увеличение этого значения повышает вероятность создания частичных копий и добавочных резервных копий, так как снижается допустимость усечения соответствующих записей журнала. |
|ReplicatorAddress |Строка, значение по умолчанию — "localhost:0" | Статическое | Конечная точка в формате "IP-адрес:порт", используемая репликатором Windows Fabric для установки подключений к другим репликам, чтобы отправлять и получать операции. |
|SecondaryClearAcknowledgedOperations |Логическое значение, по умолчанию — false | Статическое |Логическое значение, которое контролирует удаление операций в дополнительном репликаторе после их подтверждения в основном репликаторе (записи на диск). Если задать для этого параметра значение true, это может привести к появлению дополнительных операций чтения на диске, связанных с перехватом реплик после отработки отказа. |
|SharedLogId |Строка |Не разрешено|Идентификатор общего журнала. Это глобальный идентификатор. Он должен быть уникальным для каждого общего журнала. |
|SharedLogPath |Строка |Не разрешено|Путь к общему журналу. Если это значение не указано, используется общий журнал по умолчанию. |
|SlowApiMonitoringDuration |Время в секундах, по умолчанию — 300. |Статическое| Укажите время для API перед созданием события предупреждения о работоспособности.|

## <a name="transport"></a>Транспортировка
| **Параметр** | **Допустимые значения** |**Политика обновления** |**Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|ConnectionOpenTimeout|Интервал времени, по умолчанию — Common::TimeSpan::FromSeconds(60)|Статическое|Временной диапазон в секундах. Время ожидания установки подключения на стороне входа и приема (включая согласование безопасности в безопасном режиме). |
|ResolveOption|Строка, по умолчанию — L"unspecified"|Статическое|Определяет, каким образом устраняется проблема с полным доменным именем.  Допустимое значение — "unspecified/ipv4/ipv6". |

## <a name="upgradeorchestrationservice"></a>UpgradeOrchestrationService
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|AutoupgradeEnabled | Логическое значение, по умолчанию — true |Статическое| Автоматический опрос и обновление на основе файла состояния цели. |
|MinReplicaSetSize |Целое число, по умолчанию — 0 |Статическое |Минимальный размер набора целевых реплик для службы управления обновлениями.
|PlacementConstraints | Строка, значение по умолчанию — "" |Статическое| Ограничения на размещения для службы управления обновлениями. |
|QuorumLossWaitDuration | Время в секундах, по умолчанию — MaxValue |Статическое| Временной диапазон в секундах. Время ожидания после потери кворума для службы управления обновлениями. |
|ReplicaRestartWaitDuration | Время в секундах, по умолчанию — 60 минут|Статическое| Временной диапазон в секундах. Время ожидания перед повторным запуском репликации для службы управления обновлениями. |
|StandByReplicaKeepDuration | Время в секундах, по умолчанию — 60*24*7 минут |Статическое| Временной диапазон в секундах. Время хранения реплики, находящейся в режиме ожидания, для службы управления обновлениями. |
|TargetReplicaSetSize |Целое число, по умолчанию — 0 |Статическое |Размер набора целевых реплик для службы управления обновлениями. |
|UpgradeApprovalRequired | Логическое значение, по умолчанию — false | Статическое|Определяет, следует ли требовать утверждения администратора для изменения кода. |

## <a name="upgradeservice"></a>UpgradeService
| **Параметр** | **Допустимые значения** | **Политика обновления** | **Рекомендация или краткое описание** |
| --- | --- | --- | --- |
|BaseUrl | Строка, значение по умолчанию — "" |Статическое|Базовый URL-адрес службы обновления. |
|ClusterId | Строка, значение по умолчанию — "" |Статическое|Идентификатор кластера службы обновления. |
|CoordinatorType | Строка, значение по умолчанию — "WUTest"|Не разрешено|Тип координатора службы обновления. |
|MinReplicaSetSize | Целое число, по умолчанию — 2 |Не разрешено| Минимальный размер набора целевых реплик для службы обновления. |
|OnlyBaseUpgrade | Логическое значение, по умолчанию — false |Динамический|Только базовое обновление службы обновления. |
|PlacementConstraints |Строка, значение по умолчанию — "" |Не разрешено|Ограничения на размещения для службы обновления. |
|TargetReplicaSetSize | Целое число, по умолчанию — 3 |Не разрешено| Размер набора целевых реплик для службы обновления. |
|TestCabFolder | Строка, значение по умолчанию — "" |Статическое| Папка с CAB-файлом теста для службы обновления. |
|X509FindType | Строка, значение по умолчанию — ""|Динамический| Тип поиска сертификата X509 службы обновления. |
|X509FindValue | Строка, значение по умолчанию — "" |Динамический| Значение поиска сертификата X509 службы обновления. |
|X509SecondaryFindValue | Строка, значение по умолчанию — "" |Динамический| Дополнительное значение поиска сертификата X509 службы обновления. |
|X509StoreLocation | Строка, значение по умолчанию — "" |Динамический| Расположение хранилища X509 службы обновления. |
|X509StoreName | Строка, значение по умолчанию — "My"|Динамический|Имя хранилища X509 службы обновления. |

## <a name="next-steps"></a>Дополнительная информация
Дополнительные сведения об управлении кластерами доступны в следующих статьях.

[Добавление, смена и удаление сертификатов в кластере Azure ](service-fabric-cluster-security-update-certs-azure.md) 

